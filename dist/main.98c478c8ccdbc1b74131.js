/*! For license information please see main.98c478c8ccdbc1b74131.js.LICENSE.txt */
(()=>{var t={497:(t,e,r)=>{"use strict";r(6867),r(8778),r(8962),r(6446),r(1323),r(5173),r(7619),r(6949),r(6930),r(7454),r(1761),r(3346),r(228),r(766)},6867:(t,e,r)=>{r(1572),r(3130),r(7422),r(4348),r(6476),r(7386),r(1014),r(6919),r(3986),r(1207),r(785),r(722),r(6936),r(716),r(6060),r(2364),r(1753),r(7207),r(7579),r(1262),r(6537),r(5778),r(8519),r(3478),r(4763),r(8601),r(7824),r(825),r(9790),r(2835),r(1110),r(8513),r(3762),r(7544),r(7508),r(4311),r(4479),r(1870),r(3175),r(5455),r(3896),r(9324),r(2402),r(3319),r(2195),r(4057),r(7125),r(1899),r(2444),r(812),r(9934),r(9345),r(5320),r(6962),r(7549),r(9511),r(8836),r(3701),r(2028),r(8759),r(6194),r(83),r(8676),r(8443),r(2201),r(9465),r(8152),r(2998),r(9113),r(9629),r(52),r(7085),r(6379),r(3264),r(9251),r(636),r(6202),r(185),r(4669),r(9779),r(2498),r(7022),r(9187),r(5141),r(7154),r(8669),r(6225),r(6538),r(6827),r(6751),r(1839),r(2442),r(2883),r(8188),r(1914),r(862),r(1203),r(6892),r(6251),r(4485),r(1538),r(1375),r(4608),r(8093),r(7802),r(5662),r(6296),r(9613),r(2219),r(6856),r(4918),r(3887),r(3383),r(6763),r(3937),r(8828),r(3359),r(3059),r(8914),r(9618),r(5232),r(2345),r(4964),r(7198),r(9524),r(5134),r(9236),r(5988),r(629),r(6417),r(7847),r(9522),r(951),r(8018),r(6518),r(342),r(4330),r(2314),t.exports=r(4914)},8962:(t,e,r)=>{r(4207),t.exports=r(4914).Array.flatMap},8778:(t,e,r)=>{r(7204),t.exports=r(4914).Array.includes},1761:(t,e,r)=>{r(7883),t.exports=r(4914).Object.entries},6930:(t,e,r)=>{r(9079),t.exports=r(4914).Object.getOwnPropertyDescriptors},7454:(t,e,r)=>{r(247),t.exports=r(4914).Object.values},3346:(t,e,r)=>{"use strict";r(2219),r(331),t.exports=r(4914).Promise.finally},1323:(t,e,r)=>{r(4061),t.exports=r(4914).String.padEnd},6446:(t,e,r)=>{r(4492),t.exports=r(4914).String.padStart},7619:(t,e,r)=>{r(8830),t.exports=r(4914).String.trimRight},5173:(t,e,r)=>{r(4564),t.exports=r(4914).String.trimLeft},6949:(t,e,r)=>{r(1148),t.exports=r(8780).f("asyncIterator")},2677:(t,e,r)=>{r(4969),t.exports=r(68).global},4030:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},4386:(t,e,r)=>{var n=r(3540);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},68:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},3235:(t,e,r)=>{var n=r(4030);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},2492:(t,e,r)=>{t.exports=!r(4553)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},4239:(t,e,r)=>{var n=r(3540),o=r(6092).document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},1424:(t,e,r)=>{var n=r(6092),o=r(68),i=r(3235),u=r(6390),c=r(3350),a="prototype",f=function t(e,r,f){var s,l,y,p=e&t.F,h=e&t.G,b=e&t.S,v=e&t.P,d=e&t.B,m=e&t.W,O=h?o:o[r]||(o[r]={}),w=O[a],g=h?n:b?n[r]:(n[r]||{})[a];for(s in h&&(f=r),f)(l=!p&&g&&void 0!==g[s])&&c(O,s)||(y=l?g[s]:f[s],O[s]=h&&"function"!=typeof g[s]?f[s]:d&&l?i(y,n):m&&g[s]==y?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(y):v&&"function"==typeof y?i(Function.call,y):y,v&&((O.virtual||(O.virtual={}))[s]=y,e&t.R&&w&&!w[s]&&u(w,s,y)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},4553:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},6092:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},3350:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},6390:(t,e,r)=>{var n=r(500),o=r(515);t.exports=r(2492)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},6331:(t,e,r)=>{t.exports=!r(2492)&&!r(4553)((function(){return 7!=Object.defineProperty(r(4239)("div"),"a",{get:function(){return 7}}).a}))},3540:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return"object"===e(t)?null!==t:"function"==typeof t}},500:(t,e,r)=>{var n=r(4386),o=r(6331),i=r(1691),u=Object.defineProperty;e.f=r(2492)?Object.defineProperty:function(t,e,r){if(n(t),e=i(e,!0),n(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},515:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1691:(t,e,r)=>{var n=r(3540);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},4969:(t,e,r)=>{var n=r(1424);n(n.G,{global:r(6092)})},3666:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},6367:(t,e,r)=>{var n=r(1443);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},140:(t,e,r)=>{var n=r(2923)("unscopables"),o=Array.prototype;null==o[n]&&r(3861)(o,n,{}),t.exports=function(t){o[n][t]=!0}},2479:(t,e,r)=>{"use strict";var n=r(4112)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},1603:t=>{t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},6034:(t,e,r)=>{var n=r(2172);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},7833:(t,e,r)=>{"use strict";var n=r(5132),o=r(8589),i=r(9721);t.exports=[].copyWithin||function(t,e){var r=n(this),u=i(r.length),c=o(t,u),a=o(e,u),f=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===f?u:o(f,u))-a,u-c),l=1;for(a<c&&c<a+s&&(l=-1,a+=s-1,c+=s-1);s-- >0;)a in r?r[c]=r[a]:delete r[c],c+=l,a+=l;return r}},2231:(t,e,r)=>{"use strict";var n=r(5132),o=r(8589),i=r(9721);t.exports=function(t){for(var e=n(this),r=i(e.length),u=arguments.length,c=o(u>1?arguments[1]:void 0,r),a=u>2?arguments[2]:void 0,f=void 0===a?r:o(a,r);f>c;)e[c++]=t;return e}},6382:(t,e,r)=>{var n=r(9152),o=r(9721),i=r(8589);t.exports=function(t){return function(e,r,u){var c,a=n(e),f=o(a.length),s=i(u,f);if(t&&r!=r){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}}},9685:(t,e,r)=>{var n=r(8714),o=r(2862),i=r(5132),u=r(9721),c=r(5151);t.exports=function(t,e){var r=1==t,a=2==t,f=3==t,s=4==t,l=6==t,y=5==t||l,p=e||c;return function(e,c,h){for(var b,v,d=i(e),m=o(d),O=n(c,h,3),w=u(m.length),g=0,S=r?p(e,w):a?p(e,0):void 0;w>g;g++)if((y||g in m)&&(v=O(b=m[g],g,d),t))if(r)S[g]=v;else if(v)switch(t){case 3:return!0;case 5:return b;case 6:return g;case 2:S.push(b)}else if(s)return!1;return l?-1:f||s?s:S}}},8879:(t,e,r)=>{var n=r(3666),o=r(5132),i=r(2862),u=r(9721);t.exports=function(t,e,r,c,a){n(e);var f=o(t),s=i(f),l=u(f.length),y=a?l-1:0,p=a?-1:1;if(r<2)for(;;){if(y in s){c=s[y],y+=p;break}if(y+=p,a?y<0:l<=y)throw TypeError("Reduce of empty array with no initial value")}for(;a?y>=0:l>y;y+=p)y in s&&(c=e(c,s[y],y,f));return c}},6960:(t,e,r)=>{var n=r(2172),o=r(3749),i=r(2923)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},5151:(t,e,r)=>{var n=r(6960);t.exports=function(t,e){return new(n(t))(e)}},1123:(t,e,r)=>{"use strict";var n=r(3666),o=r(2172),i=r(5471),u=[].slice,c={};t.exports=Function.bind||function(t){var e=n(this),r=u.call(arguments,1),a=function n(){var o=r.concat(u.call(arguments));return this instanceof n?function(t,e,r){if(!(e in c)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";c[e]=Function("F,a","return new F("+n.join(",")+")")}return c[e](t,r)}(e,o.length,o):i(e,o,t)};return o(e.prototype)&&(a.prototype=e.prototype),a}},1931:(t,e,r)=>{var n=r(1443),o=r(2923)("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:i?n(e):"Object"==(u=n(e))&&"function"==typeof e.callee?"Arguments":u}},1443:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},8987:(t,e,r)=>{"use strict";var n=r(3148).f,o=r(6757),i=r(2517),u=r(8714),c=r(1603),a=r(8016),f=r(6555),s=r(3277),l=r(8699),y=r(6337),p=r(3729).fastKey,h=r(4150),b=y?"_s":"size",v=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,f){var s=t((function(t,n){c(t,s,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[b]=0,null!=n&&a(n,r,t[f],t)}));return i(s.prototype,{clear:function(){for(var t=h(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[b]=0},delete:function(t){var r=h(this,e),n=v(r,t);if(n){var o=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==n&&(r._f=o),r._l==n&&(r._l=i),r[b]--}return!!n},forEach:function(t){h(this,e);for(var r,n=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(h(this,e),t)}}),y&&n(s.prototype,"size",{get:function(){return h(this,e)[b]}}),s},def:function(t,e,r){var n,o,i=v(t,e);return i?i.v=r:(t._l=i={i:o=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=i),n&&(n.n=i),t[b]++,"F"!==o&&(t._i[o]=i)),t},getEntry:v,setStrong:function(t,e,r){f(t,e,(function(t,r){this._t=h(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?s(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,s(1))}),r?"entries":"values",!r,!0),l(e)}}},7963:(t,e,r)=>{"use strict";var n=r(2517),o=r(3729).getWeak,i=r(6034),u=r(2172),c=r(1603),a=r(8016),f=r(9685),s=r(4059),l=r(4150),y=f(5),p=f(6),h=0,b=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},d=function(t,e){return y(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=d(this,t);if(e)return e[1]},has:function(t){return!!d(this,t)},set:function(t,e){var r=d(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,i){var f=t((function(t,n){c(t,f,e,"_i"),t._t=e,t._i=h++,t._l=void 0,null!=n&&a(n,r,t[i],t)}));return n(f.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?b(l(this,e)).delete(t):r&&s(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?b(l(this,e)).has(t):r&&s(r,this._i)}}),f},def:function(t,e,r){var n=o(i(e),!0);return!0===n?b(t).set(e,r):n[t._i]=r,t},ufstore:b}},3720:(t,e,r)=>{"use strict";var n=r(6765),o=r(7569),i=r(8691),u=r(2517),c=r(3729),a=r(8016),f=r(1603),s=r(2172),l=r(6439),y=r(1435),p=r(8473),h=r(4399);t.exports=function(t,e,r,b,v,d){var m=n[t],O=m,w=v?"set":"add",g=O&&O.prototype,S={},E=function(t){var e=g[t];i(g,t,"delete"==t||"has"==t?function(t){return!(d&&!s(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return d&&!s(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof O&&(d||g.forEach&&!l((function(){(new O).entries().next()})))){var _=new O,j=_[w](d?{}:-0,1)!=_,T=l((function(){_.has(1)})),$=y((function(t){new O(t)})),P=!d&&l((function(){for(var t=new O,e=5;e--;)t[w](e,e);return!t.has(-0)}));$||((O=e((function(e,r){f(e,O,t);var n=h(new m,e,O);return null!=r&&a(r,v,n[w],n),n}))).prototype=g,g.constructor=O),(T||P)&&(E("delete"),E("has"),v&&E("get")),(P||j)&&E(w),d&&g.clear&&delete g.clear}else O=b.getConstructor(e,t,v,w),u(O.prototype,r),c.NEED=!0;return p(O,t),S[t]=O,o(o.G+o.W+o.F*(O!=m),S),d||b.setStrong(O,t,v),O}},4914:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},1429:(t,e,r)=>{"use strict";var n=r(3148),o=r(1468);t.exports=function(t,e,r){e in t?n.f(t,e,o(0,r)):t[e]=r}},8714:(t,e,r)=>{var n=r(3666);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},6953:(t,e,r)=>{"use strict";var n=r(6439),o=Date.prototype.getTime,i=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!n((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}:i},8935:(t,e,r)=>{"use strict";var n=r(6034),o=r(9666),i="number";t.exports=function(t){if("string"!==t&&t!==i&&"default"!==t)throw TypeError("Incorrect hint");return o(n(this),t!=i)}},3366:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},6337:(t,e,r)=>{t.exports=!r(6439)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5621:(t,e,r)=>{var n=r(2172),o=r(6765).document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},8099:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},6609:(t,e,r)=>{var n=r(7244),o=r(2932),i=r(8240);t.exports=function(t){var e=n(t),r=o.f;if(r)for(var u,c=r(t),a=i.f,f=0;c.length>f;)a.call(t,u=c[f++])&&e.push(u);return e}},7569:(t,e,r)=>{var n=r(6765),o=r(4914),i=r(3861),u=r(8691),c=r(8714),a="prototype",f=function t(e,r,f){var s,l,y,p,h=e&t.F,b=e&t.G,v=e&t.P,d=e&t.B,m=b?n:e&t.S?n[r]||(n[r]={}):(n[r]||{})[a],O=b?o:o[r]||(o[r]={}),w=O[a]||(O[a]={});for(s in b&&(f=r),f)y=((l=!h&&m&&void 0!==m[s])?m:f)[s],p=d&&l?c(y,n):v&&"function"==typeof y?c(Function.call,y):y,m&&u(m,s,y,e&t.U),O[s]!=y&&i(O,s,p),v&&w[s]!=y&&(w[s]=y)};n.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},4450:(t,e,r)=>{var n=r(2923)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},6439:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7662:(t,e,r)=>{"use strict";r(1375);var n=r(8691),o=r(3861),i=r(6439),u=r(3366),c=r(2923),a=r(8203),f=c("species"),s=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var y=c(t),p=!i((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),h=p?!i((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[f]=function(){return r}),r[y](""),!e})):void 0;if(!p||!h||"replace"===t&&!s||"split"===t&&!l){var b=/./[y],v=r(u,y,""[t],(function(t,e,r,n,o){return e.exec===a?p&&!o?{done:!0,value:b.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),d=v[0],m=v[1];n(String.prototype,t,d),o(RegExp.prototype,y,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},5274:(t,e,r)=>{"use strict";var n=r(6034);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},8389:(t,e,r)=>{"use strict";var n=r(3749),o=r(2172),i=r(9721),u=r(8714),c=r(2923)("isConcatSpreadable");t.exports=function t(e,r,a,f,s,l,y,p){for(var h,b,v=s,d=0,m=!!y&&u(y,p,3);d<f;){if(d in a){if(h=m?m(a[d],d,r):a[d],b=!1,o(h)&&(b=void 0!==(b=h[c])?!!b:n(h)),b&&l>0)v=t(e,r,h,i(h.length),v,l-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=h}v++}d++}return v}},8016:(t,e,r)=>{var n=r(8714),o=r(9796),i=r(2046),u=r(6034),c=r(9721),a=r(8095),f={},s={},l=t.exports=function(t,e,r,l,y){var p,h,b,v,d=y?function(){return t}:a(t),m=n(r,l,e?2:1),O=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(i(d)){for(p=c(t.length);p>O;O++)if((v=e?m(u(h=t[O])[0],h[1]):m(t[O]))===f||v===s)return v}else for(b=d.call(t);!(h=b.next()).done;)if((v=o(b,m,h.value,e))===f||v===s)return v};l.BREAK=f,l.RETURN=s},8645:(t,e,r)=>{t.exports=r(6368)("native-function-to-string",Function.toString)},6765:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},4059:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},3861:(t,e,r)=>{var n=r(3148),o=r(1468);t.exports=r(6337)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9793:(t,e,r)=>{var n=r(6765).document;t.exports=n&&n.documentElement},1334:(t,e,r)=>{t.exports=!r(6337)&&!r(6439)((function(){return 7!=Object.defineProperty(r(5621)("div"),"a",{get:function(){return 7}}).a}))},4399:(t,e,r)=>{var n=r(2172),o=r(1273).set;t.exports=function(t,e,r){var i,u=e.constructor;return u!==r&&"function"==typeof u&&(i=u.prototype)!==r.prototype&&n(i)&&o&&o(t,i),t}},5471:t=>{t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},2862:(t,e,r)=>{var n=r(1443);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},2046:(t,e,r)=>{var n=r(1426),o=r(2923)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},3749:(t,e,r)=>{var n=r(1443);t.exports=Array.isArray||function(t){return"Array"==n(t)}},5776:(t,e,r)=>{var n=r(2172),o=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&o(t)===t}},2172:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){return"object"===e(t)?null!==t:"function"==typeof t}},1017:(t,e,r)=>{var n=r(2172),o=r(1443),i=r(2923)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},9796:(t,e,r)=>{var n=r(6034);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},666:(t,e,r)=>{"use strict";var n=r(6757),o=r(1468),i=r(8473),u={};r(3861)(u,r(2923)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(u,{next:o(1,r)}),i(t,e+" Iterator")}},6555:(t,e,r)=>{"use strict";var n=r(4035),o=r(7569),i=r(8691),u=r(3861),c=r(1426),a=r(666),f=r(8473),s=r(4718),l=r(2923)("iterator"),y=!([].keys&&"next"in[].keys()),p="keys",h="values",b=function(){return this};t.exports=function(t,e,r,v,d,m,O){a(r,e,v);var w,g,S,E=function(t){if(!y&&t in $)return $[t];switch(t){case p:case h:return function(){return new r(this,t)}}return function(){return new r(this,t)}},_=e+" Iterator",j=d==h,T=!1,$=t.prototype,P=$[l]||$["@@iterator"]||d&&$[d],k=P||E(d),R=d?j?E("entries"):k:void 0,I="Array"==e&&$.entries||P;if(I&&(S=s(I.call(new t)))!==Object.prototype&&S.next&&(f(S,_,!0),n||"function"==typeof S[l]||u(S,l,b)),j&&P&&P.name!==h&&(T=!0,k=function(){return P.call(this)}),n&&!O||!y&&!T&&$[l]||u($,l,k),c[e]=k,c[_]=b,d)if(w={values:j?k:E(h),keys:m?k:E(p),entries:R},O)for(g in w)g in $||i($,g,w[g]);else o(o.P+o.F*(y||T),e,w);return w}},1435:(t,e,r)=>{var n=r(2923)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i=[7],u=i[n]();u.next=function(){return{done:r=!0}},i[n]=function(){return u},t(i)}catch(t){}return r}},3277:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},1426:t=>{t.exports={}},4035:t=>{t.exports=!1},6534:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4195:(t,e,r)=>{var n=r(8610),o=Math.pow,i=o(2,-52),u=o(2,-23),c=o(2,127)*(2-u),a=o(2,-126);t.exports=Math.fround||function(t){var e,r,o=Math.abs(t),f=n(t);return o<a?f*(o/a/u+1/i-1/i)*a*u:(r=(e=(1+u/i)*o)-(e-o))>c||r!=r?f*(1/0):f*r}},5192:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},8610:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},3729:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(9995)("meta"),i=r(2172),u=r(4059),c=r(3148).f,a=0,f=Object.isExtensible||function(){return!0},s=!r(6439)((function(){return f(Object.preventExtensions({}))})),l=function(t){c(t,o,{value:{i:"O"+ ++a,w:{}}})},y=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==n(t)?t:("string"==typeof t?"S":"P")+t;if(!u(t,o)){if(!f(t))return"F";if(!e)return"E";l(t)}return t[o].i},getWeak:function(t,e){if(!u(t,o)){if(!f(t))return!0;if(!e)return!1;l(t)}return t[o].w},onFreeze:function(t){return s&&y.NEED&&f(t)&&!u(t,o)&&l(t),t}}},9108:(t,e,r)=>{var n=r(6765),o=r(9731).set,i=n.MutationObserver||n.WebKitMutationObserver,u=n.process,c=n.Promise,a="process"==r(1443)(u);t.exports=function(){var t,e,r,f=function(){var n,o;for(a&&(n=u.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(a)r=function(){u.nextTick(f)};else if(!i||n.navigator&&n.navigator.standalone)if(c&&c.resolve){var s=c.resolve(void 0);r=function(){s.then(f)}}else r=function(){o.call(n,f)};else{var l=!0,y=document.createTextNode("");new i(f).observe(y,{characterData:!0}),r=function(){y.data=l=!l}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}},4993:(t,e,r)=>{"use strict";var n=r(3666);function o(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new o(t)}},6798:(t,e,r)=>{"use strict";var n=r(6337),o=r(7244),i=r(2932),u=r(8240),c=r(5132),a=r(2862),f=Object.assign;t.exports=!f||r(6439)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||Object.keys(f({},e)).join("")!=n}))?function(t,e){for(var r=c(t),f=arguments.length,s=1,l=i.f,y=u.f;f>s;)for(var p,h=a(arguments[s++]),b=l?o(h).concat(l(h)):o(h),v=b.length,d=0;v>d;)p=b[d++],n&&!y.call(h,p)||(r[p]=h[p]);return r}:f},6757:(t,e,r)=>{var n=r(6034),o=r(5790),i=r(8099),u=r(5596)("IE_PROTO"),c=function(){},a="prototype",f=function(){var t,e=r(5621)("iframe"),n=i.length;for(e.style.display="none",r(9793).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f[a][i[n]];return f()};t.exports=Object.create||function(t,e){var r;return null!==t?(c[a]=n(t),r=new c,c[a]=null,r[u]=t):r=f(),void 0===e?r:o(r,e)}},3148:(t,e,r)=>{var n=r(6034),o=r(1334),i=r(9666),u=Object.defineProperty;e.f=r(6337)?Object.defineProperty:function(t,e,r){if(n(t),e=i(e,!0),n(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},5790:(t,e,r)=>{var n=r(3148),o=r(6034),i=r(7244);t.exports=r(6337)?Object.defineProperties:function(t,e){o(t);for(var r,u=i(e),c=u.length,a=0;c>a;)n.f(t,r=u[a++],e[r]);return t}},425:(t,e,r)=>{var n=r(8240),o=r(1468),i=r(9152),u=r(9666),c=r(4059),a=r(1334),f=Object.getOwnPropertyDescriptor;e.f=r(6337)?f:function(t,e){if(t=i(t),e=u(e,!0),a)try{return f(t,e)}catch(t){}if(c(t,e))return o(!n.f.call(t,e),t[e])}},5492:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(9152),i=r(3195).f,u={}.toString,c="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return c&&"[object Window]"==u.call(t)?function(t){try{return i(t)}catch(t){return c.slice()}}(t):i(o(t))}},3195:(t,e,r)=>{var n=r(105),o=r(8099).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2932:(t,e)=>{e.f=Object.getOwnPropertySymbols},4718:(t,e,r)=>{var n=r(4059),o=r(5132),i=r(5596)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},105:(t,e,r)=>{var n=r(4059),o=r(9152),i=r(6382)(!1),u=r(5596)("IE_PROTO");t.exports=function(t,e){var r,c=o(t),a=0,f=[];for(r in c)r!=u&&n(c,r)&&f.push(r);for(;e.length>a;)n(c,r=e[a++])&&(~i(f,r)||f.push(r));return f}},7244:(t,e,r)=>{var n=r(105),o=r(8099);t.exports=Object.keys||function(t){return n(t,o)}},8240:(t,e)=>{e.f={}.propertyIsEnumerable},3275:(t,e,r)=>{var n=r(7569),o=r(4914),i=r(6439);t.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],u={};u[t]=e(r),n(n.S+n.F*i((function(){r(1)})),"Object",u)}},2768:(t,e,r)=>{var n=r(6337),o=r(7244),i=r(9152),u=r(8240).f;t.exports=function(t){return function(e){for(var r,c=i(e),a=o(c),f=a.length,s=0,l=[];f>s;)r=a[s++],n&&!u.call(c,r)||l.push(t?[r,c[r]]:c[r]);return l}}},1664:(t,e,r)=>{var n=r(3195),o=r(2932),i=r(6034),u=r(6765).Reflect;t.exports=u&&u.ownKeys||function(t){var e=n.f(i(t)),r=o.f;return r?e.concat(r(t)):e}},3812:(t,e,r)=>{var n=r(6765).parseFloat,o=r(3110).trim;t.exports=1/n(r(1614)+"-0")!=-1/0?function(t){var e=o(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},361:(t,e,r)=>{var n=r(6765).parseInt,o=r(3110).trim,i=r(1614),u=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(t,e){var r=o(String(t),3);return n(r,e>>>0||(u.test(r)?16:10))}:n},3495:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},6650:(t,e,r)=>{var n=r(6034),o=r(2172),i=r(4993);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},1468:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2517:(t,e,r)=>{var n=r(8691);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},8691:(t,e,r)=>{var n=r(6765),o=r(3861),i=r(4059),u=r(9995)("src"),c=r(8645),a="toString",f=(""+c).split(a);r(4914).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,r,c){var a="function"==typeof r;a&&(i(r,"name")||o(r,"name",e)),t[e]!==r&&(a&&(i(r,u)||o(r,u,t[e]?""+t[e]:f.join(String(e)))),t===n?t[e]=r:c?t[e]?t[e]=r:o(t,e,r):(delete t[e],o(t,e,r)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[u]||c.call(this)}))},2730:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(1931),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var u=r.call(t,e);if("object"!==n(u))throw new TypeError("RegExp exec method returned something other than an Object or null");return u}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},8203:(t,e,r)=>{"use strict";var n,o,i=r(5274),u=RegExp.prototype.exec,c=String.prototype.replace,a=u,f="lastIndex",s=(n=/a/,o=/b*/g,u.call(n,"a"),u.call(o,"a"),0!==n[f]||0!==o[f]),l=void 0!==/()??/.exec("")[1];(s||l)&&(a=function(t){var e,r,n,o,a=this;return l&&(r=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),s&&(e=a[f]),n=u.call(a,t),s&&n&&(a[f]=a.global?n.index+n[0].length:e),l&&n&&n.length>1&&c.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=a},936:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},1273:(t,e,r)=>{var n=r(2172),o=r(6034),i=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(8714)(Function.call,r(425).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},8699:(t,e,r)=>{"use strict";var n=r(6765),o=r(3148),i=r(6337),u=r(2923)("species");t.exports=function(t){var e=n[t];i&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},8473:(t,e,r)=>{var n=r(3148).f,o=r(4059),i=r(2923)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},5596:(t,e,r)=>{var n=r(6368)("keys"),o=r(9995);t.exports=function(t){return n[t]||(n[t]=o(t))}},6368:(t,e,r)=>{var n=r(4914),o=r(6765),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,e){return u[t]||(u[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(4035)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},3279:(t,e,r)=>{var n=r(6034),o=r(3666),i=r(2923)("species");t.exports=function(t,e){var r,u=n(t).constructor;return void 0===u||null==(r=n(u)[i])?e:o(r)}},3243:(t,e,r)=>{"use strict";var n=r(6439);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4112:(t,e,r)=>{var n=r(2914),o=r(3366);t.exports=function(t){return function(e,r){var i,u,c=String(o(e)),a=n(r),f=c.length;return a<0||a>=f?t?"":void 0:(i=c.charCodeAt(a))<55296||i>56319||a+1===f||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):i:t?c.slice(a,a+2):u-56320+(i-55296<<10)+65536}}},3246:(t,e,r)=>{var n=r(1017),o=r(3366);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(t))}},6630:(t,e,r)=>{var n=r(7569),o=r(6439),i=r(3366),u=/"/g,c=function(t,e,r,n){var o=String(i(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+String(n).replace(u,"&quot;")+'"'),c+">"+o+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(c),n(n.P+n.F*o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},8217:(t,e,r)=>{var n=r(9721),o=r(6434),i=r(3366);t.exports=function(t,e,r,u){var c=String(i(t)),a=c.length,f=void 0===r?" ":String(r),s=n(e);if(s<=a||""==f)return c;var l=s-a,y=o.call(f,Math.ceil(l/f.length));return y.length>l&&(y=y.slice(0,l)),u?y+c:c+y}},6434:(t,e,r)=>{"use strict";var n=r(2914),o=r(3366);t.exports=function(t){var e=String(o(this)),r="",i=n(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},3110:(t,e,r)=>{var n=r(7569),o=r(3366),i=r(6439),u=r(1614),c="["+u+"]",a=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),s=function(t,e,r){var o={},c=i((function(){return!!u[t]()||"​"!="​"[t]()})),a=o[t]=c?e(l):u[t];r&&(o[r]=a),n(n.P+n.F*c,"String",o)},l=s.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(f,"")),t};t.exports=s},1614:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},9731:(t,e,r)=>{var n,o,i,u=r(8714),c=r(5471),a=r(9793),f=r(5621),s=r(6765),l=s.process,y=s.setImmediate,p=s.clearImmediate,h=s.MessageChannel,b=s.Dispatch,v=0,d={},m="onreadystatechange",O=function(){var t=+this;if(d.hasOwnProperty(t)){var e=d[t];delete d[t],e()}},w=function(t){O.call(t.data)};y&&p||(y=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return d[++v]=function(){c("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete d[t]},"process"==r(1443)(l)?n=function(t){l.nextTick(u(O,t,1))}:b&&b.now?n=function(t){b.now(u(O,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=w,n=u(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(n=function(t){s.postMessage(t+"","*")},s.addEventListener("message",w,!1)):n=m in f("script")?function(t){a.appendChild(f("script"))[m]=function(){a.removeChild(this),O.call(t)}}:function(t){setTimeout(u(O,t,1),0)}),t.exports={set:y,clear:p}},8589:(t,e,r)=>{var n=r(2914),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):i(t,e)}},6007:(t,e,r)=>{var n=r(2914),o=r(9721);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw RangeError("Wrong length!");return r}},2914:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},9152:(t,e,r)=>{var n=r(2862),o=r(3366);t.exports=function(t){return n(o(t))}},9721:(t,e,r)=>{var n=r(2914),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},5132:(t,e,r)=>{var n=r(3366);t.exports=function(t){return Object(n(t))}},9666:(t,e,r)=>{var n=r(2172);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},4654:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}if(r(6337)){var o=r(4035),i=r(6765),u=r(6439),c=r(7569),a=r(153),f=r(4866),s=r(8714),l=r(1603),y=r(1468),p=r(3861),h=r(2517),b=r(2914),v=r(9721),d=r(6007),m=r(8589),O=r(9666),w=r(4059),g=r(1931),S=r(2172),E=r(5132),_=r(2046),j=r(6757),T=r(4718),$=r(3195).f,P=r(8095),k=r(9995),R=r(2923),I=r(9685),A=r(6382),L=r(3279),N=r(4485),x=r(1426),B=r(1435),K=r(8699),Z=r(2231),C=r(7833),H=r(3148),D=r(425),M=H.f,F=D.f,U=i.RangeError,G=i.TypeError,W=i.Uint8Array,V="ArrayBuffer",Y="Shared"+V,X="BYTES_PER_ELEMENT",z="prototype",Q=Array[z],q=f.ArrayBuffer,J=f.DataView,tt=I(0),et=I(2),rt=I(3),nt=I(4),ot=I(5),it=I(6),ut=A(!0),ct=A(!1),at=N.values,ft=N.keys,st=N.entries,lt=Q.lastIndexOf,yt=Q.reduce,pt=Q.reduceRight,ht=Q.join,bt=Q.sort,vt=Q.slice,dt=Q.toString,mt=Q.toLocaleString,Ot=R("iterator"),wt=R("toStringTag"),gt=k("typed_constructor"),St=k("def_constructor"),Et=a.CONSTR,_t=a.TYPED,jt=a.VIEW,Tt="Wrong length!",$t=I(1,(function(t,e){return At(L(t,t[St]),e)})),Pt=u((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),kt=!!W&&!!W[z].set&&u((function(){new W(1).set({})})),Rt=function(t,e){var r=b(t);if(r<0||r%e)throw U("Wrong offset!");return r},It=function(t){if(S(t)&&_t in t)return t;throw G(t+" is not a typed array!")},At=function(t,e){if(!S(t)||!(gt in t))throw G("It is not a typed array constructor!");return new t(e)},Lt=function(t,e){return Nt(L(t,t[St]),e)},Nt=function(t,e){for(var r=0,n=e.length,o=At(t,n);n>r;)o[r]=e[r++];return o},xt=function(t,e,r){M(t,e,{get:function(){return this._d[r]}})},Bt=function(t){var e,r,n,o,i,u,c=E(t),a=arguments.length,f=a>1?arguments[1]:void 0,l=void 0!==f,y=P(c);if(null!=y&&!_(y)){for(u=y.call(c),n=[],e=0;!(i=u.next()).done;e++)n.push(i.value);c=n}for(l&&a>2&&(f=s(f,arguments[2],2)),e=0,r=v(c.length),o=At(this,r);r>e;e++)o[e]=l?f(c[e],e):c[e];return o},Kt=function(){for(var t=0,e=arguments.length,r=At(this,e);e>t;)r[t]=arguments[t++];return r},Zt=!!W&&u((function(){mt.call(new W(1))})),Ct=function(){return mt.apply(Zt?vt.call(It(this)):It(this),arguments)},Ht={copyWithin:function(t,e){return C.call(It(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(It(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return Z.apply(It(this),arguments)},filter:function(t){return Lt(this,et(It(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return ot(It(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(It(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){tt(It(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ct(It(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ut(It(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(It(this),arguments)},lastIndexOf:function(t){return lt.apply(It(this),arguments)},map:function(t){return $t(It(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return yt.apply(It(this),arguments)},reduceRight:function(t){return pt.apply(It(this),arguments)},reverse:function(){for(var t,e=this,r=It(e).length,n=Math.floor(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e},some:function(t){return rt(It(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return bt.call(It(this),t)},subarray:function(t,e){var r=It(this),n=r.length,o=m(t,n);return new(L(r,r[St]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,v((void 0===e?n:m(e,n))-o))}},Dt=function(t,e){return Lt(this,vt.call(It(this),t,e))},Mt=function(t){It(this);var e=Rt(arguments[1],1),r=this.length,n=E(t),o=v(n.length),i=0;if(o+e>r)throw U(Tt);for(;i<o;)this[e+i]=n[i++]},Ft={entries:function(){return st.call(It(this))},keys:function(){return ft.call(It(this))},values:function(){return at.call(It(this))}},Ut=function(t,e){return S(t)&&t[_t]&&"symbol"!=n(e)&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Ut(t,e=O(e,!0))?y(2,t[e]):F(t,e)},Wt=function(t,e,r){return!(Ut(t,e=O(e,!0))&&S(r)&&w(r,"value"))||w(r,"get")||w(r,"set")||r.configurable||w(r,"writable")&&!r.writable||w(r,"enumerable")&&!r.enumerable?M(t,e,r):(t[e]=r.value,t)};Et||(D.f=Gt,H.f=Wt),c(c.S+c.F*!Et,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Wt}),u((function(){dt.call({})}))&&(dt=mt=function(){return ht.call(this)});var Vt=h({},Ht);h(Vt,Ft),p(Vt,Ot,Ft.values),h(Vt,{slice:Dt,set:Mt,constructor:function(){},toString:dt,toLocaleString:Ct}),xt(Vt,"buffer","b"),xt(Vt,"byteOffset","o"),xt(Vt,"byteLength","l"),xt(Vt,"length","e"),M(Vt,wt,{get:function(){return this[_t]}}),t.exports=function(t,e,r,n){var f=t+((n=!!n)?"Clamped":"")+"Array",s="get"+t,y="set"+t,h=i[f],b=h||{},m=h&&T(h),O=!h||!a.ABV,w={},E=h&&h[z],_=function(t,r){M(t,r,{get:function(){return function(t,r){var n=t._d;return n.v[s](r*e+n.o,Pt)}(this,r)},set:function(t){return function(t,r,o){var i=t._d;n&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),i.v[y](r*e+i.o,o,Pt)}(this,r,t)},enumerable:!0})};O?(h=r((function(t,r,n,o){l(t,h,f,"_d");var i,u,c,a,s=0,y=0;if(S(r)){if(!(r instanceof q||(a=g(r))==V||a==Y))return _t in r?Nt(h,r):Bt.call(h,r);i=r,y=Rt(n,e);var b=r.byteLength;if(void 0===o){if(b%e)throw U(Tt);if((u=b-y)<0)throw U(Tt)}else if((u=v(o)*e)+y>b)throw U(Tt);c=u/e}else c=d(r),i=new q(u=c*e);for(p(t,"_d",{b:i,o:y,l:u,e:c,v:new J(i)});s<c;)_(t,s++)})),E=h[z]=j(Vt),p(E,"constructor",h)):u((function(){h(1)}))&&u((function(){new h(-1)}))&&B((function(t){new h,new h(null),new h(1.5),new h(t)}),!0)||(h=r((function(t,r,n,o){var i;return l(t,h,f),S(r)?r instanceof q||(i=g(r))==V||i==Y?void 0!==o?new b(r,Rt(n,e),o):void 0!==n?new b(r,Rt(n,e)):new b(r):_t in r?Nt(h,r):Bt.call(h,r):new b(d(r))})),tt(m!==Function.prototype?$(b).concat($(m)):$(b),(function(t){t in h||p(h,t,b[t])})),h[z]=E,o||(E.constructor=h));var P=E[Ot],k=!!P&&("values"==P.name||null==P.name),R=Ft.values;p(h,gt,!0),p(E,_t,f),p(E,jt,!0),p(E,St,h),(n?new h(1)[wt]==f:wt in E)||M(E,wt,{get:function(){return f}}),w[f]=h,c(c.G+c.W+c.F*(h!=b),w),c(c.S,f,{BYTES_PER_ELEMENT:e}),c(c.S+c.F*u((function(){b.of.call(h,1)})),f,{from:Bt,of:Kt}),X in E||p(E,X,e),c(c.P,f,Ht),K(f),c(c.P+c.F*kt,f,{set:Mt}),c(c.P+c.F*!k,f,Ft),o||E.toString==dt||(E.toString=dt),c(c.P+c.F*u((function(){new h(1).slice()})),f,{slice:Dt}),c(c.P+c.F*(u((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!u((function(){E.toLocaleString.call([1,2])}))),f,{toLocaleString:Ct}),x[f]=k?P:R,o||k||p(E,Ot,R)}}else t.exports=function(){}},4866:(t,e,r)=>{"use strict";var n=r(6765),o=r(6337),i=r(4035),u=r(153),c=r(3861),a=r(2517),f=r(6439),s=r(1603),l=r(2914),y=r(9721),p=r(6007),h=r(3195).f,b=r(3148).f,v=r(2231),d=r(8473),m="ArrayBuffer",O="DataView",w="prototype",g="Wrong index!",S=n[m],E=n[O],_=n.Math,j=n.RangeError,T=n.Infinity,$=S,P=_.abs,k=_.pow,R=_.floor,I=_.log,A=_.LN2,L="buffer",N="byteLength",x="byteOffset",B=o?"_b":L,K=o?"_l":N,Z=o?"_o":x;function C(t,e,r){var n,o,i,u=new Array(r),c=8*r-e-1,a=(1<<c)-1,f=a>>1,s=23===e?k(2,-24)-k(2,-77):0,l=0,y=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===T?(o=t!=t?1:0,n=a):(n=R(I(t)/A),t*(i=k(2,-n))<1&&(n--,i*=2),(t+=n+f>=1?s/i:s*k(2,1-f))*i>=2&&(n++,i/=2),n+f>=a?(o=0,n=a):n+f>=1?(o=(t*i-1)*k(2,e),n+=f):(o=t*k(2,f-1)*k(2,e),n=0));e>=8;u[l++]=255&o,o/=256,e-=8);for(n=n<<e|o,c+=e;c>0;u[l++]=255&n,n/=256,c-=8);return u[--l]|=128*y,u}function H(t,e,r){var n,o=8*r-e-1,i=(1<<o)-1,u=i>>1,c=o-7,a=r-1,f=t[a--],s=127&f;for(f>>=7;c>0;s=256*s+t[a],a--,c-=8);for(n=s&(1<<-c)-1,s>>=-c,c+=e;c>0;n=256*n+t[a],a--,c-=8);if(0===s)s=1-u;else{if(s===i)return n?NaN:f?-T:T;n+=k(2,e),s-=u}return(f?-1:1)*n*k(2,s-e)}function D(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function M(t){return[255&t]}function F(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return C(t,52,8)}function W(t){return C(t,23,4)}function V(t,e,r){b(t[w],e,{get:function(){return this[r]}})}function Y(t,e,r,n){var o=p(+r);if(o+e>t[K])throw j(g);var i=t[B]._b,u=o+t[Z],c=i.slice(u,u+e);return n?c:c.reverse()}function X(t,e,r,n,o,i){var u=p(+r);if(u+e>t[K])throw j(g);for(var c=t[B]._b,a=u+t[Z],f=n(+o),s=0;s<e;s++)c[a+s]=f[i?s:e-s-1]}if(u.ABV){if(!f((function(){S(1)}))||!f((function(){new S(-1)}))||f((function(){return new S,new S(1.5),new S(NaN),S.name!=m}))){for(var z,Q=(S=function(t){return s(this,S),new $(p(t))})[w]=$[w],q=h($),J=0;q.length>J;)(z=q[J++])in S||c(S,z,$[z]);i||(Q.constructor=S)}var tt=new E(new S(2)),et=E[w].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||a(E[w],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else S=function(t){s(this,S,m);var e=p(t);this._b=v.call(new Array(e),0),this[K]=e},E=function(t,e,r){s(this,E,O),s(t,S,O);var n=t[K],o=l(e);if(o<0||o>n)throw j("Wrong offset!");if(o+(r=void 0===r?n-o:y(r))>n)throw j("Wrong length!");this[B]=t,this[Z]=o,this[K]=r},o&&(V(S,N,"_l"),V(E,L,"_b"),V(E,N,"_l"),V(E,x,"_o")),a(E[w],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return D(Y(this,4,t,arguments[1]))},getUint32:function(t){return D(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return H(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return H(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,M,e)},setUint8:function(t,e){X(this,1,t,M,e)},setInt16:function(t,e){X(this,2,t,F,e,arguments[2])},setUint16:function(t,e){X(this,2,t,F,e,arguments[2])},setInt32:function(t,e){X(this,4,t,U,e,arguments[2])},setUint32:function(t,e){X(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,G,e,arguments[2])}});d(S,m),d(E,O),c(E[w],u.VIEW,!0),e[m]=S,e[O]=E},153:(t,e,r)=>{for(var n,o=r(6765),i=r(3861),u=r(9995),c=u("typed_array"),a=u("view"),f=!(!o.ArrayBuffer||!o.DataView),s=f,l=0,y="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(n=o[y[l++]])?(i(n.prototype,c,!0),i(n.prototype,a,!0)):s=!1;t.exports={ABV:f,CONSTR:s,TYPED:c,VIEW:a}},9995:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},7378:(t,e,r)=>{var n=r(6765).navigator;t.exports=n&&n.userAgent||""},4150:(t,e,r)=>{var n=r(2172);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},9117:(t,e,r)=>{var n=r(6765),o=r(4914),i=r(4035),u=r(8780),c=r(3148).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:u.f(t)})}},8780:(t,e,r)=>{e.f=r(2923)},2923:(t,e,r)=>{var n=r(6368)("wks"),o=r(9995),i=r(6765).Symbol,u="function"==typeof i;(t.exports=function(t){return n[t]||(n[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=n},8095:(t,e,r)=>{var n=r(1931),o=r(2923)("iterator"),i=r(1426);t.exports=r(4914).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},1914:(t,e,r)=>{var n=r(7569);n(n.P,"Array",{copyWithin:r(7833)}),r(140)("copyWithin")},6751:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(4);n(n.P+n.F*!r(3243)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},862:(t,e,r)=>{var n=r(7569);n(n.P,"Array",{fill:r(2231)}),r(140)("fill")},6538:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(2);n(n.P+n.F*!r(3243)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},6892:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(6),i="findIndex",u=!0;i in[]&&Array(1)[i]((function(){u=!1})),n(n.P+n.F*u,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(140)(i)},1203:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(5),i="find",u=!0;i in[]&&Array(1)[i]((function(){u=!1})),n(n.P+n.F*u,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(140)(i)},8669:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(0),i=r(3243)([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},2498:(t,e,r)=>{"use strict";var n=r(8714),o=r(7569),i=r(5132),u=r(9796),c=r(2046),a=r(9721),f=r(1429),s=r(8095);o(o.S+o.F*!r(1435)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,o,l,y=i(t),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,d=0,m=s(y);if(v&&(b=n(b,h>2?arguments[2]:void 0,2)),null==m||p==Array&&c(m))for(r=new p(e=a(y.length));e>d;d++)f(r,d,v?b(y[d],d):y[d]);else for(l=m.call(y),r=new p;!(o=l.next()).done;d++)f(r,d,v?u(l,b,[o.value,d],!0):o.value);return r.length=d,r}})},2883:(t,e,r)=>{"use strict";var n=r(7569),o=r(6382)(!1),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(u||!r(3243)(i)),"Array",{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},9779:(t,e,r)=>{var n=r(7569);n(n.S,"Array",{isArray:r(3749)})},4485:(t,e,r)=>{"use strict";var n=r(140),o=r(3277),i=r(1426),u=r(9152);t.exports=r(6555)(Array,"Array",(function(t,e){this._t=u(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},9187:(t,e,r)=>{"use strict";var n=r(7569),o=r(9152),i=[].join;n(n.P+n.F*(r(2862)!=Object||!r(3243)(i)),"Array",{join:function(t){return i.call(o(this),void 0===t?",":t)}})},8188:(t,e,r)=>{"use strict";var n=r(7569),o=r(9152),i=r(2914),u=r(9721),c=[].lastIndexOf,a=!!c&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(a||!r(3243)(c)),"Array",{lastIndexOf:function(t){if(a)return c.apply(this,arguments)||0;var e=o(this),r=u(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},6225:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(1);n(n.P+n.F*!r(3243)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},7022:(t,e,r)=>{"use strict";var n=r(7569),o=r(1429);n(n.S+n.F*r(6439)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)o(r,t,arguments[t++]);return r.length=e,r}})},2442:(t,e,r)=>{"use strict";var n=r(7569),o=r(8879);n(n.P+n.F*!r(3243)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},1839:(t,e,r)=>{"use strict";var n=r(7569),o=r(8879);n(n.P+n.F*!r(3243)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},5141:(t,e,r)=>{"use strict";var n=r(7569),o=r(9793),i=r(1443),u=r(8589),c=r(9721),a=[].slice;n(n.P+n.F*r(6439)((function(){o&&a.call(o)})),"Array",{slice:function(t,e){var r=c(this.length),n=i(this);if(e=void 0===e?r:e,"Array"==n)return a.call(this,t,e);for(var o=u(t,r),f=u(e,r),s=c(f-o),l=new Array(s),y=0;y<s;y++)l[y]="String"==n?this.charAt(o+y):this[o+y];return l}})},6827:(t,e,r)=>{"use strict";var n=r(7569),o=r(9685)(3);n(n.P+n.F*!r(3243)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},7154:(t,e,r)=>{"use strict";var n=r(7569),o=r(3666),i=r(5132),u=r(6439),c=[].sort,a=[1,2,3];n(n.P+n.F*(u((function(){a.sort(void 0)}))||!u((function(){a.sort(null)}))||!r(3243)(c)),"Array",{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},6251:(t,e,r)=>{r(8699)("Array")},9251:(t,e,r)=>{var n=r(7569);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},6202:(t,e,r)=>{var n=r(7569),o=r(6953);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},636:(t,e,r)=>{"use strict";var n=r(7569),o=r(5132),i=r(9666);n(n.P+n.F*r(6439)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=o(this),r=i(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},4669:(t,e,r)=>{var n=r(2923)("toPrimitive"),o=Date.prototype;n in o||r(3861)(o,n,r(8935))},185:(t,e,r)=>{var n=Date.prototype,o="Invalid Date",i="toString",u=n[i],c=n.getTime;new Date(NaN)+""!=o&&r(8691)(n,i,(function(){var t=c.call(this);return t==t?u.call(this):o}))},7579:(t,e,r)=>{var n=r(7569);n(n.P,"Function",{bind:r(1123)})},6537:(t,e,r)=>{"use strict";var n=r(2172),o=r(4718),i=r(2923)("hasInstance"),u=Function.prototype;i in u||r(3148).f(u,i,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},1262:(t,e,r)=>{var n=r(3148).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,u="name";u in o||r(6337)&&n(o,u,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},6856:(t,e,r)=>{"use strict";var n=r(8987),o=r(4150),i="Map";t.exports=r(3720)(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(o(this,i),t);return e&&e.v},set:function(t,e){return n.def(o(this,i),0===t?0:t,e)}},n,!0)},4311:(t,e,r)=>{var n=r(7569),o=r(5192),i=Math.sqrt,u=Math.acosh;n(n.S+n.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},4479:(t,e,r)=>{var n=r(7569),o=Math.asinh;n(n.S+n.F*!(o&&1/o(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},1870:(t,e,r)=>{var n=r(7569),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},3175:(t,e,r)=>{var n=r(7569),o=r(8610);n(n.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},5455:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},3896:(t,e,r)=>{var n=r(7569),o=Math.exp;n(n.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},9324:(t,e,r)=>{var n=r(7569),o=r(6534);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},2402:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{fround:r(4195)})},3319:(t,e,r)=>{var n=r(7569),o=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,i=0,u=0,c=arguments.length,a=0;u<c;)a<(r=o(arguments[u++]))?(i=i*(n=a/r)*n+1,a=r):i+=r>0?(n=r/a)*n:r;return a===1/0?1/0:a*Math.sqrt(i)}})},2195:(t,e,r)=>{var n=r(7569),o=Math.imul;n(n.S+n.F*r(6439)((function(){return-5!=o(4294967295,5)||2!=o.length})),"Math",{imul:function(t,e){var r=65535,n=+t,o=+e,i=r&n,u=r&o;return 0|i*u+((r&n>>>16)*u+i*(r&o>>>16)<<16>>>0)}})},4057:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},7125:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{log1p:r(5192)})},1899:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},2444:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{sign:r(8610)})},812:(t,e,r)=>{var n=r(7569),o=r(6534),i=Math.exp;n(n.S+n.F*r(6439)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},9934:(t,e,r)=>{var n=r(7569),o=r(6534),i=Math.exp;n(n.S,"Math",{tanh:function(t){var e=o(t=+t),r=o(-t);return e==1/0?1:r==1/0?-1:(e-r)/(i(t)+i(-t))}})},9345:(t,e,r)=>{var n=r(7569);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},3478:(t,e,r)=>{"use strict";var n=r(6765),o=r(4059),i=r(1443),u=r(4399),c=r(9666),a=r(6439),f=r(3195).f,s=r(425).f,l=r(3148).f,y=r(3110).trim,p="Number",h=n[p],b=h,v=h.prototype,d=i(r(6757)(v))==p,m="trim"in String.prototype,O=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,i=(e=m?e.trim():y(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var u,a=e.slice(2),f=0,s=a.length;f<s;f++)if((u=a.charCodeAt(f))<48||u>o)return NaN;return parseInt(a,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof h&&(d?a((function(){v.valueOf.call(r)})):i(r)!=p)?u(new b(O(e)),r,h):O(e)};for(var w,g=r(6337)?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;g.length>S;S++)o(b,w=g[S])&&!o(h,w)&&l(h,w,s(b,w));h.prototype=v,v.constructor=h,r(8691)(n,p,h)}},7824:(t,e,r)=>{var n=r(7569);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},825:(t,e,r)=>{var n=r(7569),o=r(6765).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},9790:(t,e,r)=>{var n=r(7569);n(n.S,"Number",{isInteger:r(5776)})},2835:(t,e,r)=>{var n=r(7569);n(n.S,"Number",{isNaN:function(t){return t!=t}})},1110:(t,e,r)=>{var n=r(7569),o=r(5776),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},8513:(t,e,r)=>{var n=r(7569);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},3762:(t,e,r)=>{var n=r(7569);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},7544:(t,e,r)=>{var n=r(7569),o=r(3812);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},7508:(t,e,r)=>{var n=r(7569),o=r(361);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},4763:(t,e,r)=>{"use strict";var n=r(7569),o=r(2914),i=r(6367),u=r(6434),c=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",y=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*f[r],f[r]=n%1e7,n=a(n/1e7)},p=function(t){for(var e=6,r=0;--e>=0;)r+=f[e],f[e]=a(r/t),r=r%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+u.call(l,7-r.length)+r}return e},b=function t(e,r,n){return 0===r?n:r%2==1?t(e,r-1,n*e):t(e*e,r/2,n)};n(n.P+n.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(6439)((function(){c.call({})}))),"Number",{toFixed:function(t){var e,r,n,c,a=i(this,s),f=o(t),v="",d=l;if(f<0||f>20)throw RangeError(s);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(v="-",a=-a),a>1e-21)if(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(a*b(2,69,1))-69,r=e<0?a*b(2,-e,1):a/b(2,e,1),r*=4503599627370496,(e=52-e)>0){for(y(0,r),n=f;n>=7;)y(1e7,0),n-=7;for(y(b(10,n,1),0),n=e-1;n>=23;)p(1<<23),n-=23;p(1<<n),y(1,1),p(2),d=h()}else y(0,r),y(1<<-e,0),d=h()+u.call(l,f);return f>0?v+((c=d.length)<=f?"0."+u.call(l,f-c)+d:d.slice(0,c-f)+"."+d.slice(c-f)):v+d}})},8601:(t,e,r)=>{"use strict";var n=r(7569),o=r(6439),i=r(6367),u=1..toPrecision;n(n.P+n.F*(o((function(){return"1"!==u.call(1,void 0)}))||!o((function(){u.call({})}))),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(e):u.call(e,t)}})},6060:(t,e,r)=>{var n=r(7569);n(n.S+n.F,"Object",{assign:r(6798)})},3130:(t,e,r)=>{var n=r(7569);n(n.S,"Object",{create:r(6757)})},4348:(t,e,r)=>{var n=r(7569);n(n.S+n.F*!r(6337),"Object",{defineProperties:r(5790)})},7422:(t,e,r)=>{var n=r(7569);n(n.S+n.F*!r(6337),"Object",{defineProperty:r(3148).f})},3986:(t,e,r)=>{var n=r(2172),o=r(3729).onFreeze;r(3275)("freeze",(function(t){return function(e){return t&&n(e)?t(o(e)):e}}))},6476:(t,e,r)=>{var n=r(9152),o=r(425).f;r(3275)("getOwnPropertyDescriptor",(function(){return function(t,e){return o(n(t),e)}}))},6919:(t,e,r)=>{r(3275)("getOwnPropertyNames",(function(){return r(5492).f}))},7386:(t,e,r)=>{var n=r(5132),o=r(4718);r(3275)("getPrototypeOf",(function(){return function(t){return o(n(t))}}))},716:(t,e,r)=>{var n=r(2172);r(3275)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},722:(t,e,r)=>{var n=r(2172);r(3275)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},6936:(t,e,r)=>{var n=r(2172);r(3275)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},2364:(t,e,r)=>{var n=r(7569);n(n.S,"Object",{is:r(936)})},1014:(t,e,r)=>{var n=r(5132),o=r(7244);r(3275)("keys",(function(){return function(t){return o(n(t))}}))},785:(t,e,r)=>{var n=r(2172),o=r(3729).onFreeze;r(3275)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(o(e)):e}}))},1207:(t,e,r)=>{var n=r(2172),o=r(3729).onFreeze;r(3275)("seal",(function(t){return function(e){return t&&n(e)?t(o(e)):e}}))},1753:(t,e,r)=>{var n=r(7569);n(n.S,"Object",{setPrototypeOf:r(1273).set})},7207:(t,e,r)=>{"use strict";var n=r(1931),o={};o[r(2923)("toStringTag")]="z",o+""!="[object z]"&&r(8691)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},8519:(t,e,r)=>{var n=r(7569),o=r(3812);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},5778:(t,e,r)=>{var n=r(7569),o=r(361);n(n.G+n.F*(parseInt!=o),{parseInt:o})},2219:(t,e,r)=>{"use strict";var n,o,i,u,c=r(4035),a=r(6765),f=r(8714),s=r(1931),l=r(7569),y=r(2172),p=r(3666),h=r(1603),b=r(8016),v=r(3279),d=r(9731).set,m=r(9108)(),O=r(4993),w=r(3495),g=r(7378),S=r(6650),E="Promise",_=a.TypeError,j=a.process,T=j&&j.versions,$=T&&T.v8||"",P=a[E],k="process"==s(j),R=function(){},I=o=O.f,A=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[r(2923)("species")]=function(t){t(R,R)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==$.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var n=t._v,o=1==t._s,i=0,u=function(e){var r,i,u,c=o?e.ok:e.fail,a=e.resolve,f=e.reject,s=e.domain;try{c?(o||(2==t._h&&K(t),t._h=1),!0===c?r=n:(s&&s.enter(),r=c(n),s&&(s.exit(),u=!0)),r===e.promise?f(_("Promise-chain cycle")):(i=L(r))?i.call(r,a,f):a(r)):f(n)}catch(t){s&&!u&&s.exit(),f(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,e&&!t._h&&x(t)}))}},x=function(t){d.call(a,(function(){var e,r,n,o=t._v,i=B(t);if(i&&(e=w((function(){k?j.emit("unhandledRejection",o,t):(r=a.onunhandledrejection)?r({promise:t,reason:o}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",o)})),t._h=k||B(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},K=function(t){d.call(a,(function(){var e;k?j.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Z=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},C=function t(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(r=L(e))?m((function(){var o={_w:n,_d:!1};try{r.call(e,f(t,o,1),f(Z,o,1))}catch(t){Z.call(o,t)}})):(n._v=e,n._s=1,N(n,!1))}catch(t){Z.call({_w:n,_d:!1},t)}}};A||(P=function(t){h(this,P,E,"_h"),p(t),n.call(this);try{t(f(C,this,1),f(Z,this,1))}catch(t){Z.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(2517)(P.prototype,{then:function(t,e){var r=I(v(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=k?j.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n;this.promise=t,this.resolve=f(C,t,1),this.reject=f(Z,t,1)},O.f=I=function(t){return t===P||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!A,{Promise:P}),r(8473)(P,E),r(8699)(E),u=r(4914)[E],l(l.S+l.F*!A,E,{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(c||!A),E,{resolve:function(t){return S(c&&this===u?P:this,t)}}),l(l.S+l.F*!(A&&r(1435)((function(t){P.all(t).catch(R)}))),E,{all:function(t){var e=this,r=I(e),n=r.resolve,o=r.reject,i=w((function(){var r=[],i=0,u=1;b(t,!1,(function(t){var c=i++,a=!1;r.push(void 0),u++,e.resolve(t).then((function(t){a||(a=!0,r[c]=t,--u||n(r))}),o)})),--u||n(r)}));return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=I(e),n=r.reject,o=w((function(){b(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}})},9524:(t,e,r)=>{var n=r(7569),o=r(3666),i=r(6034),u=(r(6765).Reflect||{}).apply,c=Function.apply;n(n.S+n.F*!r(6439)((function(){u((function(){}))})),"Reflect",{apply:function(t,e,r){var n=o(t),a=i(r);return u?u(n,e,a):c.call(n,e,a)}})},5134:(t,e,r)=>{var n=r(7569),o=r(6757),i=r(3666),u=r(6034),c=r(2172),a=r(6439),f=r(1123),s=(r(6765).Reflect||{}).construct,l=a((function(){function t(){}return!(s((function(){}),[],t)instanceof t)})),y=!a((function(){s((function(){}))}));n(n.S+n.F*(l||y),"Reflect",{construct:function(t,e){i(t),u(e);var r=arguments.length<3?t:i(arguments[2]);if(y&&!l)return s(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(f.apply(t,n))}var a=r.prototype,p=o(c(a)?a:Object.prototype),h=Function.apply.call(t,p,e);return c(h)?h:p}})},9236:(t,e,r)=>{var n=r(3148),o=r(7569),i=r(6034),u=r(9666);o(o.S+o.F*r(6439)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,r){i(t),e=u(e,!0),i(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},5988:(t,e,r)=>{var n=r(7569),o=r(425).f,i=r(6034);n(n.S,"Reflect",{deleteProperty:function(t,e){var r=o(i(t),e);return!(r&&!r.configurable)&&delete t[e]}})},629:(t,e,r)=>{"use strict";var n=r(7569),o=r(6034),i=function(t){this._t=o(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r(666)(i,"Object",(function(){var t,e=this,r=e._k;do{if(e._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[e._i++])in e._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new i(t)}})},7847:(t,e,r)=>{var n=r(425),o=r(7569),i=r(6034);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(i(t),e)}})},9522:(t,e,r)=>{var n=r(7569),o=r(4718),i=r(6034);n(n.S,"Reflect",{getPrototypeOf:function(t){return o(i(t))}})},6417:(t,e,r)=>{var n=r(425),o=r(4718),i=r(4059),u=r(7569),c=r(2172),a=r(6034);u(u.S,"Reflect",{get:function t(e,r){var u,f,s=arguments.length<3?e:arguments[2];return a(e)===s?e[r]:(u=n.f(e,r))?i(u,"value")?u.value:void 0!==u.get?u.get.call(s):void 0:c(f=o(e))?t(f,r,s):void 0}})},951:(t,e,r)=>{var n=r(7569);n(n.S,"Reflect",{has:function(t,e){return e in t}})},8018:(t,e,r)=>{var n=r(7569),o=r(6034),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return o(t),!i||i(t)}})},6518:(t,e,r)=>{var n=r(7569);n(n.S,"Reflect",{ownKeys:r(1664)})},342:(t,e,r)=>{var n=r(7569),o=r(6034),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},2314:(t,e,r)=>{var n=r(7569),o=r(1273);o&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},4330:(t,e,r)=>{var n=r(3148),o=r(425),i=r(4718),u=r(4059),c=r(7569),a=r(1468),f=r(6034),s=r(2172);c(c.S,"Reflect",{set:function t(e,r,c){var l,y,p=arguments.length<4?e:arguments[3],h=o.f(f(e),r);if(!h){if(s(y=i(e)))return t(y,r,c,p);h=a(0)}if(u(h,"value")){if(!1===h.writable||!s(p))return!1;if(l=o.f(p,r)){if(l.get||l.set||!1===l.writable)return!1;l.value=c,n.f(p,r,l)}else n.f(p,r,a(0,c));return!0}return void 0!==h.set&&(h.set.call(p,c),!0)}})},1538:(t,e,r)=>{var n=r(6765),o=r(4399),i=r(3148).f,u=r(3195).f,c=r(1017),a=r(5274),f=n.RegExp,s=f,l=f.prototype,y=/a/g,p=/a/g,h=new f(y)!==y;if(r(6337)&&(!h||r(6439)((function(){return p[r(2923)("match")]=!1,f(y)!=y||f(p)==p||"/a/i"!=f(y,"i")})))){f=function(t,e){var r=this instanceof f,n=c(t),i=void 0===e;return!r&&n&&t.constructor===f&&i?t:o(h?new s(n&&!i?t.source:t,e):s((n=t instanceof f)?t.source:t,n&&i?a.call(t):e),r?this:l,f)};for(var b=function(t){t in f||i(f,t,{configurable:!0,get:function(){return s[t]},set:function(e){s[t]=e}})},v=u(s),d=0;v.length>d;)b(v[d++]);l.constructor=f,f.prototype=l,r(8691)(n,"RegExp",f)}r(8699)("RegExp")},1375:(t,e,r)=>{"use strict";var n=r(8203);r(7569)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},8093:(t,e,r)=>{r(6337)&&"g"!=/./g.flags&&r(3148).f(RegExp.prototype,"flags",{configurable:!0,get:r(5274)})},7802:(t,e,r)=>{"use strict";var n=r(6034),o=r(9721),i=r(2479),u=r(2730);r(7662)("match",1,(function(t,e,r,c){return[function(r){var n=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=c(r,t,this);if(e.done)return e.value;var a=n(t),f=String(this);if(!a.global)return u(a,f);var s=a.unicode;a.lastIndex=0;for(var l,y=[],p=0;null!==(l=u(a,f));){var h=String(l[0]);y[p]=h,""===h&&(a.lastIndex=i(f,o(a.lastIndex),s)),p++}return 0===p?null:y}]}))},5662:(t,e,r)=>{"use strict";var n=r(6034),o=r(5132),i=r(9721),u=r(2914),c=r(2479),a=r(2730),f=Math.max,s=Math.min,l=Math.floor,y=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(7662)("replace",2,(function(t,e,r,h){return[function(n,o){var i=t(this),u=null==n?void 0:n[e];return void 0!==u?u.call(n,i,o):r.call(String(i),n,o)},function(t,e){var o=h(r,t,this,e);if(o.done)return o.value;var l=n(t),y=String(this),p="function"==typeof e;p||(e=String(e));var v=l.global;if(v){var d=l.unicode;l.lastIndex=0}for(var m=[];;){var O=a(l,y);if(null===O)break;if(m.push(O),!v)break;""===String(O[0])&&(l.lastIndex=c(y,i(l.lastIndex),d))}for(var w,g="",S=0,E=0;E<m.length;E++){O=m[E];for(var _=String(O[0]),j=f(s(u(O.index),y.length),0),T=[],$=1;$<O.length;$++)T.push(void 0===(w=O[$])?w:String(w));var P=O.groups;if(p){var k=[_].concat(T,j,y);void 0!==P&&k.push(P);var R=String(e.apply(void 0,k))}else R=b(_,y,j,T,P,e);j>=S&&(g+=y.slice(S,j)+R,S=j+_.length)}return g+y.slice(S)}];function b(t,e,n,i,u,c){var a=n+t.length,f=i.length,s=p;return void 0!==u&&(u=o(u),s=y),r.call(c,s,(function(r,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":c=u[o.slice(1,-1)];break;default:var s=+o;if(0===s)return r;if(s>f){var y=l(s/10);return 0===y?r:y<=f?void 0===i[y-1]?o.charAt(1):i[y-1]+o.charAt(1):r}c=i[s-1]}return void 0===c?"":c}))}}))},6296:(t,e,r)=>{"use strict";var n=r(6034),o=r(936),i=r(2730);r(7662)("search",1,(function(t,e,r,u){return[function(r){var n=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=u(r,t,this);if(e.done)return e.value;var c=n(t),a=String(this),f=c.lastIndex;o(f,0)||(c.lastIndex=0);var s=i(c,a);return o(c.lastIndex,f)||(c.lastIndex=f),null===s?-1:s.index}]}))},9613:(t,e,r)=>{"use strict";var n=r(1017),o=r(6034),i=r(3279),u=r(2479),c=r(9721),a=r(2730),f=r(8203),s=r(6439),l=Math.min,y=[].push,p="split",h="length",b="lastIndex",v=4294967295,d=!s((function(){RegExp(v,"y")}));r(7662)("split",2,(function(t,e,r,s){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(o,t,e);for(var i,u,c,a=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===e?v:e>>>0,d=new RegExp(t.source,s+"g");(i=f.call(d,o))&&!((u=d[b])>l&&(a.push(o.slice(l,i.index)),i[h]>1&&i.index<o[h]&&y.apply(a,i.slice(1)),c=i[0][h],l=u,a[h]>=p));)d[b]===i.index&&d[b]++;return l===o[h]?!c&&d.test("")||a.push(""):a.push(o.slice(l)),a[h]>p?a.slice(0,p):a}:"0"[p](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var o=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):m.call(String(o),r,n)},function(t,e){var n=s(m,t,this,e,m!==r);if(n.done)return n.value;var f=o(t),y=String(this),p=i(f,RegExp),h=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(d?"y":"g"),O=new p(d?f:"^(?:"+f.source+")",b),w=void 0===e?v:e>>>0;if(0===w)return[];if(0===y.length)return null===a(O,y)?[y]:[];for(var g=0,S=0,E=[];S<y.length;){O.lastIndex=d?S:0;var _,j=a(O,d?y:y.slice(S));if(null===j||(_=l(c(O.lastIndex+(d?0:S)),y.length))===g)S=u(y,S,h);else{if(E.push(y.slice(g,S)),E.length===w)return E;for(var T=1;T<=j.length-1;T++)if(E.push(j[T]),E.length===w)return E;S=g=_}}return E.push(y.slice(g)),E}]}))},4608:(t,e,r)=>{"use strict";r(8093);var n=r(6034),o=r(5274),i=r(6337),u="toString",c=/./[u],a=function(t){r(8691)(RegExp.prototype,u,t,!0)};r(6439)((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?a((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):c.name!=u&&a((function(){return c.call(this)}))},4918:(t,e,r)=>{"use strict";var n=r(8987),o=r(4150);t.exports=r(3720)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(o(this,"Set"),t=0===t?0:t,t)}},n)},83:(t,e,r)=>{"use strict";r(6630)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},8676:(t,e,r)=>{"use strict";r(6630)("big",(function(t){return function(){return t(this,"big","","")}}))},8443:(t,e,r)=>{"use strict";r(6630)("blink",(function(t){return function(){return t(this,"blink","","")}}))},2201:(t,e,r)=>{"use strict";r(6630)("bold",(function(t){return function(){return t(this,"b","","")}}))},8836:(t,e,r)=>{"use strict";var n=r(7569),o=r(4112)(!1);n(n.P,"String",{codePointAt:function(t){return o(this,t)}})},3701:(t,e,r)=>{"use strict";var n=r(7569),o=r(9721),i=r(3246),u="endsWith",c=""[u];n(n.P+n.F*r(4450)(u),"String",{endsWith:function(t){var e=i(this,t,u),r=arguments.length>1?arguments[1]:void 0,n=o(e.length),a=void 0===r?n:Math.min(o(r),n),f=String(t);return c?c.call(e,f,a):e.slice(a-f.length,a)===f}})},9465:(t,e,r)=>{"use strict";r(6630)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},8152:(t,e,r)=>{"use strict";r(6630)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},2998:(t,e,r)=>{"use strict";r(6630)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},5320:(t,e,r)=>{var n=r(7569),o=r(8589),i=String.fromCharCode,u=String.fromCodePoint;n(n.S+n.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,u=0;n>u;){if(e=+arguments[u++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},2028:(t,e,r)=>{"use strict";var n=r(7569),o=r(3246),i="includes";n(n.P+n.F*r(4450)(i),"String",{includes:function(t){return!!~o(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},9113:(t,e,r)=>{"use strict";r(6630)("italics",(function(t){return function(){return t(this,"i","","")}}))},9511:(t,e,r)=>{"use strict";var n=r(4112)(!0);r(6555)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},9629:(t,e,r)=>{"use strict";r(6630)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},6962:(t,e,r)=>{var n=r(7569),o=r(9152),i=r(9721);n(n.S,"String",{raw:function(t){for(var e=o(t.raw),r=i(e.length),n=arguments.length,u=[],c=0;r>c;)u.push(String(e[c++])),c<n&&u.push(String(arguments[c]));return u.join("")}})},8759:(t,e,r)=>{var n=r(7569);n(n.P,"String",{repeat:r(6434)})},52:(t,e,r)=>{"use strict";r(6630)("small",(function(t){return function(){return t(this,"small","","")}}))},6194:(t,e,r)=>{"use strict";var n=r(7569),o=r(9721),i=r(3246),u="startsWith",c=""[u];n(n.P+n.F*r(4450)(u),"String",{startsWith:function(t){var e=i(this,t,u),r=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return c?c.call(e,n,r):e.slice(r,r+n.length)===n}})},7085:(t,e,r)=>{"use strict";r(6630)("strike",(function(t){return function(){return t(this,"strike","","")}}))},6379:(t,e,r)=>{"use strict";r(6630)("sub",(function(t){return function(){return t(this,"sub","","")}}))},3264:(t,e,r)=>{"use strict";r(6630)("sup",(function(t){return function(){return t(this,"sup","","")}}))},7549:(t,e,r)=>{"use strict";r(3110)("trim",(function(t){return function(){return t(this,3)}}))},1572:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(6765),i=r(4059),u=r(6337),c=r(7569),a=r(8691),f=r(3729).KEY,s=r(6439),l=r(6368),y=r(8473),p=r(9995),h=r(2923),b=r(8780),v=r(9117),d=r(6609),m=r(3749),O=r(6034),w=r(2172),g=r(5132),S=r(9152),E=r(9666),_=r(1468),j=r(6757),T=r(5492),$=r(425),P=r(2932),k=r(3148),R=r(7244),I=$.f,A=k.f,L=T.f,N=o.Symbol,x=o.JSON,B=x&&x.stringify,K="prototype",Z=h("_hidden"),C=h("toPrimitive"),H={}.propertyIsEnumerable,D=l("symbol-registry"),M=l("symbols"),F=l("op-symbols"),U=Object[K],G="function"==typeof N&&!!P.f,W=o.QObject,V=!W||!W[K]||!W[K].findChild,Y=u&&s((function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=I(U,e);n&&delete U[e],A(t,e,r),n&&t!==U&&A(U,e,n)}:A,X=function(t){var e=M[t]=j(N[K]);return e._k=t,e},z=G&&"symbol"==n(N.iterator)?function(t){return"symbol"==n(t)}:function(t){return t instanceof N},Q=function(t,e,r){return t===U&&Q(F,e,r),O(t),e=E(e,!0),O(r),i(M,e)?(r.enumerable?(i(t,Z)&&t[Z][e]&&(t[Z][e]=!1),r=j(r,{enumerable:_(0,!1)})):(i(t,Z)||A(t,Z,_(1,{})),t[Z][e]=!0),Y(t,e,r)):A(t,e,r)},q=function(t,e){O(t);for(var r,n=d(e=S(e)),o=0,i=n.length;i>o;)Q(t,r=n[o++],e[r]);return t},J=function(t){var e=H.call(this,t=E(t,!0));return!(this===U&&i(M,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(M,t)||i(this,Z)&&this[Z][t])||e)},tt=function(t,e){if(t=S(t),e=E(e,!0),t!==U||!i(M,e)||i(F,e)){var r=I(t,e);return!r||!i(M,e)||i(t,Z)&&t[Z][e]||(r.enumerable=!0),r}},et=function(t){for(var e,r=L(S(t)),n=[],o=0;r.length>o;)i(M,e=r[o++])||e==Z||e==f||n.push(e);return n},rt=function(t){for(var e,r=t===U,n=L(r?F:S(t)),o=[],u=0;n.length>u;)!i(M,e=n[u++])||r&&!i(U,e)||o.push(M[e]);return o};G||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0);return u&&V&&Y(U,t,{configurable:!0,set:function e(r){this===U&&e.call(F,r),i(this,Z)&&i(this[Z],t)&&(this[Z][t]=!1),Y(this,t,_(1,r))}}),X(t)})[K],"toString",(function(){return this._k})),$.f=tt,k.f=Q,r(3195).f=T.f=et,r(8240).f=J,P.f=rt,u&&!r(4035)&&a(U,"propertyIsEnumerable",J,!0),b.f=function(t){return X(h(t))}),c(c.G+c.W+c.F*!G,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;nt.length>ot;)h(nt[ot++]);for(var it=R(h.store),ut=0;it.length>ut;)v(it[ut++]);c(c.S+c.F*!G,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),c(c.S+c.F*!G,"Object",{create:function(t,e){return void 0===e?j(t):q(j(t),e)},defineProperty:Q,defineProperties:q,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:rt});var ct=s((function(){P.f(1)}));c(c.S+c.F*ct,"Object",{getOwnPropertySymbols:function(t){return P.f(g(t))}}),x&&c(c.S+c.F*(!G||s((function(){var t=N();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(w(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!z(e))return e}),n[1]=e,B.apply(x,n)}}),N[K][C]||r(3861)(N[K],C,N[K].valueOf),y(N,"Symbol"),y(Math,"Math",!0),y(o.JSON,"JSON",!0)},6763:(t,e,r)=>{"use strict";var n=r(7569),o=r(153),i=r(4866),u=r(6034),c=r(8589),a=r(9721),f=r(2172),s=r(6765).ArrayBuffer,l=r(3279),y=i.ArrayBuffer,p=i.DataView,h=o.ABV&&s.isView,b=y.prototype.slice,v=o.VIEW,d="ArrayBuffer";n(n.G+n.W+n.F*(s!==y),{ArrayBuffer:y}),n(n.S+n.F*!o.CONSTR,d,{isView:function(t){return h&&h(t)||f(t)&&v in t}}),n(n.P+n.U+n.F*r(6439)((function(){return!new y(2).slice(1,void 0).byteLength})),d,{slice:function(t,e){if(void 0!==b&&void 0===e)return b.call(u(this),t);for(var r=u(this).byteLength,n=c(t,r),o=c(void 0===e?r:e,r),i=new(l(this,y))(a(o-n)),f=new p(this),s=new p(i),h=0;n<o;)s.setUint8(h++,f.getUint8(n++));return i}}),r(8699)(d)},3937:(t,e,r)=>{var n=r(7569);n(n.G+n.W+n.F*!r(153).ABV,{DataView:r(4866).DataView})},4964:(t,e,r)=>{r(4654)("Float32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},7198:(t,e,r)=>{r(4654)("Float64",8,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},8914:(t,e,r)=>{r(4654)("Int16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},5232:(t,e,r)=>{r(4654)("Int32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},8828:(t,e,r)=>{r(4654)("Int8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},9618:(t,e,r)=>{r(4654)("Uint16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},2345:(t,e,r)=>{r(4654)("Uint32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3359:(t,e,r)=>{r(4654)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3059:(t,e,r)=>{r(4654)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},3887:(t,e,r)=>{"use strict";var n,o=r(6765),i=r(9685)(0),u=r(8691),c=r(3729),a=r(6798),f=r(7963),s=r(2172),l=r(4150),y=r(4150),p=!o.ActiveXObject&&"ActiveXObject"in o,h="WeakMap",b=c.getWeak,v=Object.isExtensible,d=f.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},O={get:function(t){if(s(t)){var e=b(t);return!0===e?d(l(this,h)).get(t):e?e[this._i]:void 0}},set:function(t,e){return f.def(l(this,h),t,e)}},w=t.exports=r(3720)(h,m,O,f,!0,!0);y&&p&&(a((n=f.getConstructor(m,h)).prototype,O),c.NEED=!0,i(["delete","has","get","set"],(function(t){var e=w.prototype,r=e[t];u(e,t,(function(e,o){if(s(e)&&!v(e)){this._f||(this._f=new n);var i=this._f[t](e,o);return"set"==t?this:i}return r.call(this,e,o)}))})))},3383:(t,e,r)=>{"use strict";var n=r(7963),o=r(4150),i="WeakSet";r(3720)(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(o(this,i),t,!0)}},n,!1,!0)},4207:(t,e,r)=>{"use strict";var n=r(7569),o=r(8389),i=r(5132),u=r(9721),c=r(3666),a=r(5151);n(n.P,"Array",{flatMap:function(t){var e,r,n=i(this);return c(t),e=u(n.length),r=a(n,0),o(r,n,n,e,0,1,t,arguments[1]),r}}),r(140)("flatMap")},7204:(t,e,r)=>{"use strict";var n=r(7569),o=r(6382)(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(140)("includes")},7883:(t,e,r)=>{var n=r(7569),o=r(2768)(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},9079:(t,e,r)=>{var n=r(7569),o=r(1664),i=r(9152),u=r(425),c=r(1429);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=i(t),a=u.f,f=o(n),s={},l=0;f.length>l;)void 0!==(r=a(n,e=f[l++]))&&c(s,e,r);return s}})},247:(t,e,r)=>{var n=r(7569),o=r(2768)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},331:(t,e,r)=>{"use strict";var n=r(7569),o=r(4914),i=r(6765),u=r(3279),c=r(6650);n(n.P+n.R,"Promise",{finally:function(t){var e=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return c(e,t()).then((function(){return r}))}:t,r?function(r){return c(e,t()).then((function(){throw r}))}:t)}})},4061:(t,e,r)=>{"use strict";var n=r(7569),o=r(8217),i=r(7378),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*u,"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},4492:(t,e,r)=>{"use strict";var n=r(7569),o=r(8217),i=r(7378),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*u,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},4564:(t,e,r)=>{"use strict";r(3110)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},8830:(t,e,r)=>{"use strict";r(3110)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},1148:(t,e,r)=>{r(9117)("asyncIterator")},1315:(t,e,r)=>{for(var n=r(4485),o=r(7244),i=r(8691),u=r(6765),c=r(3861),a=r(1426),f=r(2923),s=f("iterator"),l=f("toStringTag"),y=a.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),b=0;b<h.length;b++){var v,d=h[b],m=p[d],O=u[d],w=O&&O.prototype;if(w&&(w[s]||c(w,s,y),w[l]||c(w,l,d),a[d]=y,m))for(v in n)w[v]||i(w,v,n[v],!0)}},9225:(t,e,r)=>{var n=r(7569),o=r(9731);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},9393:(t,e,r)=>{var n=r(6765),o=r(7569),i=r(7378),u=[].slice,c=/MSIE .\./.test(i),a=function(t){return function(e,r){var n=arguments.length>2,o=!!n&&u.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,r)}};o(o.G+o.B+o.F*c,{setTimeout:a(n.setTimeout),setInterval:a(n.setInterval)})},228:(t,e,r)=>{r(9393),r(9225),r(1315),t.exports=r(4914)},1047:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},766:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=function(t){"use strict";var e,r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",a=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,u=Object.create(o.prototype),c=new I(n||[]);return i(u,"_invoke",{value:$(t,r,c)}),u}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",b="executing",v="completed",d={};function m(){}function O(){}function w(){}var g={};s(g,c,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(A([])));E&&E!==r&&o.call(E,c)&&(g=E);var _=w.prototype=m.prototype=Object.create(g);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,u,c,a){var f=y(t[i],t,u);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"===n(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,c,a)}),(function(t){r("throw",t,c,a)})):e.resolve(l).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,a)}))}a(f.arg)}var u;i(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return u=u?u.then(o,o):o()}})}function $(t,e,r){var n=p;return function(o,i){if(n===b)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return L()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=b;var a=y(t,e,r);if("normal"===a.type){if(n=r.done?v:h,a.arg===d)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n=v,r.method="throw",r.arg=a.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=y(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var u=i.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(t){if(t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:L}}function L(){return{value:e,done:!0}}return O.prototype=w,i(_,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:O,configurable:!0}),O.displayName=s(w,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,f,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},j(T.prototype),s(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new T(l(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},j(_),s(_,f,"Generator"),s(_,c,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],c=u.completion;if("root"===u.tryLoc)return n("end");if(u.tryLoc<=this.prev){var a=o.call(u,"catchLoc"),f=o.call(u,"finallyLoc");if(a&&f){if(this.prev<u.catchLoc)return n(u.catchLoc,!0);if(this.prev<u.finallyLoc)return n(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return n(u.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return n(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}("object"===n(t=r.nmd(t))?t.exports:{});try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},2704:(t,e,r)=>{"use strict";t.exports=r.p+"img/Icon.ico"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r.b=document.baseURI||self.location.href,(()=>{"use strict";r(497);var t,e=(t=r(2677))&&t.__esModule?t:{default:t};e.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e.default._babelPolyfill=!0})(),(()=>{"use strict";var t=r(1047),e=r.n(t),n=new URL(r(2704),r.b);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}e()(n);var f=u((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,u=Object.create(i.prototype),c=new $(o||[]);return n(u,"_invoke",{value:E(t,r,c)}),u}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function h(){}function b(){}function v(){}var d={};a(d,i,(function(){return this}));var m=Object.getPrototypeOf,O=m&&m(m(P([])));O&&O!==e&&r.call(O,i)&&(d=O);var w=v.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,u,c){var a=y(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==s(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=_(u,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=y(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===p)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=y(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return b.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:b,configurable:!0}),b.displayName=a(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},g(S.prototype),a(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new S(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(w),a(w,c,"Generator"),a(w,i,(function(){return this})),a(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function y(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}c(f,"BLOCK_SIZE",32),c(f,"SHOT_SIZE",f.BLOCK_SIZE),c(f,"TANK_SIZE",2*f.BLOCK_SIZE),c(f,"LEVEL_SIZE",26*f.BLOCK_SIZE),c(f,"SIDEBAR_WIDTH",6*f.BLOCK_SIZE),c(f,"GAME_WIDTH",f.LEVEL_SIZE+f.SIDEBAR_WIDTH),c(f,"GAME_HEIGHT",f.LEVEL_SIZE),c(f,"BUTTON_WIDTH",4*f.TANK_SIZE),c(f,"BUTTON_HEIGHT",2*f.TANK_SIZE),c(f,"MINI_MAP_SIZE",8*f.TANK_SIZE),c(f,"SHOT_DAMAGE",250),c(f,"DELTA_VOLUME",.1),c(f,"LOCAL_STORAGE_KEY","WorldOfТанчики"),c(f,"METALIC_COLOR","#aaa9ad"),c(f,"BACKGROUND_COLOR","black"),c(f,"COLOR","white"),c(f,"SIDEBAR_BACKGROUND","rgb(99,99,99)"),c(f,"BATTLE_MENU_BACKGROUND","rgba(59, 60, 63, 0.5)");var p=function(t,e){var r=!1;return function(){r||(t.apply(void 0,arguments),r=!0,setTimeout((function(){r=!1}),e))}},h=function(){var t,e=(t=l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){y(i,n,o,u,c,"next",t)}function c(t){y(i,n,o,u,c,"throw",t)}u(void 0)}))});return function(t){return e.apply(this,arguments)}}(),b=function(t){return~~(100*Math.random())-t<=0},v=function(t){return t[t.Upgreat=0]="Upgreat",t[t.Shild=1]="Shild",t[t.BaseShild=2]="BaseShild",t[t.OneMoreLive=3]="OneMoreLive",t[t.StopTheTime=4]="StopTheTime",t[t.KillAllEnemy=5]="KillAllEnemy",t}(v||{}),d=function(t){return t[t.Waiting=0]="Waiting",t[t.Ok=1]="Ok",t[t.Death=2]="Death",t}(d||{}),m=function(t){return t[t.Nothing=0]="Nothing",t[t.Small=1]="Small",t[t.Middle=2]="Middle",t[t.Big=3]="Big",t}(m||{}),O=function(t){return t[t.One=1]="One",t[t.Two=2]="Two",t}(O||{}),w=function(t){return t[t.FisrtLevelTank=10]="FisrtLevelTank",t[t.SecondLevelTank=10]="SecondLevelTank",t[t.ThirdLevelTank=10]="ThirdLevelTank",t[t.FourthLevelTank=13]="FourthLevelTank",t[t.LightTank=7]="LightTank",t[t.ExtraLightTank=16]="ExtraLightTank",t[t.MediumTank=13]="MediumTank",t[t.HeavyTank=16]="HeavyTank",t}(w||{}),g=function(t){return t[t.FisrtLevelTank=500]="FisrtLevelTank",t[t.SecondLevelTank=750]="SecondLevelTank",t[t.ThirdLevelTank=750]="ThirdLevelTank",t[t.FourthLevelTank=1e3]="FourthLevelTank",t[t.LightTank=500]="LightTank",t[t.ExtraLightTank=500]="ExtraLightTank",t[t.MediumTank=750]="MediumTank",t[t.HeavyTank=1250]="HeavyTank",t}(g||{}),S=function(t){return t[t.FisrtLevelTank=2]="FisrtLevelTank",t[t.SecondLevelTank=3]="SecondLevelTank",t[t.ThirdLevelTank=3]="ThirdLevelTank",t[t.FourthLevelTank=4]="FourthLevelTank",t[t.LightTank=3]="LightTank",t[t.ExtraLightTank=4]="ExtraLightTank",t[t.MediumTank=2]="MediumTank",t[t.HeavyTank=1]="HeavyTank",t}(S||{}),E=function(t){return t.Left="Left",t.Center="Gor_Center",t.Right="Right",t}(E||{}),_=function(t){return t.Up="Up",t.Center="Ver_Center",t.Down="Down",t}(_||{}),j=function(t){return t[t.FirstLevel=0]="FirstLevel",t[t.SecondLevel=1]="SecondLevel",t[t.ThirdLevel=2]="ThirdLevel",t[t.FourthLevel=3]="FourthLevel",t}(j||{}),T=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t}(T||{}),$=function(t){return t.Update="Update",t.Render="Render",t.Play="Play",t.Shift="Shift",t.Confirm="Confirm",t.LostActive="LostActive",t.GetActive="GeetActive",t.TrackOnceOn="TrackOnceOn",t.TrackLoopOn="TrackLoopOn",t.TrackOff="TrackOff",t.ClearTracks="ClearTracks",t.SortTracks="SortTracks",t.ChangeMode="ChangeMode",t.ToButtle="ToButtle",t.ToPlayersMenu="ToPlayersMenu",t.CreateBattle="CreateBattle",t.ChangeLevelIndex="ChangeLevelIndex",t.ChangePlayersCount="ChangePlayersCount",t.SetLevelIndex="SetLevelIndex",t.ChangeTankLevel="ChangeTankLevel",t.SetTankLevel="SetTankLevel",t.GetDamage="GetDamage",t.Death="Death",t.Crash="Crash",t.Spawn="Spawn",t.Born="Born",t.BlowUp="BlowUp",t.Move="Move",t.Turn="Turn",t.SetLocation="SetLocation",t.Shot="Shot",t.SetAgregateOwner="SetAgregateOwner",t.AddToArgegate="AddToAgregate",t.RemoveFromAgregate="RemoveFromAgregate",t.SetActorOwner="SetActorOwner",t.SetTankOwner="SetTankOwner",t.ClearShotSlot="ClearShotSlot",t.ChangeBlock="ChangeBlock",t.GetShot="GetShot",t.QueueEmpty="QueueEmpty",t.ShotHit="ShotHit",t.AskCheckAround="AskCheckAround",t.SetAround="SetAround",t.AskPlayersLocation="AskPlayersLocation",t.SetPlayersLocation="SetPlayersLocation",t.AskBaseLocation="AskBaseLocation",t.SetBaseLocation="SetBaseLocation",t.SetVector="SetVector",t.SetShot="SetShot",t.AskHidden="AksHidden",t.SetHidden="SetHidden",t.UpdateLevelNumber="UpdateLevelNumber",t.UpdatePlayersLive="UpdatePlayersLive",t.UpdatePlayerHp="UpdatePlayerHp",t.UpdateEnemyQueue="UpdateEnemyQueue",t.BornCollision="BornCollision",t.Reborn="Reborn",t.Upgreat="Upgreat",t.EnemiesEnded="EnemiesEnded",t.PlayersEnded="PlayersEnded",t.BaseEnded="BaseEnded",t.ExecuteBattleResult="ExecuteBattleResult",t.BattleFinish="BattleFinish",t.AddToStat="AddToStat",t.TryBonusSpawn="TryBonusSpawn",t.Catch="Catch",t.AddShild="AddShild",t.BonusDistribution="BonusDistribution",t.AddLive="AddLive",t.StopTheTime="StopTheTime",t.KillAllEnemy="KillAllEnemy",t.AddBaseShild="AddBaseShild",t.SetHealthFrame="SetHealthFrame",t.SetBrick="SetBrick",t.SetIron="SetIron",t.StartBaseShild="StartBaseShild",t.NextBattle="NextBattle",t.NotAlive="NotAlive",t.ToggleMuted="ToggleMuted",t.ChangeVoluem="ChangeVoluem",t.SetSaveData="SetSaveData",t}($||{}),P=function(t){return t[t.Shift=200]="Shift",t[t.Confirm=200]="Confirm",t[t.ShotBlowUp=30]="ShotBlowUp",t[t.TankBlowUp=45]="TankBlowUp",t[t.Shot=175]="Shot",t[t.StopMove=30]="StopMove",t[t.Spawn=600]="Spawn",t[t.ShildStart=2e3]="ShildStart",t[t.ShildOdrinary=1e4]="ShildOdrinary",t[t.LoopAnimationTime=40]="LoopAnimationTime",t[t.StopTheTime=5e3]="StopTheTime",t[t.BaseShild=1e4]="BaseShild",t}(P||{}),k=function(t){return t.InfoMainMenu="Info_InfoMainMenu",t.Bonuses="Info_Bonuses",t.Controlls="Info_Controlls",t.PlayerTanks="Info_PlayerTanks",t.EnemyTanks="Info_EnemyTanks",t.Blocks="Info_Blocks",t}(k||{}),R=function(t){return t[t.Box=0]="Box",t[t.Rectangle=1]="Rectangle",t}(R||{}),I=function(t){return t[t.Ordinary=0]="Ordinary",t[t.Active=1]="Active",t[t.Disabled=2]="Disabled",t}(I||{}),A=function(t){return t.MainMenu="Model_MainMenu",t.Battle="Model_Battle",t.ChooseLevel="Model_ChooseLevel",t.Info="Model_Info",t.ChoosePlayers="Model_ChoosePlayers",t.FirstPlayerChooseTank="Model_FirstPlayerChooseTank",t.SecondPlayerChooseTank="Model_SecondPlayerChooseTank",t}(A||{}),L=function(t){return t.OnePlayer="ChoosePlayerMenu_OnePlayer",t.TwoPlayers="ChoosePlayerMenu_TwoPlayers",t}(L||{}),N=function(t){return t.Next="ChooseLevelMenu_Next",t.Prev="ChooseLevelMenu_Prev",t.ChoosePlayers="ChooseLevelMenu_ChoosePlayers",t}(N||{}),x=function(t){return t.Next="ChoosePlayerTank_Next",t.Prev="ChoosePlayerTank_Prev",t.SecondPlayer="ChoosePlayerTank_SecondPlayer",t.Battle="ChoosePlayerTank_Battle",t}(x||{}),B=function(t){return t[t.ShiftMenu=0]="ShiftMenu",t[t.ConfirmMenu=1]="ConfirmMenu",t[t.MenuTheme=2]="MenuTheme",t[t.BattleTheme=3]="BattleTheme",t[t.Move=4]="Move",t[t.Shot=5]="Shot",t[t.Flag=6]="Flag",t[t.HitEnemy=7]="HitEnemy",t[t.HitPlayer=8]="HitPlayer",t[t.Bonus=9]="Bonus",t[t.TankBlowUp=10]="TankBlowUp",t}(B||{}),K=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.Full=4]="Full",t[t.Death=5]="Death",t}(K||{}),Z=function(t){return t[t.Ok=0]="Ok",t[t.Death=1]="Death",t}(Z||{}),C=function(t){return t[t.First=0]="First",t[t.Second=1]="Second",t}(C||{}),H=function(t){return t[t.Ok=0]="Ok",t[t.BlowUp=1]="BlowUp",t[t.Death=2]="Death",t}(H||{}),D=function(t){return t[t.Nothing=0]="Nothing",t[t.Spawn=1]="Spawn",t[t.Ok=2]="Ok",t[t.BlowUp=3]="BlowUp",t[t.Death=4]="Death",t}(D||{}),M=function(t){return t[t.First=0]="First",t[t.Second=4]="Second",t}(M||{}),F=function(t){return t[t.First=0]="First",t[t.Second=8]="Second",t}(F||{}),U=function(t){return t.Brick="#",t.Iron="@",t.Road="0",t.Bush="$",t.Water="~",t.Base="^",t}(U||{}),G=function(t){return t.Yellow="blue",t.Green="green",t.Gray="red",t}(G||{}),W=function(t){return t[t.LightTank=0]="LightTank",t[t.ExtraLightTank=1]="ExtraLightTank",t[t.MediumTank=2]="MediumTank",t[t.HeavyTank=3]="HeavyTank",t}(W||{}),V=function(t){return t[t.Road=0]="Road",t[t.Bricks=1]="Bricks",t[t.Irons=2]="Irons",t[t.BrickAndIron=3]="BrickAndIron",t[t.OutLevel=4]="OutLevel",t[t.PlayerTank=5]="PlayerTank",t[t.Flag=6]="Flag",t[t.Bushes=7]="Bushes",t}(V||{}),Y=function(t){return t.Battle="Battle",t.BattleMenu="BattleMenu",t.BattleResultMenu="BattleResultMenu",t.NextBattle="NextBattle",t.SessionResultMenu="SessionResultMenu",t}(Y||{}),X=[T.Up,T.Down],z=[T.Left,T.Right],Q=([].concat(X,z),[W.LightTank,W.ExtraLightTank,W.MediumTank,W.HeavyTank]),q=[j.FirstLevel,j.SecondLevel,j.ThirdLevel,j.FourthLevel],J=[v.Shild,v.StopTheTime,v.Upgreat,v.OneMoreLive,v.BaseShild,v.KillAllEnemy],tt=[U.Brick,U.Water,U.Iron,U.Base,U.Bush];function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==et(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===et(o)?o:String(o)),n)}var o}var nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observerDictionary=new Map,this.InitEvent=this.InitEvent.bind(this),this.RegistryObserver=this.RegistryObserver.bind(this),this.RemoveObserver=this.RemoveObserver.bind(this),this.RemoveAllObservers=this.RemoveAllObservers.bind(this),this.NotifyObservers=this.NotifyObservers.bind(this)}var e,r;return e=t,(r=[{key:"Action",value:function(t,e){}},{key:"alreadyDeclared",value:function(t){if(!this.observerDictionary.has(t))throw new Error("This type of Event -- ".concat($[t]," -- has NOT been declared"))}},{key:"InitEvent",value:function(t){if(this.observerDictionary.has(t))throw new Error("This type of Event -- ".concat($[t]," -- has already been declared"));this.observerDictionary.set(t,[])}},{key:"RegistryObserver",value:function(t,e){this.alreadyDeclared(t),this.observerDictionary.get(t).push(e)}},{key:"RegistryObservers",value:function(t,e){var r=this;e.forEach((function(e){return r.RegistryObserver(t,e)}))}},{key:"RemoveObserver",value:function(t,e){if(this.alreadyDeclared(t),!this.observerDictionary.get(t).includes(e))throw new Error("This object is not exist in Disctionary");this.observerDictionary.get(t).splice(this.observerDictionary.get(t).indexOf(e),1)}},{key:"RemoveAllObservers",value:function(t){this.alreadyDeclared(t),this.observerDictionary.set(t,[])}},{key:"NotifyObservers",value:function(t,e){this.alreadyDeclared(t),this.observerDictionary.get(t).forEach((function(r){return r.Action(t,e)}))}},{key:"initEvents",value:function(){}}])&&rt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},it(t,e)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ut(r);if(n){var o=ut(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(nt);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==at(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===at(o)?o:String(o)),n)}var o}function st(t,e,r){return e&&ft(t.prototype,e),r&&ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var lt=st((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Sender=e}));function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ht(r);if(n){var o=ht(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Flag=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vt(o)?o:String(o)),n)}var o}var mt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.up=!1,this.down=!1,this.left=!1,this.right=!1,this.w=!1,this.s=!1,this.a=!1,this.d=!1,this.c=!1,this.slash=!1,this.escape=!1,this.enter=!1,this.space=!1,this.setKeys(this.sortActiveKeys(e))}var e,r;return e=t,(r=[{key:"sortActiveKeys",value:function(t){var e=new Set,r=null,n=null;return t.forEach((function(t){/^Arrow/i.test(t)?r=t:/^Key(W|S|A|D)$/i.test(t)?n=t:e.add(t)})),r&&e.add(r),n&&e.add(n),e}},{key:"setKeys",value:function(t){var e=this;t.forEach((function(t){switch(t){case"ArrowUp":e.up=!0;break;case"ArrowDown":e.down=!0;break;case"ArrowLeft":e.left=!0;break;case"ArrowRight":e.right=!0;break;case"KeyW":e.w=!0;break;case"KeyS":e.s=!0;break;case"KeyA":e.a=!0;break;case"KeyD":e.d=!0;break;case"KeyC":e.c=!0;break;case"Slash":e.slash=!0;break;case"Escape":e.escape=!0;break;case"Enter":e.enter=!0;break;case"Space":e.space=!0}}))}},{key:"Up",get:function(){return this.up}},{key:"Down",get:function(){return this.down}},{key:"Left",get:function(){return this.left}},{key:"Right",get:function(){return this.right}},{key:"W",get:function(){return this.w}},{key:"S",get:function(){return this.s}},{key:"A",get:function(){return this.a}},{key:"D",get:function(){return this.d}},{key:"C",get:function(){return this.c}},{key:"Slash",get:function(){return this.slash}},{key:"Escape",get:function(){return this.escape}},{key:"Enter",get:function(){return this.enter}},{key:"Space",get:function(){return this.space}}])&&dt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ot(o)?o:String(o)),n)}var o}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(n);if(o){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.ToggleMuted),t.InitEvent($.ChangeVoluem),t.activeKeys=new Set,t.keys=new mt(t.activeKeys),t.initEvents(),t}return e=u,(r=[{key:"initEvents",value:function(){var t=this;document.addEventListener("keydown",(function(e){var r,n=e.code;"Slash"==n&&(null===(r=event)||void 0===r||r.preventDefault()),"KeyM"==n&&t.NotifyObservers($.ToggleMuted,new lt(t)),"Equal"==n&&t.NotifyObservers($.ChangeVoluem,new bt(t,!0)),"Minus"==n&&t.NotifyObservers($.ChangeVoluem,new bt(t,!1)),t.activeKeys.add(n),t.setKeys()})),document.addEventListener("keyup",(function(e){var r=e.code;t.activeKeys.delete(r),t.setKeys()}))}},{key:"setKeys",value:function(){this.keys=new mt(this.activeKeys)}},{key:"Keys",get:function(){return this.keys}}])&&wt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function jt(t,e,r){return jt=Pt()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&$t(o,r.prototype),o},jt.apply(null,arguments)}function Tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_t(o)?o:String(o)),n)}var o}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}function Pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(u,t);var e,r,n,o,i=(n=u,o=Pt(),function(){var t,e=kt(n);if(o){var r=kt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.ChangeMode),t.InitEvent($.TrackOnceOn),t.InitEvent($.Update),t.InitEvent($.Render),t.backStatusHistory=new Array,t}return e=u,r=[{key:"assignInteractiveObject",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.interactiveObject=jt(this.ojects.get(this.status),[t].concat(r))}},{key:"checkStatus",value:function(t){return Array.from(this.ojects.keys()).includes(t)}},{key:"setInteractiveObject",value:function(t,e){e?this.backStatusHistory.pop():this.backStatusHistory.push(this.status);var r=this.backStatusHistory[this.backStatusHistory.length-1];this.status=t,this.interactiveObject&&this.removeInteractiveObjectEvents(),this.assignInteractiveObject(r),this.regisrtyInteractiveObjectEvents()}},{key:"regisrtyInteractiveObjectEvents",value:function(){var t=this;[$.Update,$.Render].forEach((function(e){return t.RegistryObserver(e,t.interactiveObject)})),[$.ChangeMode,$.TrackOnceOn].forEach((function(e){return t.interactiveObject.RegistryObserver(e,t)}))}},{key:"removeInteractiveObjectEvents",value:function(){var t=this;[$.Update,$.Render].forEach((function(e){return t.RemoveObserver(e,t.interactiveObject)}))}},{key:"changeModeHandler",value:function(t){this.checkStatus(t.ModeStatus)?this.setInteractiveObject(t.ModeStatus,t.IsBubble):this.NotifyObservers($.ChangeMode,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"renderHandler",value:function(t){this.NotifyObservers($.Render,t)}},{key:"updateHandler",value:function(t){this.NotifyObservers($.Update,t)}},{key:"Action",value:function(t,e){switch(t){case $.ChangeMode:this.changeModeHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.Render:this.renderHandler(e);break;case $.Update:this.updateHandler(e)}}}],r&&Tt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function At(t,e){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},At(t,e)}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(r);if(n){var o=Lt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).BattleData=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(r);if(n){var o=Kt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Keys=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dt(r);if(n){var o=Dt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).ModeStatus=e,n.IsBubble=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(r);if(n){var o=Gt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Number=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Vt(o)?o:String(o)),n)}var o}function Xt(t,e,r){return e&&Yt(t.prototype,e),r&&Yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var zt=Xt((function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Point=e,this.Width=r,this.Height=n}));function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Qt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Qt(o)?o:String(o)),n)}var o}function Jt(t,e,r){return e&&qt(t.prototype,e),r&&qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var te=Jt((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rect=e}));function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ee(o)?o:String(o)),n)}var o}function ne(t,e){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ne(t,e)}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oe(n);if(o){var r=oe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,r=[{key:"Width",get:function(){return this.rect.Width},set:function(t){this.rect.Width=t}},{key:"Height",get:function(){return this.rect.Width},set:function(t){this.rect.Width=t}}],r&&re(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(te);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ue(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ue(o)?o:String(o)),n)}var o}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fe(n);if(o){var r=fe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,r=[{key:"Width",get:function(){return this.rect.Width},set:function(t){this.rect.Width=t}},{key:"Height",get:function(){return this.rect.Height},set:function(t){this.rect.Height=t}}],r&&ce(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(te);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==le(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===le(o)?o:String(o)),n)}var o}var pe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.types=new Map([[R.Box,ie],[R.Rectangle,se]])}var e,r;return e=t,(r=[{key:"Create",value:function(t,e){return new(this.types.get(t))(e)}}])&&ye(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==he(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===he(o)?o:String(o)),n)}var o}function ve(t,e,r){return e&&be(t.prototype,e),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var de=ve((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.X=e,this.Y=r}));function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===me(o)?o:String(o)),n)}var o}function we(){return we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},we.apply(this,arguments)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(n);if(o){var r=Se(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this)).rect=t,r.shapeFactory=new pe,r.shape=r.shapeFactory.Create(e,r.rect),r}return e=u,r=[{key:"Action",value:function(t,e){t===$.Render&&this.renderHandler(e),we(Se(u.prototype),"Action",this).call(this,t,e)}},{key:"Height",get:function(){return this.shape.Height},set:function(t){this.shape.Height=t}},{key:"Width",get:function(){return this.shape.Width},set:function(t){this.shape.Width=t}},{key:"Left",get:function(){return this.rect.Point.X},set:function(t){this.rect.Point.X=t}},{key:"Top",get:function(){return this.rect.Point.Y},set:function(t){this.rect.Point.Y=t}},{key:"Right",get:function(){return this.Left+this.Width},set:function(t){this.Left=t-this.Width}},{key:"Bottom",get:function(){return this.Top+this.Height},set:function(t){this.Top=t-this.Height}},{key:"CenterX",get:function(){return this.Left+this.Width/2}},{key:"CenterY",get:function(){return this.Top+this.Height/2}},{key:"Point",get:function(){return new de(this.Left,this.Top)}},{key:"Point_Ref",get:function(){return this.rect.Point}},{key:"Rectangle",get:function(){return[this.Left,this.Top,this.Width,this.Height]}}],r&&Oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_e(o)?o:String(o)),n)}var o}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function Pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ke(n);if(o){var r=ke(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pe(t)}(this,t)});function u(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.Center,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.Center,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TANK_SIZE,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f.COLOR;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,R.Rectangle)).InitEvent($.Render),r.text=e,r.ver=o,r.gor=n,r.fontSize=c,r.color=a,r.RegistryObserver($.Render,Pe(r)),r}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return je(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return je(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"Length",get:function(){return this.text.length}},{key:"PixelLength",get:function(){return this.Length*this.fontSize}},{key:"TextLeft",get:function(){switch(this.gor){case E.Left:return this.Left;case E.Right:return this.Right-this.PixelLength;case E.Center:return this.CenterX-this.PixelLength/4}}},{key:"TextTop",get:function(){switch(this.ver){case _.Up:return this.Top;case _.Down:return this.Bottom-this.fontSize;case _.Center:return this.CenterY-this.fontSize/2}}},{key:"drawText",value:function(t){var e=t.CX;e.beginPath(),e.textBaseline="top",e.fillStyle=this.color,e.font="".concat(this.fontSize,"px serif"),e.fillText(this.text,this.TextLeft,this.TextTop),e.closePath()}},{key:"renderHandler",value:function(t){this.drawText(t)}},{key:"Text",set:function(t){this.text=t}}])&&Te(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ie(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ie(o)?o:String(o)),n)}var o}function Ne(){return Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ke(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ne.apply(this,arguments)}function xe(t,e){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xe(t,e)}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xe(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ke(n);if(o){var r=Ke(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Be(t)}(this,t)});function u(t,e,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,new zt(t,f.BUTTON_WIDTH,f.BUTTON_HEIGHT),R.Rectangle)).InitEvent($.Render),o.status=r,o.id=n,o.text=new Re(new zt(o.Point_Ref,o.Width,o.Height),e,E.Center,_.Center,f.BLOCK_SIZE,"black"),o.colorMatrix=new Map([[I.Ordinary,"#5e5373"],[I.Active,"#18b5a4"],[I.Disabled,"gray"]]),o.RegistryObserver($.Render,Be(o)),o}return e=u,(r=[{key:"getActiveHandler",value:function(t){this.setActive()}},{key:"lostActiveHandler",value:function(t){this.setOrdinary()}},{key:"renderHandler",value:function(t){this.renderBody(t),this.text.NotifyObservers($.Render,t)}},{key:"Action",value:function(t,e){switch(t){case $.GetActive:this.getActiveHandler(e);break;case $.LostActive:this.lostActiveHandler(e)}Ne(Ke(u.prototype),"Action",this).call(this,t,e)}},{key:"renderBody",value:function(t){var e,r=t.CX;r.fillStyle=this.colorMatrix.get(this.Status),r.fillRect.apply(r,function(t){if(Array.isArray(t))return Ae(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"Shiftable",get:function(){return!this.isDisabled()}},{key:"Status",get:function(){return this.status}},{key:"setActive",value:function(){this.status=I.Active}},{key:"setOrdinary",value:function(){this.status=I.Ordinary}},{key:"isDisabled",value:function(){return this.Status===I.Disabled}},{key:"setDisabled",value:function(){this.status=I.Disabled}},{key:"ID",get:function(){return this.id},set:function(t){this.id=t}},{key:"Text",set:function(t){this.text.Text=t}}])&&Le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function He(t,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},He(t,e)}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(r);if(n){var o=De(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Track=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ge(t)}var We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ge(r);if(n){var o=Ge(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Direction=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Ye(){Ye=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==Ve(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Xe(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ve(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ve(o)?o:String(o)),n)}var o}function Qe(){return Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Qe.apply(this,arguments)}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qe(t,e)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tr(t)}var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(a,t);var e,r,n,o,i,u,c=(i=a,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tr(i);if(u){var r=tr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this,new zt(new de(0,0),f.GAME_WIDTH,f.GAME_HEIGHT),R.Rectangle)).canInput=!1,e.waitForEnubleInput(),e.buttonList=new Array,e.activeIndex=0,e.backStatus=t,e.InitEvent($.Render),e.InitEvent($.Shift),e.InitEvent($.GetActive),e.InitEvent($.LostActive),e.InitEvent($.Confirm),e.InitEvent($.TrackOnceOn),e.InitEvent($.ChangeMode),e.InitEvent($.TrackLoopOn),e.InitEvent($.TrackOff),e.shiftHandler=p(e.shiftHandler.bind(Je(e)),P.Shift),e.confirmHandler=p(e.confirmHandler.bind(Je(e)),P.Confirm),e.initButtonList(),e.initEvents(),e}return e=a,r=[{key:"waitForEnubleInput",value:(n=Ye().mark((function t(){var e=this;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(P.Confirm).then((function(){return e.canInput=!0}));case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){Xe(i,r,o,u,c,"next",t)}function c(t){Xe(i,r,o,u,c,"throw",t)}u(void 0)}))},function(){return o.apply(this,arguments)})},{key:"setButtonListLocation",value:function(t){var e=this,r=this.getInnerTopForSet(t.length);t.forEach((function(t,n){e.buttonList.push(new Ze(new de(e.innerLeft,r+n*f.BUTTON_HEIGHT),t.text,t.status,t.id))}))}},{key:"initEvents",value:function(){this.RegistryObserver($.Render,this),this.RegistryObserver($.Shift,this),this.RegistryObserver($.Confirm,this)}},{key:"isBubble",value:function(t){return t===this.backStatus}},{key:"pressButton",value:function(t){this.NotifyObservers($.ChangeMode,new Mt(this,t,this.isBubble(t)))}},{key:"shiftHandler",value:function(t){var e=this,r=t.Direction,n=this.activeIndex,o=function(){e.buttonList[e.activeIndex].Action($.GetActive,new lt(e)),e.buttonList[n].Action($.LostActive,new lt(e))};if(r==T.Up)for(;;){if(this.activeIndex--,0>this.activeIndex){this.activeIndex=n;break}if(this.buttonList[this.activeIndex].Shiftable){o();break}}else if(r==T.Down)for(;;){if(this.activeIndex++,this.buttonList.length<=this.activeIndex){this.activeIndex=n;break}if(this.buttonList[this.activeIndex].Shiftable){o();break}}this.NotifyObservers($.TrackOnceOn,new Me(this,B.ShiftMenu))}},{key:"confirmHandler",value:function(t){!function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),this.pressButton(this.buttonList[this.activeIndex].ID),this.NotifyObservers($.TrackOnceOn,new Me(this,B.ConfirmMenu))}},{key:"updateHandler",value:function(t){t.Sender;var e=t.Keys;this.canInput&&(this.pefrormBackKeys(e),this.performShiftKeys(e),this.pefrormConfirmKeys(e))}},{key:"renderHandler",value:function(t){this.renderClearRect(t),this.buttonList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}},{key:"renderClearRect",value:function(t){var e=t.CX;e.fillStyle=f.BACKGROUND_COLOR,e.fillRect(0,0,f.GAME_WIDTH,f.GAME_HEIGHT),e.closePath()}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.Shift:this.shiftHandler(e);break;case $.Confirm:this.confirmHandler(e)}Qe(tr(a.prototype),"Action",this).call(this,t,e)}},{key:"performShiftKeys",value:function(t){t.Up||t.W?this.NotifyObservers($.Shift,new We(this,T.Up)):(t.Down||t.S)&&this.NotifyObservers($.Shift,new We(this,T.Down))}},{key:"pefrormConfirmKeys",value:function(t){(t.Enter||t.Space)&&this.NotifyObservers($.Confirm,new lt(this))}},{key:"pefrormBackKeys",value:function(t){var e=this;t.Escape&&(this.activeIndex=this.buttonList.indexOf(this.buttonList.find((function(t){return t.ID==e.backStatus}))),this.NotifyObservers($.Confirm,new lt(this)))}},{key:"innerLeft",get:function(){return this.Right-1.125*f.BUTTON_WIDTH}},{key:"innerTop",get:function(){return this.CenterY-this.buttonList.length*f.BUTTON_HEIGHT/2}},{key:"getInnerTopForSet",value:function(t){return this.Bottom-1.25*f.BUTTON_HEIGHT-f.BUTTON_HEIGHT*(t-1)}}],r&&ze(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ee);function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function nr(t){return function(t){if(Array.isArray(t))return or(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return or(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?or(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==rr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===rr(o)?o:String(o)),n)}var o}function ur(){return ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ur.apply(this,arguments)}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fr(t)}var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fr(n);if(o){var r=fr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).levelIndex=e,r.InitEvent($.ChangeLevelIndex),r.InitEvent($.SetLevelIndex),r.InitEvent($.SetTankLevel),r.RegistryObserver($.ChangeLevelIndex,ar(r)),r}return e=u,r=[{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Листать вперёд",id:N.Next},{status:I.Ordinary,text:"Листать вперёд",id:N.Prev},{status:I.Ordinary,text:"К выбору игроков",id:N.ChoosePlayers},{status:I.Ordinary,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}},{key:"renderWhiteRect",value:function(t){var e=t.CX;e.beginPath(),e.strokeStyle=f.COLOR,e.strokeRect.apply(e,nr(this.MiniMapLocation)),e.closePath()}},{key:"renderLevelText",value:function(t){var e=t.CX,r=t.Images,n="Уровень ".concat(this.levelIndex+1," / ").concat(r.MiniMaps.length);e.beginPath(),e.fillStyle=f.METALIC_COLOR,e.font="".concat(f.TANK_SIZE,"px serif"),e.fillText(n,this.MiniMapLocation[0]+f.MINI_MAP_SIZE/2-n.length/4.75*f.TANK_SIZE,this.MiniMapLocation[1]+f.MINI_MAP_SIZE+f.TANK_SIZE),e.closePath()}},{key:"renderMiniMap",value:function(t){var e;(e=t.CX).drawImage.apply(e,[t.Images.MiniMaps[this.levelIndex]].concat(nr(this.MiniMapLocation))),this.renderWhiteRect(t),this.renderLevelText(t)}},{key:"MiniMapLocation",get:function(){return[this.CenterX-f.MINI_MAP_SIZE/2-f.MINI_MAP_SIZE/3.75,this.CenterY-f.MINI_MAP_SIZE/2-f.TANK_SIZE,f.MINI_MAP_SIZE,f.MINI_MAP_SIZE]}},{key:"renderHandler",value:function(t){ur(fr(u.prototype),"renderHandler",this).call(this,t),this.levelsCount=t.Images.MiniMaps.length,this.renderMiniMap(t)}},{key:"changeLevelIndexHandler",value:function(t){var e=t.Flag;e&&this.levelIndex<this.levelsCount-1?this.levelIndex++:!e&&this.levelIndex>0&&this.levelIndex--}},{key:"pressButton",value:function(t){t==N.Next?this.NotifyObservers($.ChangeLevelIndex,new bt(this,!0)):t==N.Prev?this.NotifyObservers($.ChangeLevelIndex,new bt(this,!1)):t==N.ChoosePlayers?(this.NotifyObservers($.SetLevelIndex,new Wt(this,this.levelIndex)),this.NotifyObservers($.ChangeMode,new Mt(this,A.ChoosePlayers,!1))):(this.NotifyObservers($.SetLevelIndex,new Wt(this,0)),this.NotifyObservers($.SetTankLevel,new Wt(this,0)),this.NotifyObservers($.ChangeMode,new Mt(this,this.backStatus,!0)))}},{key:"Action",value:function(t,e){t===$.ChangeLevelIndex&&this.changeLevelIndexHandler(e),ur(fr(u.prototype),"Action",this).call(this,t,e)}}],r&&ir(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function yr(t,e){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yr(t,e)}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}var hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yr(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(r);if(n){var o=pr(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).List=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}var mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dr(r);if(n){var o=dr(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Object=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}function gr(t){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gr(t)}var Sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gr(r);if(n){var o=gr(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Point=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Er(t){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(t)}function _r(t){return function(t){if(Array.isArray(t))return jr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return jr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Er(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Er(o)?o:String(o)),n)}var o}function $r(t,e){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$r(t,e)}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}var kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pr(n);if(o){var r=Pr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Er(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t,e)}return e=u,(r=[{key:"renderHandler",value:function(t){var e=t.CX,r=t.Images;e.drawImage.apply(e,[r.Sprite].concat(_r(this.Frame),_r(this.Rectangle)))}}])&&Tr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Rr(t){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(t)}function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Rr(o)?o:String(o)),n)}var o}function Ar(){return Ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ar.apply(this,arguments)}function Lr(t,e){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lr(t,e)}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}var xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nr(n);if(o){var r=Nr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,R.Box)).status=r,n.vector=e,n.blowUp=null,n.InitEvent($.Crash),n.InitEvent($.Death),n.InitEvent($.Born),n.InitEvent($.Spawn),n.InitEvent($.BlowUp),n.InitEvent($.Move),n.InitEvent($.SetLocation),n.InitEvent($.SetActorOwner),n.initEvents(),n}return e=u,r=[{key:"deathHandler",value:function(t){this.status=this.DeathStatus,this.NotifyObservers($.Death,new lt(this))}},{key:"blowUpHandler",value:function(t){this.status=this.BlowUpStatus,this.initBlowUp()}},{key:"setLocationHandler",value:function(t){var e=t.Point;this.Left=e.X,this.Top=e.Y}},{key:"setActorOwnerHander",value:function(t){var e=t.Object;null==this.owner&&(this.owner=e)}},{key:"Action",value:function(t,e){switch(t){case $.Death:this.deathHandler(e);break;case $.Crash:this.crashHandler(e);break;case $.BlowUp:this.blowUpHandler(e);break;case $.Update:this.updateHandler(e);break;case $.SetLocation:this.setLocationHandler(e);break;case $.SetActorOwner:this.setActorOwnerHander(e)}Ar(Nr(u.prototype),"Action",this).call(this,t,e)}},{key:"BlowUp",get:function(){return this.blowUp}},{key:"BlowUpLocation",get:function(){return new de(this.Left-this.Width/2,this.Top-this.Height/2)}},{key:"Owner",get:function(){return this.owner}},{key:"Status",get:function(){return this.status}},{key:"Frame",get:function(){return this.frames[this.ChooseFrame]}},{key:"Vector",get:function(){return this.vector}},{key:"ChooseFrame",get:function(){return this.Vector}},{key:"Speed",get:function(){return this.speed}},{key:"initEvents",value:function(){var t=this;[$.SetLocation,$.Crash,$.SetActorOwner,$.BlowUp].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"initBlowUpEvents",value:function(){this.BlowUp.RegistryObserver($.Death,this)}},{key:"executeCoords",value:function(){this.NotifyObservers($.SetLocation,new Sr(this,this.GetNewLocation())),this.NotifyObservers($.Move,new lt(this))}},{key:"GetNewLocation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Vector,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Point;return t==T.Up?e.Y-=this.Speed:t==T.Down?e.Y+=this.Speed:t==T.Left?e.X-=this.Speed:t==T.Right&&(e.X+=this.Speed),e}},{key:"blowUpRender",value:function(t){this.BlowUp.NotifyObservers($.Render,t)}},{key:"blowUpUpdate",value:function(){this.BlowUp.NotifyObservers($.Update,new Zt(this.BlowUp))}},{key:"okRender",value:function(t){Ar(Nr(u.prototype),"renderHandler",this).call(this,t)}}],r&&Ir(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Br(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Br(o)?o:String(o)),n)}var o}var Zr=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.time=r,this.callback=e,this.deltaTime=10,this.count=this.time-this.deltaTime,this.Tick=p(this.Tick.bind(this),this.deltaTime)}var e,r;return e=t,r=[{key:"Tick",value:function(){this.count+=this.deltaTime,this.count>=this.time&&(this.count=0,this.callback.apply(this,arguments))}}],r&&Kr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Cr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Cr(o)?o:String(o)),n)}var o}function Dr(){return Dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ur(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Dr.apply(this,arguments)}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ur(n);if(o){var r=Ur(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fr(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t,R.Box)).InitEvent($.Death),e.InitEvent($.Update),e.InitEvent($.Render),e.status=Z.Ok,e.animationState=-1,e.setTime(),e.timer=new Zr(e.animationPlay.bind(Fr(e)),e.time),[$.Update,$.Render].forEach((function(t){return e.RegistryObserver(t,Fr(e))})),e}return e=u,(r=[{key:"AnimationState",set:function(t){this.animationState=t}},{key:"Frame",get:function(){return this.frames[this.animationState]}},{key:"updateHandler",value:function(t){this.Status===Z.Ok?this.timer.Tick():this.Status===Z.Death&&this.NotifyObservers($.Death,new lt(this))}},{key:"renderHandler",value:function(t){this.Status===Z.Ok&&-1!==this.animationState&&Dr(Ur(u.prototype),"renderHandler",this).call(this,t)}},{key:"Status",get:function(){return this.status}},{key:"Action",value:function(t,e){t===$.Update&&this.updateHandler(e),Dr(Ur(u.prototype),"Action",this).call(this,t,e)}}])&&Hr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Wr(o)?o:String(o)),n)}var o}function Yr(t,e){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yr(t,e)}function Xr(t){return Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xr(t)}var zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xr(n);if(o){var r=Xr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"animationPlay",value:function(){this.animationState++,this.frames.length==this.animationState&&(this.status=Z.Death)}}])&&Vr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Gr);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function qr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Qr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Qr(o)?o:String(o)),n)}var o}function Jr(t,e){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jr(t,e)}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tn(t)}var en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jr(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tn(n);if(o){var r=tn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,2*f.TANK_SIZE,2*f.TANK_SIZE))).frames=[[19*f.TANK_SIZE,8*f.TANK_SIZE,e.Width,e.Height],[21*f.TANK_SIZE,8*f.TANK_SIZE,e.Width,e.Height]],e}return e=u,(r=[{key:"setTime",value:function(){this.time=P.TankBlowUp}}])&&qr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(zr);function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==rn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===rn(o)?o:String(o)),n)}var o}function on(t,e){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},on(t,e)}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}var cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&on(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=un(n);if(o){var r=un(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE))).frames=[[16*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[17*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[18*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],e}return e=u,(r=[{key:"setTime",value:function(){this.time=P.ShotBlowUp}}])&&nn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(zr);function an(t){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(t)}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}function sn(t){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sn(t)}var ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sn(r);if(n){var o=sn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).Type=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(mr);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==yn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===yn(o)?o:String(o)),n)}var o}function hn(){return hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},hn.apply(this,arguments)}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(n);if(o){var r=dn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.BLOCK_SIZE,f.BLOCK_SIZE),R.Box)).InitEvent($.SetAgregateOwner),e.InitEvent($.ChangeBlock),e.InitEvent($.BornCollision),[$.SetAgregateOwner,$.BornCollision].forEach((function(t){return e.RegistryObserver(t,vn(e))})),e}return e=u,(r=[{key:"Frame",get:function(){return this.frames}},{key:"setAgregateOwnerHandler",value:function(t){var e=t.Object;null==this.Owner&&(this.owner=e)}},{key:"Owner",get:function(){return this.owner}},{key:"IndexX",get:function(){return this.Left/f.BLOCK_SIZE}},{key:"IndexY",get:function(){return this.Top/f.BLOCK_SIZE}},{key:"bornCollisionHandler",value:function(t){var e=this,r=t.List.filter((function(t){return t instanceof Ii&&t.CanDamage}));r.length&&r.forEach((function(t){return t.NotifyObservers($.BlowUp,new mr(t,e))}))}},{key:"Action",value:function(t,e){switch(t){case $.SetAgregateOwner:this.setAgregateOwnerHandler(e);break;case $.BornCollision:this.bornCollisionHandler(e)}hn(dn(u.prototype),"Action",this).call(this,t,e)}}])&&pn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function wn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==On(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===On(o)?o:String(o)),n)}var o}function gn(t,e){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gn(t,e)}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}var En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sn(n);if(o){var r=Sn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"Frame",get:function(){return this.frames[this.Status]}},{key:"Status",get:function(){return this.status}}])&&wn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(mn);function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function jn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_n(o)?o:String(o)),n)}var o}function Tn(){return Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Tn.apply(this,arguments)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kn(t)}var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kn(n);if(o){var r=kn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pn(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).InitEvent($.GetDamage),e.InitEvent($.Death),[$.GetDamage,$.Death].forEach((function(t){return e.RegistryObserver(t,Pn(e))})),e}return e=u,(r=[{key:"Action",value:function(t,e){t===$.Death&&this.deathHandler(e),Tn(kn(u.prototype),"Action",this).call(this,t,e)}}])&&jn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(En);function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function An(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==In(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===In(o)?o:String(o)),n)}var o}function Ln(){return Ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ln.apply(this,arguments)}function Nn(t,e){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nn(t,e)}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}var Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(o){var r=xn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).status=K.Full,e.frames=[[18*f.TANK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[17*f.TANK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[17*f.TANK_SIZE+f.BLOCK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[16*f.TANK_SIZE+f.BLOCK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[16*f.TANK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE]],e}return e=u,(r=[{key:"getDamageHandler",value:function(t){var e=t.Direction;this.status=e}},{key:"deathHandler",value:function(t){this.status=K.Death,this.NotifyObservers($.ChangeBlock,new ln(this,this,U.Road))}},{key:"renderHandler",value:function(t){this.Status!==K.Death&&Ln(xn(u.prototype),"renderHandler",this).call(this,t)}},{key:"Action",value:function(t,e){t===$.GetDamage&&this.getDamageHandler(e),Ln(xn(u.prototype),"Action",this).call(this,t,e)}}])&&An(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Rn);function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function Zn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Kn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Kn(o)?o:String(o)),n)}var o}function Cn(){return Cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Cn.apply(this,arguments)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Dn(t){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dn(t)}var Mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dn(n);if(o){var r=Dn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).status=Z.Ok,e.frames=[[16*f.TANK_SIZE,4*f.TANK_SIZE+f.BLOCK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[19*f.TANK_SIZE,4*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE]],e}return e=u,(r=[{key:"deathHandler",value:function(t){this.status=Z.Death,this.NotifyObservers($.ChangeBlock,new ln(this,this,U.Road))}},{key:"renderHandler",value:function(t){this.Status!==Z.Death&&Cn(Dn(u.prototype),"renderHandler",this).call(this,t)}}])&&Zn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Rn);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Un(t,e)}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gn(r);if(n){var o=Gn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(mn);function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Vn(o)?o:String(o)),n)}var o}function Xn(){return Xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xn.apply(this,arguments)}function zn(t,e){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zn(t,e)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qn(t)}var Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qn(n);if(o){var r=qn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}(this,t)});function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new de(6*f.TANK_SIZE,12*f.TANK_SIZE);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,new zt(e,f.TANK_SIZE,f.TANK_SIZE),R.Box)).InitEvent($.Crash),t.InitEvent($.Death),t.InitEvent($.Render),t.InitEvent($.TrackOnceOn),t.status=Z.Ok,t.frames=[[19*t.Width,2*t.Height,t.Width,t.Height],[20*t.Width,2*t.Height,t.Width,t.Height]],[$.Crash,$.Death,$.Render].forEach((function(e){return t.RegistryObserver(e,Qn(t))})),t}return e=u,(r=[{key:"crashHandler",value:function(t){this.Status!==Z.Death&&this.NotifyObservers($.Death,new lt(this))}},{key:"deathHandler",value:function(t){this.status=Z.Death,this.NotifyObservers($.TrackOnceOn,new Me(this,B.Flag))}},{key:"Status",get:function(){return this.status}},{key:"Frame",get:function(){return this.frames[this.Status]}},{key:"Action",value:function(t,e){switch(t){case $.Crash:this.crashHandler(e);break;case $.Death:this.deathHandler(e)}Xn(qn(u.prototype),"Action",this).call(this,t,e)}}])&&Yn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eo(t,e)}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var no=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eo(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ro(r);if(n){var o=ro(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).Flag=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(hr);function oo(t){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(t)}function io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==oo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===oo(o)?o:String(o)),n)}var o}function uo(){return uo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},uo.apply(this,arguments)}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}var fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(n);if(o){var r=ao(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Ok;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,new zt(t,f.BLOCK_SIZE,f.BLOCK_SIZE),e,o)).InitEvent($.SetAgregateOwner),n.InitEvent($.SetTankOwner),n.speed=r,n.frames=[[20*f.TANK_SIZE,6*f.TANK_SIZE+n.Height/2,n.Width,n.Height],[21*f.TANK_SIZE,6*f.TANK_SIZE+n.Height/2,n.Width,n.Height],[20*f.TANK_SIZE+n.Width,6*f.TANK_SIZE+n.Height/2,n.Width,n.Height],[21*f.TANK_SIZE+n.Width,6*f.TANK_SIZE+n.Height/2,n.Width,n.Height]],n.initShotEvents(),n}return e=u,(r=[{key:"setArgegateOwnerHandler",value:function(t){var e=t.Object;this.agregateOwner=e}},{key:"setTankOwnerHandler",value:function(t){var e=t.Object;null==this.tankOwner&&(this.tankOwner=e)}},{key:"updateHandler",value:function(t){switch(this.Status){case H.Ok:this.okUpdate();break;case H.BlowUp:this.blowUpUpdate()}}},{key:"renderHandler",value:function(t){switch(this.Status){case H.Ok:this.okRender(t);break;case H.BlowUp:this.blowUpRender(t)}}},{key:"crashHandler",value:function(t){var e=this,r=t.List,n=r.filter((function(t){return e.Owner!==t.Owner&&!(t instanceof Wn)})),o=n.reduce((function(t,e){return e instanceof Bn?t.bricks.push(e):e instanceof Mn?t.irons.push(e):e instanceof Jn?t.flag.push(e):e instanceof u?t.shots.push(e):e instanceof Ii&&t.tanks.push(e),t}),{bricks:new Array,irons:new Array,flag:new Array,shots:new Array,tanks:new Array});o.bricks.length&&o.bricks[0].Owner.NotifyObservers($.Crash,new no(this,o.bricks,0!==o.irons.length||0!==o.flag.length)),o.irons.length&&o.irons[0].Owner.NotifyObservers($.Crash,new hr(this,o.irons)),o.flag.length&&o.flag[0].NotifyObservers($.Crash,new lt(this)),o.shots.length&&o.shots.forEach((function(t){return t.NotifyObservers($.BlowUp,new lt(t))})),o.tanks.length&&o.tanks.forEach((function(t){return t.NotifyObservers($.ShotHit,new mr(t,e))})),(!r.length||o.tanks.length||o.shots.length||o.irons.length|o.bricks.length||o.flag.length)&&this.NotifyObservers($.BlowUp,new lt(this))}},{key:"blowUpHandler",value:function(t){uo(ao(u.prototype),"blowUpHandler",this).call(this,t),this.TankOwner.NotifyObservers($.ClearShotSlot,new mr(this.TankOwner,this))}},{key:"Action",value:function(t,e){switch(t){case $.SetAgregateOwner:this.setArgegateOwnerHandler(e);break;case $.SetTankOwner:this.setTankOwnerHandler(e)}uo(ao(u.prototype),"Action",this).call(this,t,e)}},{key:"IsOk",get:function(){return this.Status===H.Ok}},{key:"DeathStatus",get:function(){return H.Death}},{key:"BlowUpStatus",get:function(){return H.BlowUp}},{key:"Background",get:function(){return this.background}},{key:"TankOwner",get:function(){return this.tankOwner}},{key:"Damage",get:function(){return f.SHOT_DAMAGE}},{key:"initShotEvents",value:function(){var t=this;[$.SetAgregateOwner,$.SetTankOwner].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"initBlowUp",value:function(){this.blowUp=new cn(this.BlowUpLocation),this.initBlowUpEvents()}},{key:"okUpdate",value:function(){this.movement()}},{key:"okRender",value:function(t){uo(ao(u.prototype),"renderHandler",this).call(this,t),this.renderArc(t)}},{key:"movement",value:function(){this.executeCoords()}},{key:"arc",value:function(t,e){var r=t.CX;r.beginPath(),r.fillStyle=this.Background,r.arc(e.X,e.Y,this.Width/8,0,2*Math.PI,!0),r.fill()}},{key:"renderArc",value:function(t){this.Vector==T.Up?this.arc(t,new de(this.Left+this.Width/2+this.Width/16,this.Top+this.Height/2+this.Height/14)):this.Vector==T.Down?this.arc(t,new de(this.Left+this.Width/2+this.Width/16,this.Top+this.Height/2)):this.Vector==T.Left?this.arc(t,new de(this.Left+this.Width/2+this.Width/12,this.Top+this.Height/2-this.Height/16)):this.Vector==T.Right&&this.arc(t,new de(this.Left+this.Width/2-this.Width/16,this.Top+this.Height/2-this.Height/16))}}])&&io(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(xr);function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function lo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==so(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==so(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===so(o)?o:String(o)),n)}var o}function yo(t,e){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yo(t,e)}function po(t){return po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},po(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yo(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=po(n);if(o){var r=po(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE))).totalTime=e,r.count=-r.time,r.up=!0,r}return e=u,(r=[{key:"animationPlay",value:function(){this.animationState<this.frames.length-1&&this.up?(this.animationState++,this.animationState==this.frames.length-1&&(this.up=!1)):this.animationState>0&&!this.up&&(this.animationState--,0==this.animationState&&(this.up=!0)),this.count+=this.time,this.count>=this.totalTime&&(this.status=Z.Death)}},{key:"setTime",value:function(){this.time=P.LoopAnimationTime}}])&&lo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Gr);function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function vo(t,e){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vo(t,e)}function mo(t){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(t)}var Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vo(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mo(r);if(n){var o=mo(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t,P.Spawn)).frames=[[16*e.Width,6*e.Height,e.Width,e.Height],[17*e.Width,6*e.Height,e.Width,e.Height],[18*e.Width,6*e.Height,e.Width,e.Height],[19*e.Width,6*e.Height,e.Width,e.Height]],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ho);function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}function So(t){return So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},So(t)}var Eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=So(r);if(n){var o=So(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.ShildOdrinary;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t,r)).frames=[[16*e.Width,9*e.Height,e.Width,e.Height],[17*e.Width,9*e.Height,e.Width,e.Height]],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ho);function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_o(o)?o:String(o)),n)}var o}var To=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.time=r,this.callback=e,this.deltaTime=10,this.count=0,this.ended=!1,this.Set=p(this.Set.bind(this),this.deltaTime)}var e,r;return e=t,r=[{key:"Set",value:function(){this.ended||(this.count+=this.deltaTime,this.count>=this.time&&(this.callback.apply(this,arguments),this.ended=!0))}}],r&&jo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function Po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$o(o)?o:String(o)),n)}var o}function ko(){return ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ao(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ko.apply(this,arguments)}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ro(t,e)}function Io(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ao(n);if(o){var r=Ao(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Io(t)}(this,t)});function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Waiting,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Nothing;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE),R.Box)).InitEvent($.Update),e.InitEvent($.Born),e.InitEvent($.BornCollision),e.InitEvent($.Death),e.InitEvent($.Catch),e.InitEvent($.TrackOnceOn),e.InitEvent($.SetAgregateOwner),e.blink=!1,e.status=r,e.blinkStatus=n,e.waitingTime=5e3,e.nothingBlinkTime=8e3,e.smallBlinkTime=6e3,e.middleBlinkTime=4e3,e.bigBlinkTime=2e3,e.setBlink=p(e.setBlink.bind(Io(e)),300),e.smallBlinkTimer=new Zr(e.setBlink,300),e.middleBlinkTimer=new Zr(e.setBlink,400),e.bigBlinkTimer=new Zr(e.setBlink,500),e.bornTimeOut=new To(e.invokeBornEvent.bind(Io(e)),e.waitingTime),e.smallBlinkTimeOut=new To(e.changeBlinkState.bind(Io(e)),e.nothingBlinkTime),e.middleBlinkTimeOut=new To(e.changeBlinkState.bind(Io(e)),e.smallBlinkTime),e.bigBlinkTimeOut=new To(e.changeBlinkState.bind(Io(e)),e.middleBlinkTime),e.deathTimeOut=new To(e.invokeDeathEvent.bind(Io(e)),e.bigBlinkTime),[$.SetAgregateOwner,$.BornCollision,$.Catch].forEach((function(t){return e.RegistryObserver(t,Io(e))})),e}return e=u,(r=[{key:"setArgegateOwnerHandler",value:function(t){var e=t.Object;this.agregateOnwer=e}},{key:"Status",get:function(){return this.status}},{key:"changeBlinkState",value:function(){this.blinkStatus++}},{key:"updateHandler",value:function(t){if(this.Status==d.Waiting)this.bornTimeOut.Set();else if(this.Status==d.Ok)switch(this.blinkStatus){case m.Nothing:this.smallBlinkTimeOut.Set();break;case m.Small:this.smallBlinkTimer.Tick(),this.middleBlinkTimeOut.Set();break;case m.Middle:this.middleBlinkTimer.Tick(),this.bigBlinkTimeOut.Set();break;case m.Big:this.bigBlinkTimer.Tick(),this.deathTimeOut.Set()}}},{key:"catchHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,new Me(this,B.Bonus)),this.invokeDeathEvent()}},{key:"invokeBornEvent",value:function(){this.Action($.Born,new lt(this))}},{key:"invokeDeathEvent",value:function(){this.Action($.Death,new lt(this))}},{key:"bornHandler",value:function(t){this.status=d.Ok,this.NotifyObservers($.Born,t)}},{key:"deathHandler",value:function(t){this.status=d.Death,this.NotifyObservers($.Death,t)}},{key:"setBlink",value:function(){this.blink=!this.blink}},{key:"renderHandler",value:function(t){this.Status!=d.Ok||this.blink||ko(Ao(u.prototype),"renderHandler",this).call(this,t)}},{key:"Frame",get:function(){return this.frames}},{key:"bornCollisionHandler",value:function(t){t.List.filter((function(t){return t instanceof Zi})).length&&this.NotifyObservers($.Catch,new lt(this))}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.Born:this.bornHandler(e);break;case $.BornCollision:this.bornCollisionHandler(e);break;case $.Death:this.deathHandler(e);break;case $.SetAgregateOwner:this.setArgegateOwnerHandler(e);break;case $.Catch:this.catchHandler(e)}ko(Ao(u.prototype),"Action",this).call(this,t,e)}}])&&Po(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function xo(t,e){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xo(t,e)}function Bo(t){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(t)}var Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bo(r);if(n){var o=Bo(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[16*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Co(t,e)}function Ho(t){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(t)}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ho(r);if(n){var o=Ho(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[19*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Fo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mo(o)?o:String(o)),n)}var o}function Uo(t,e){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uo(t,e)}function Go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wo(n);if(o){var r=Wo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Go(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.InitEvent($.Render),t.InitEvent($.Move),t.InitEvent($.Turn),t.InitEvent($.Shot),t.InitEvent($.Death),t.InitEvent($.BlowUp),t.InitEvent($.Spawn),t.InitEvent($.Born),t.InitEvent($.TrackLoopOn),t.InitEvent($.TrackOff),t.InitEvent($.TrackOnceOn),[$.Update,$.Render].forEach((function(e){return t.RegistryObserver(e,Go(t))})),t}return e=u,(r=[{key:"initTankEvents",value:function(){var t=this;[$.Move,$.Turn,$.Shot,$.TrackLoopOn,$.GetDamage,$.TrackOff,$.TrackOnceOn,$.Born,$.Death,$.BlowUp,$.Spawn].forEach((function(e){return t.Tank.RegistryObserver(e,t)}))}},{key:"setOwner",value:function(){this.Tank.NotifyObservers($.SetActorOwner,new mr(this.Tank,this))}},{key:"renderHandler",value:function(t){var e;null===(e=this.Tank)||void 0===e||e.NotifyObservers($.Render,t)}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t)}},{key:"turnHandler",value:function(t){this.NotifyObservers($.Turn,t)}},{key:"shotHandler",value:function(t){this.NotifyObservers($.Shot,t)}},{key:"deathHandler",value:function(t){this.NotifyObservers($.Death,new lt(this))}},{key:"spawnHandler",value:function(t){this.NotifyObservers($.Spawn,new lt(this))}},{key:"bornHandler",value:function(t){this.NotifyObservers($.Born,new lt(this))}},{key:"blowUpHandler",value:function(t){this.NotifyObservers($.BlowUp,t)}},{key:"Tank",get:function(){return this.tank}},{key:"ShotParams",get:function(){return[new de(this.Tank.Left+this.Tank.Width/4,this.Tank.Top+this.Tank.Height/4),this.Tank.Vector,this.Tank.ShotSpeed]}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.Death:this.deathHandler(e);break;case $.BlowUp:this.blowUpHandler(e);break;case $.Born:this.bornHandler(e);break;case $.Spawn:this.spawnHandler(e);break;case $.GetDamage:this.getDamageHandler(e);break;case $.Render:this.renderHandler(e)}}}])&&Fo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function Xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Yo(o)?o:String(o)),n)}var o}function Qo(){return Qo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Qo.apply(this,arguments)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}var ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jo(n);if(o){var r=Jo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,r=t.tankLevel;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).InitEvent($.GetDamage),e.InitEvent($.AskHidden),e.InitEvent($.Upgreat),e.InitEvent($.Reborn),e.InitEvent($.AddShild),e.InitEvent($.BonusDistribution),e.InitEvent($.UpdatePlayerHp),e.InitEvent($.NotAlive),e.tankLevel=r,e.count=0,e.shild=null,e.initPlayerEvents(),e}return e=u,(r=[{key:"Shild",get:function(){return this.shild}},{key:"TankLevel",get:function(){return this.tankLevel}},{key:"initTankEvents",value:function(){var t=this;Qo(Jo(u.prototype),"initTankEvents",this).call(this),[$.AskHidden,$.BonusDistribution].forEach((function(e){return t.Tank.RegistryObserver(e,t)}))}},{key:"initPlayerEvents",value:function(){var t=this;[$.Upgreat,$.Reborn,$.AddShild,$.NotAlive].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"updatePlayerHpHandler",value:function(t){this.NotifyObservers($.UpdatePlayerHp,new lt(this))}},{key:"renderHandler",value:function(t){Qo(Jo(u.prototype),"renderHandler",this).call(this,t),this.Shild&&this.Shild.NotifyObservers($.Render,t)}},{key:"ordinaryApear",value:function(){this.setTank(new de(this.spawnLocation.X,this.spawnLocation.Y)),this.Tank.NotifyObservers($.Spawn,new lt(this))}},{key:"setPoint",value:function(t){this.point=t}},{key:"setTank",value:function(t,e,r){var n;this.tank=this.tankFactory.Create(this.tankLevel,t,e,r),this.setOwner(),this.initTankEvents(),this.setPoint(null===(n=this.Tank)||void 0===n?void 0:n.Point_Ref),this.NotifyObservers($.UpdatePlayerHp,new lt(this))}},{key:"updateHandler",value:function(t){var e=this.setTankKeys(t.Keys);this.Tank&&this.Tank.NotifyObservers($.Update,new Zt(this,e)),this.Shild&&this.Shild.NotifyObservers($.Update,t)}},{key:"getDamageHandler",value:function(t){this.NotifyObservers($.UpdatePlayerHp,new lt(this))}},{key:"blowUpHandler",value:function(t){this.shildDeath(),Qo(Jo(u.prototype),"blowUpHandler",this).call(this,t),this.NotifyObservers($.UpdatePlayerHp,new lt(this))}},{key:"aksHiddenHandler",value:function(t){this.NotifyObservers($.AskHidden,t)}},{key:"PlayerShotParams",get:function(){return[].concat(function(t){if(Array.isArray(t))return Xo(t)}(t=Qo(Jo(u.prototype),"ShotParams",this))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[this.Tank.Hidden]);var t}},{key:"shildDeath",value:function(){this.shild=null}},{key:"deathHandler",value:function(t){t.Sender instanceof Eo?this.shildDeath():(this.tank=null,Qo(Jo(u.prototype),"deathHandler",this).call(this,t))}},{key:"bornHandler",value:function(t){Qo(Jo(u.prototype),"bornHandler",this).call(this,t),this.NotifyObservers($.AddShild,new Wt(this,P.ShildStart))}},{key:"rebornHandler",value:function(t){this.tankLevel=j.FirstLevel,this.ordinaryApear()}},{key:"upgreatHandler",value:function(t){var e;this.tankLevel!=j.FourthLevel&&this.tankLevel++,this.setTank(this.point,null===(e=this.Tank)||void 0===e?void 0:e.Vector,D.Ok)}},{key:"addShildHandler",value:function(t){var e=t.Number;this.Shild&&this.Shild.RemoveObserver($.Death,this),this.shild=new Eo(this.point,e),this.Shild.RegistryObserver($.Death,this)}},{key:"bonusDistributionHandler",value:function(t){var e=t.Object;e instanceof Do?this.NotifyObservers($.Upgreat,new lt(this)):e instanceof Ko?this.NotifyObservers($.AddShild,new Wt(this,P.ShildOdrinary)):this.NotifyObservers($.BonusDistribution,t)}},{key:"notAliveHandler",value:function(t){this.tankLevel=j.FirstLevel,this.tank=null,this.NotifyObservers($.UpdatePlayerHp,new lt(this))}},{key:"Action",value:function(t,e){switch(t){case $.AskHidden:this.aksHiddenHandler(e);break;case $.Reborn:this.rebornHandler(e);break;case $.Upgreat:this.upgreatHandler(e);break;case $.AddShild:this.addShildHandler(e);break;case $.BonusDistribution:this.bonusDistributionHandler(e);break;case $.NotAlive:this.notAliveHandler(e)}Qo(Jo(u.prototype),"Action",this).call(this,t,e)}}])&&zo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Vo);function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(t,e){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ri(t,e)}function ni(t){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ni(t)}var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ri(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ni(r);if(n){var o=ni(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[16*f.TANK_SIZE+f.BLOCK_SIZE,4*f.TANK_SIZE+f.BLOCK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(mn);function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function ui(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ii(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ii(o)?o:String(o)),n)}var o}function ci(t,e,r){return e&&ui(t.prototype,e),r&&ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var ai=ci((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Vector=e,this.Shot=r}));function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function si(t,e){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},si(t,e)}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},li(t)}var yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=li(r);if(n){var o=li(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e,r,n)).background=G.Gray,u}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(fo);function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function hi(t,e,r){return hi=Si()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&wi(o,r.prototype),o},hi.apply(null,arguments)}function bi(t){return function(t){if(Array.isArray(t))return di(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||vi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(t,e){if(t){if("string"==typeof t)return di(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?di(t,e):void 0}}function di(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pi(o)?o:String(o)),n)}var o}function Oi(){return Oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ei(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Oi.apply(this,arguments)}function wi(t,e){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wi(t,e)}function gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ei(t){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ei(t)}var _i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wi(t,e)}(u,t);var e,r,n,o,i=(n=u,o=Si(),function(){var t,e=Ei(n);if(o){var r=Ei(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gi(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).InitEvent($.SetAgregateOwner),e.InitEvent($.AskCheckAround),e.InitEvent($.SetAround),e.InitEvent($.AskBaseLocation),e.InitEvent($.SetBaseLocation),e.InitEvent($.SetVector),e.InitEvent($.SetShot),e.vectorHistory=new Array,e.vectorsPrioriry=new Set,e.getDamage=!1,e.variants=new Map([[V.Road,[]],[V.BrickAndIron,[]],[V.Bricks,[]],[V.Irons,[]],[V.OutLevel,[]],[V.PlayerTank,[]],[V.Flag,[]],[V.Bushes,[]]]),e.RegistryObserver($.SetAround,gi(e)),e.setVectorHandler=p(e.setVectorHandler.bind(gi(e)),150),e.moveTimer=new Zr(e.move.bind(gi(e)),2e3),e.mayBeTurnTimer=new Zr(e.mayBeTurn.bind(gi(e)),700),e.shotingTimer=new Zr(e.shoting.bind(gi(e)),500),e.setVarAroundTimer=new Zr(e.setVarAround.bind(gi(e)),150),e.tank=t,e.setOwner(),e.initTankEvents(),e.setOldPoint(),e.initEnemyEvents(),e.setCanUpdate(),e}return e=u,r=[{key:"setCanUpdate",value:function(){this.canUpdate=!0}},{key:"stopTheTimeHandler",value:function(t){this.canUpdate=!1,this.canUpdateTimeOut=new To(this.setCanUpdate.bind(this),P.StopTheTime)}},{key:"initEnemyEvents",value:function(){var t=this;[$.SetVector,$.SetShot,$.SetBaseLocation].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"GetMoveVectors",value:function(){var t=new Array,e=Array.from(this.vectorsPrioriry),r=function(t){switch(t){case 0:case 1:return 5;case 2:case 3:return 1;default:return 0}};return e.forEach((function(e,n){for(var o=0;o<r(n);o++)t.push(e)})),t}},{key:"IsStop",get:function(){return this.oldPoint.X==this.Tank.Left&&this.oldPoint.Y==this.Tank.Top}},{key:"GorVector",get:function(){return this.gorVector}},{key:"VerVector",get:function(){return this.verVector}},{key:"setAroundHandler",value:function(t){var e=t.Around;this.around=e}},{key:"fillVariants",value:function(){var t,e,r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=vi(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}(this.Around);try{for(n.s();!(t=n.n()).done;){var o=(e=t.value,r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,f=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){f=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(f)throw o}}return c}}(e,r)||vi(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],u=o[1];this.isThatRoad(u)?this.variants.get(V.Road).push(i):this.isThatBricks(u)?this.variants.get(V.Bricks).push(i):this.isThatIrons(u)?this.variants.get(V.Irons).push(i):this.isThatBrickAndIron(u)?this.variants.get(V.BrickAndIron).push(i):this.isThatOutLevel(u)?this.variants.get(V.OutLevel).push(i):this.isThatPlayerTank(u)?this.variants.get(V.PlayerTank).push(i):this.isThatFlag(u)?this.variants.get(V.Flag).push(i):this.isThatBush(u)&&this.variants.get(V.Bushes).push(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"resetVariants",value:function(){var t=this;Array.from(this.variants.keys()).forEach((function(e){return t.variants.set(e,[])}))}},{key:"setGorVector",value:function(){this.seekObjectLocation.X-f.TANK_SIZE/4>=this.Tank.Left?this.gorVector=T.Right:this.seekObjectLocation.X+f.TANK_SIZE/4<=this.Tank.Left&&(this.gorVector=T.Left),this.seekObjectLocation.X+f.TANK_SIZE/4>this.Tank.Left&&this.seekObjectLocation.X-f.TANK_SIZE/4<this.Tank.Left&&(this.gorVector=null)}},{key:"setVerVector",value:function(){this.seekObjectLocation.Y-f.TANK_SIZE/4>=this.Tank.Top?this.verVector=T.Down:this.seekObjectLocation.Y+f.TANK_SIZE/4<=this.Tank.Top&&(this.verVector=T.Up),this.seekObjectLocation.Y+f.TANK_SIZE/4>this.Tank.Top&&this.seekObjectLocation.Y-f.TANK_SIZE/4<this.Tank.Top&&(this.verVector=null)}},{key:"fillVectorsPrioriry",value:function(){var t=this.PriorityArray;X.includes(t[0])?(this.vectorsPrioriry.add(T.Left),this.vectorsPrioriry.add(T.Right)):z.includes(t[0])&&(this.vectorsPrioriry.add(T.Down),this.vectorsPrioriry.add(T.Up)),this.vectorsPrioriry.add(T.Down),this.vectorsPrioriry.add(T.Left),this.vectorsPrioriry.add(T.Right),this.vectorsPrioriry.add(T.Up)}},{key:"resetVectorsPrioriry",value:function(){this.vectorsPrioriry.clear()}},{key:"getRandomVector",value:function(){return this.randomVectorFrom(this.GetMoveVectors())}},{key:"SideVectors",get:function(){return X.includes(this.vector)&&this.EnubleMoveVectors.some((function(t){return z.includes(t)}))?this.EnubleMoveVectors.filter((function(t){return z.includes(t)})):z.includes(this.vector)&&this.EnubleMoveVectors.some((function(t){return X.includes(t)}))?this.EnubleMoveVectors.filter((function(t){return X.includes(t)})):[]}},{key:"EnubleMoveVectors",get:function(){return[].concat(bi(this.variants.get(V.Road)),bi(this.variants.get(V.Bushes)))}},{key:"randomVectorFrom",value:function(t){return t[~~(Math.random()*t.length)]}},{key:"mayBeTurn",value:function(){this.SideVectors.length&&(b(20)||this.isLoopMove())&&this.NotifyObservers($.SetVector,new We(this,this.randomVectorFrom(this.SideVectors)))}},{key:"chooseSide",value:function(){var t;t=this.SideVectors.length?this.randomVectorFrom(this.SideVectors):this.EnubleMoveVectors.length?this.randomVectorFrom(this.EnubleMoveVectors):this.getRandomVector(),this.NotifyObservers($.SetVector,new We(this,t))}},{key:"PriorityArray",get:function(){return Array.from(this.vectorsPrioriry)}},{key:"isOneDirection",value:function(t,e){return[t,e].every((function(t){return z.includes(t)}))||[t,e].every((function(t){return X.includes(t)}))}},{key:"move",value:function(){var t=this.PriorityArray,e=null;do{e=t.shift(),(!this.EnubleMoveVectors.includes(e)||e!==this.vector&&this.isOneDirection(e,this.vector))&&(e=null)}while(null===e&&t.length);null===e&&(e=this.getRandomVector()),this.NotifyObservers($.SetVector,new We(this,e))}},{key:"crashBehaviour",value:function(){var t,e,r,n,o,i,u;(null!==(t=this.variants.get(V.Bricks))&&void 0!==t&&t.includes(this.vector)||null!==(e=this.variants.get(V.PlayerTank))&&void 0!==e&&e.length||null!==(r=this.variants.get(V.Flag))&&void 0!==r&&r.length)&&this.NotifyObservers($.SetShot,new bt(this,!0)),(this.Tank.CanIronDamage&&null!==(n=this.variants.get(V.Irons))&&void 0!==n&&n.length||null!==(o=this.variants.get(V.BrickAndIron))&&void 0!==o&&o.length)&&this.NotifyObservers($.SetShot,new bt(this,!0)),null!==(i=this.variants.get(V.PlayerTank))&&void 0!==i&&i.length&&!this.getDamage?this.NotifyObservers($.SetVector,new We(this,this.variants.get(V.PlayerTank)[0])):null!==(u=this.variants.get(V.Flag))&&void 0!==u&&u.length?this.NotifyObservers($.SetVector,new We(this,this.variants.get(V.Flag)[0])):this.IsStop&&!this.getDamage&&this.chooseSide()}},{key:"shoting",value:function(){b(30)&&this.NotifyObservers($.SetShot,new bt(this,!0))}},{key:"setVectorPriority",value:function(){if(null===this.verVector)this.vectorsPrioriry.add(this.gorVector);else if(null===this.gorVector)this.vectorsPrioriry.add(this.verVector);else{var t,e;Math.abs(this.Tank.Left-(null===(t=this.seekObjectLocation)||void 0===t?void 0:t.X))-Math.abs(this.Tank.Top-(null===(e=this.seekObjectLocation)||void 0===e?void 0:e.Y))>=0?(this.vectorsPrioriry.add(this.verVector),this.vectorsPrioriry.add(this.gorVector)):(this.vectorsPrioriry.add(this.gorVector),this.vectorsPrioriry.add(this.verVector))}this.fillVectorsPrioriry()}},{key:"setAround",value:function(){this.NotifyObservers($.AskCheckAround,new lt(this.Tank))}},{key:"setShotHandler",value:function(t){var e=t.Flag;this.shot=e}},{key:"isLoopMove",value:function(){return this.vectorHistory.length>4}},{key:"setVectorHandler",value:function(t){var e=t.Direction;this.isOneDirection(this.vector,e)?this.vectorHistory.push(e):this.vectorHistory=[],this.vector=e}},{key:"resetShot",value:function(){this.NotifyObservers($.SetShot,new bt(this,!1))}},{key:"setOldPoint",value:function(){this.oldPoint=this.Tank.Point}},{key:"resetGetDamage",value:function(){this.getDamage=!1}},{key:"II",value:function(){this.resetShot(),this.resetVectorsPrioriry(),this.setVarAroundTimer.Tick(),this.setGorVector(),this.setVerVector(),this.setVectorPriority(),this.moveTimer.Tick(),this.mayBeTurnTimer.Tick(),this.crashBehaviour(),this.shotingTimer.Tick(),this.setOldPoint(),this.Tank.NotifyObservers($.Update,new Zt(this,new ai(this.vector,this.shot))),this.resetGetDamage()}},{key:"setVarAround",value:function(){this.resetVariants(),this.setSeekObjectLocation(),this.setAround(),this.fillVariants()}},{key:"updateHandler",value:function(t){if(this.Tank.IsOk){var e;if(null===(e=this.Tank)||void 0===e||e.NotifyObservers($.SetHealthFrame,new lt(this.Tank)),!this.canUpdate)return void this.canUpdateTimeOut.Set();this.II()}else this.Tank.NotifyObservers($.Update,t)}},{key:"getDamageHandler",value:function(t){var e=t.Object;if(!e.TankHidden){this.getDamage=!0;var r=z.includes(e.Vector)?z.find((function(t){return t!==e.Vector})):X.find((function(t){return t!==e.Vector}));this.NotifyObservers($.SetVector,new We(this,r)),this.NotifyObservers($.SetShot,new bt(this,!0))}}},{key:"isThatBush",value:function(t){return!!t.length&&t.every((function(t){return t instanceof oi}))}},{key:"isThatFlag",value:function(t){return!!t.length&&t.some((function(t){return t instanceof Jn&&t.Status===Z.Ok}))}},{key:"isThatOutLevel",value:function(t){return 0===t.length}},{key:"isThatPlayerTank",value:function(t){return!!t.length&&t.some((function(t){return t.Owner instanceof ti&&!t.Hidden}))}},{key:"isThatRoad",value:function(t){return!!t.length&&t.every((function(t){return t instanceof Wn}))}},{key:"isThatBricks",value:function(t){return!!t.length&&t.every((function(t){return t instanceof Bn}))}},{key:"isThatIrons",value:function(t){return!!t.length&&t.every((function(t){return t instanceof Mn}))}},{key:"isThatBrickAndIron",value:function(t){return!!t.length&&t.some((function(t){return t instanceof Mn}))&&t.some((function(t){return t instanceof Bn}))}},{key:"setArgegateOwnerHandler",value:function(t){var e=t.Object;this.agregateOwner=e}},{key:"GetShot",value:function(){return hi(yi,bi(this.ShotParams))}},{key:"Around",get:function(){return this.around}},{key:"setBaseLocationHandler",value:function(t){var e=t.Point;this.seekObjectLocation=e}},{key:"Action",value:function(t,e){switch(t){case $.SetAgregateOwner:this.setArgegateOwnerHandler(e);break;case $.StopTheTime:this.stopTheTimeHandler(e);break;case $.SetAround:this.setAroundHandler(e);break;case $.SetVector:this.setVectorHandler(e);break;case $.SetShot:this.setShotHandler(e);break;case $.SetBaseLocation:this.setBaseLocationHandler(e)}Oi(Ei(u.prototype),"Action",this).call(this,t,e)}}],r&&mi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Vo);function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function Ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ji(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ji(o)?o:String(o)),n)}var o}function $i(){return $i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ri(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},$i.apply(this,arguments)}function Pi(t,e){return Pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pi(t,e)}function ki(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ri(t){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ri(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pi(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ri(n);if(o){var r=Ri(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}(this,t)});function u(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Nothing;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE),e,n)).InitEvent($.Turn),r.InitEvent($.Shot),r.InitEvent($.ClearShotSlot),r.InitEvent($.GetShot),r.InitEvent($.BornCollision),r.InitEvent($.Update),r.InitEvent($.Render),r.InitEvent($.TrackLoopOn),r.InitEvent($.TrackOnceOn),r.InitEvent($.TrackOff),r.InitEvent($.GetDamage),r.InitEvent($.ShotHit),r.moveFrame=M.First,r.shotSlot=new Array,r.shot=p(r.shot.bind(ki(r)),P.Shot),r.initTankEvents(),r}return e=u,(r=[{key:"ShotSlotLength",get:function(){return this.shotSlotLength}},{key:"deathHandler",value:function(t){t.Sender instanceof Oo?this.NotifyObservers($.Born,new lt(this)):$i(Ri(u.prototype),"deathHandler",this).call(this,t)}},{key:"bornCollisionHandler",value:function(t){var e=this,r=t.List.filter((function(t){return t instanceof u}));if(r.length){var n=r.find((function(t){return!t.CanDamage}));n?this.NotifyObservers($.BlowUp,new mr(this,n)):r.forEach((function(t){return t.NotifyObservers($.BlowUp,new mr(t,e))}))}}},{key:"bornHandler",value:function(t){this.status=D.Ok,this.spawnDeath()}},{key:"spawnHandler",value:function(t){this.status=D.Spawn,this.initSpawn()}},{key:"crashHandler",value:function(t){var e=this,r=t.List.filter((function(t){return e.Owner!==t.Owner&&!(t instanceof Wn)})),n=r.reduce((function(t,e){return e instanceof fo?t.shots.push(e):e instanceof oi?t.bushes.push(e):e instanceof Lo?t.bonuses.push(e):t.stop.push(e),t}),{shots:new Array,bushes:new Array,stop:new Array,bonuses:new Array});if(n.shots.length&&n.shots.forEach((function(t){t.NotifyObservers($.BlowUp,new lt(t)),e.NotifyObservers($.ShotHit,new mr(e,t))})),n.bushes.length&&this.bushReaction(n.bushes),n.bonuses.length&&this.bonusReaction(n.bonuses),n.stop.length){var o=this.Left,i=this.Top;n.stop.forEach((function(t){e.Vector==T.Up&&i<t.Bottom&&i>t.Top?i=t.Bottom:e.Vector==T.Down&&i+e.Height>t.Top&&i+e.Height<t.Bottom?i=t.Top-e.Height:e.Vector==T.Left&&o<t.Right&&o>t.Left?o=t.Right:e.Vector==T.Right&&o+e.Width>t.Left&&o+e.Width<t.Right&&(o=t.Left-e.Width)})),this.NotifyObservers($.SetLocation,new Sr(this,new de(o,i)))}}},{key:"spawnRender",value:function(t){this.Spawn.NotifyObservers($.Render,t)}},{key:"updateHandler",value:function(t){switch(this.Status){case D.Spawn:this.spawnUpdate();break;case D.Ok:this.okUpdate(t);break;case D.BlowUp:this.blowUpUpdate()}}},{key:"renderHandler",value:function(t){switch(this.Status){case D.Spawn:this.spawnRender(t);break;case D.Ok:this.okRender(t);break;case D.BlowUp:this.blowUpRender(t)}}},{key:"clearShotSlotHandler",value:function(t){var e=t.Object;this.shotSlot.splice(this.shotSlot.indexOf(e),1)}},{key:"shotHitHandler",value:function(t){var e=t.Object;e.Owner instanceof ti&&this.Owner instanceof ti||e.Owner instanceof _i&&this.Owner instanceof _i||this.CanDamage&&this.NotifyObservers($.GetDamage,new mr(this,e))}},{key:"CanDamage",get:function(){return!0}},{key:"getDamageHandler",value:function(t){var e=t.Object;this.healthPoints-=e.Damage,this.healthPoints<=0?this.NotifyObservers($.BlowUp,new mr(this,e)):this.getDamageReaction()}},{key:"Action",value:function(t,e){switch(t){case $.ClearShotSlot:this.clearShotSlotHandler(e);break;case $.Spawn:this.spawnHandler(e);break;case $.Born:this.bornHandler(e);break;case $.ShotHit:this.shotHitHandler(e);break;case $.GetDamage:this.getDamageHandler(e);break;case $.BornCollision:this.bornCollisionHandler(e)}$i(Ri(u.prototype),"Action",this).call(this,t,e)}},{key:"ShotSpeed",get:function(){return this.shotSpeed}},{key:"CanIronDamage",get:function(){return!1}},{key:"IsOk",get:function(){return this.Status===D.Ok}},{key:"DeathStatus",get:function(){return D.Death}},{key:"BlowUpStatus",get:function(){return D.BlowUp}},{key:"ChooseFrame",get:function(){return $i(Ri(u.prototype),"ChooseFrame",this)+this.moveFrame}},{key:"Spawn",get:function(){return this.spawn}},{key:"HP",get:function(){return this.healthPoints}},{key:"initTankEvents",value:function(){var t=this;[$.ClearShotSlot,$.Spawn,$.Born,$.ShotHit,$.GetDamage,$.BornCollision,$.Update,$.Render].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"initSpawn",value:function(){this.spawn=new Oo(this.Point_Ref),this.Spawn.RegistryObserver($.Death,this)}},{key:"initBlowUp",value:function(){this.blowUp=new en(this.BlowUpLocation),this.initBlowUpEvents(),this.playBlowUp()}},{key:"playBlowUp",value:function(){this.NotifyObservers($.TrackOnceOn,new Me(this,B.TankBlowUp))}},{key:"spawnDeath",value:function(){this.spawn=null}},{key:"setMoveFrame",value:function(){this.moveFrame=this.moveFrame===M.First?M.Second:M.First}},{key:"okUpdate",value:function(t){var e=t.Keys;null!=(null==e?void 0:e.Vector)&&(this.setMoveFrame(),this.movement(e.Vector)),e.Shot&&this.shot()}},{key:"spawnUpdate",value:function(){this.Spawn.NotifyObservers($.Update,new Zt(this))}},{key:"turn",value:function(t){(X.includes(t)&&z.includes(this.Vector)||X.includes(this.Vector)&&z.includes(t))&&this.NotifyObservers($.Turn,new We(this,t)),this.vector=t}},{key:"movement",value:function(t){this.turn(t),this.executeCoords()}},{key:"shot",value:function(){if(this.shotSlot.length!=this.shotSlotLength){var t=this.Owner.GetShot();t.NotifyObservers($.SetTankOwner,new mr(t,this)),t.NotifyObservers($.SetActorOwner,new mr(t,this.Owner)),this.shotSlot.push(t),this.NotifyObservers($.Shot,new mr(this,t)),this.playShot()}}}])&&Ti(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(xr);function Ai(t){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(t)}function Li(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ai(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ai(o)?o:String(o)),n)}var o}function Ni(){return Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ki(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ni.apply(this,arguments)}function xi(t,e){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xi(t,e)}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ki(t){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(t)}var Zi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ki(n);if(o){var r=Ki(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}(this,t)});function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.Up,n=arguments.length>2?arguments[2]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t,r,n)).InitEvent($.AskHidden),e.InitEvent($.SetHidden),e.InitEvent($.BonusDistribution),e.hidden=!1,e.RegistryObserver($.SetHidden,Bi(e)),e}return e=u,r=[{key:"bornHandler",value:function(t){Ni(Ki(u.prototype),"bornHandler",this).call(this,t)}},{key:"setHiddenHandler",value:function(t){var e=t.Flag;this.hidden=e}},{key:"Action",value:function(t,e){t===$.SetHidden&&this.setHiddenHandler(e),Ni(Ki(u.prototype),"Action",this).call(this,t,e)}},{key:"Hidden",get:function(){return this.hidden}},{key:"CanDamage",get:function(){return null==this.Owner.Shild}},{key:"getDamageReaction",value:function(){this.NotifyObservers($.TrackOnceOn,new Me(this,B.HitPlayer))}},{key:"bushReaction",value:function(t){this.NotifyObservers($.AskHidden,new hr(this,t))}},{key:"bonusReaction",value:function(t){var e=this;t.forEach((function(t){e.NotifyObservers($.BonusDistribution,new mr(e,t)),t.NotifyObservers($.Catch,new lt(t))}))}},{key:"playShot",value:function(){this.NotifyObservers($.TrackOnceOn,new Me(this,B.Shot))}}],r&&Li(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ii);function Ci(t){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(t)}function Hi(t,e){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hi(t,e)}function Di(t){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Di(t)}var Mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Di(r);if(n){var o=Di(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ci(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.FisrtLevelTank,n.shotSpeed=w.FisrtLevelTank,n.shotSlotLength=O.One,n.healthPoints=g.FisrtLevelTank,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Zi);function Fi(t){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}function Ui(t,e){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ui(t,e)}function Gi(t){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gi(t)}var Wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ui(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gi(r);if(n){var o=Gi(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,8*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Mi);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function Yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Vi(o)?o:String(o)),n)}var o}function Xi(t,e){return Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xi(t,e)}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(t)}var Qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xi(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zi(n);if(o){var r=zi(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e,r)).speed=S.FourthLevelTank,n.shotSpeed=w.FourthLevelTank,n.shotSlotLength=O.Two,n.healthPoints=g.FourthLevelTank,n}return e=u,(r=[{key:"CanIronDamage",get:function(){return!0}}])&&Yi(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zi);function qi(t){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(t)}function Ji(t,e){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ji(t,e)}function tu(t){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(t)}var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ji(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tu(r);if(n){var o=tu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,11*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Qi);function ru(t){return ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(t)}function nu(t,e){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nu(t,e)}function ou(t){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(t)}var iu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ou(r);if(n){var o=ou(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.SecondLevelTank,n.shotSpeed=w.SecondLevelTank,n.shotSlotLength=O.One,n.healthPoints=g.SecondLevelTank,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Zi);function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function cu(t,e){return cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cu(t,e)}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}var fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=au(r);if(n){var o=au(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,9*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(iu);function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function lu(t,e){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lu(t,e)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}var pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yu(r);if(n){var o=yu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.ThirdLevelTank,n.shotSpeed=w.ThirdLevelTank,n.shotSlotLength=O.Two,n.healthPoints=g.ThirdLevelTank,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Zi);function hu(t){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(t)}function bu(t,e){return bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bu(t,e)}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(t)}var du=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vu(r);if(n){var o=vu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,10*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(pu);function mu(t){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(t)}function Ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==mu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===mu(o)?o:String(o)),n)}var o}var wu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"Create",value:function(t,e,r,n){return new(this.types.get(t))(e,r,n)}}])&&Ou(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gu(t){return gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(t)}function Su(t,e){return Su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Su(t,e)}function Eu(t){return Eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eu(t)}var _u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Su(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eu(r);if(n){var o=Eu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).types=new Map([[j.FirstLevel,Wi],[j.SecondLevel,fu],[j.ThirdLevel,du],[j.FourthLevel,eu]]),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(wu);function ju(t){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(t)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}function $u(t){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(t)}var Pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$u(r);if(n){var o=$u(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,0,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Mi);function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function Ru(t,e){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ru(t,e)}function Iu(t){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(t)}var Au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ru(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Iu(r);if(n){var o=Iu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,3*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Qi);function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Nu(t,e){return Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nu(t,e)}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xu(t)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xu(r);if(n){var o=xu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,1*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(iu);function Ku(t){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Zu(t,e){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zu(t,e)}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(t)}var Hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cu(r);if(n){var o=Cu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[[0*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[4*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[2*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[6*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[1*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[5*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[3*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[7*f.TANK_SIZE,2*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(pu);function Du(t){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(t)}function Mu(t,e){return Mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mu(t,e)}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}var Uu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mu(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fu(r);if(n){var o=Fu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).types=new Map([[j.FirstLevel,Pu],[j.SecondLevel,Bu],[j.ThirdLevel,Hu],[j.FourthLevel,Au]]),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(wu);function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Wu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Gu(o)?o:String(o)),n)}var o}function Vu(){return Vu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xu(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Vu.apply(this,arguments)}function Yu(t,e){return Yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yu(t,e)}function Xu(t){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(t)}var zu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yu(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xu(n);if(o){var r=Xu(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).toBattle=e,r.yellowTankFactory=new Uu,r.greenTankFactory=new _u,r.initText(),r.InitEvent($.ChangePlayersCount),r}return e=u,(r=[{key:"initText",value:function(){this.titleText=new Re(new zt(new de(2*f.BLOCK_SIZE,f.BLOCK_SIZE),this.Width-f.TANK_SIZE,2*f.TANK_SIZE),"Выберите кол-во игроков",E.Center,_.Center,1.35*f.TANK_SIZE,"#aaa9ad"),this.orText=new Re(new zt(new de(8*f.BLOCK_SIZE,6.5*f.TANK_SIZE),3*f.TANK_SIZE,2*f.TANK_SIZE),"Или",E.Center,_.Center,1.35*f.TANK_SIZE,"#aaa9ad"),this.firstPlayerTank_1=this.yellowTankFactory.Create(j.FirstLevel,new de(9.5*f.BLOCK_SIZE,3.5*f.TANK_SIZE),T.Up,D.Ok),this.firstPlayerTank_1.Width=2*f.TANK_SIZE,this.firstPlayerTank_2=this.yellowTankFactory.Create(j.FirstLevel,new de(3.5*f.BLOCK_SIZE,9.25*f.TANK_SIZE),T.Up,D.Ok),this.firstPlayerTank_2.Width=2*f.TANK_SIZE,this.secondPlayerTank=this.greenTankFactory.Create(j.FirstLevel,new de(15.5*f.BLOCK_SIZE,9.25*f.TANK_SIZE),T.Up,D.Ok),this.secondPlayerTank.Width=2*f.TANK_SIZE}},{key:"renderHandler",value:function(t){Vu(Xu(u.prototype),"renderHandler",this).call(this,t),[this.titleText,this.orText,this.secondPlayerTank,this.firstPlayerTank_1,this.firstPlayerTank_2].forEach((function(e){return e.NotifyObservers($.Render,t)}))}},{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Один игрок",id:L.OnePlayer},{status:I.Ordinary,text:"Два игрока",id:L.TwoPlayers},{status:I.Ordinary,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}},{key:"pressButton",value:function(t){t==L.OnePlayer?this.NotifyObservers($.ChangePlayersCount,new bt(this,!1)):t==L.TwoPlayers&&this.NotifyObservers($.ChangePlayersCount,new bt(this,!0)),this.isBubble(t)?this.NotifyObservers($.ChangeMode,new Mt(this,this.backStatus,!0)):this.NotifyObservers($.ChangeMode,new Mt(this,this.toBattle?A.Battle:A.FirstPlayerChooseTank,!1))}}])&&Wu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Qu(t){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(t)}function qu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Qu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Qu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Qu(o)?o:String(o)),n)}var o}function Ju(){return Ju="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rc(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ju.apply(this,arguments)}function tc(t,e){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tc(t,e)}function ec(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rc(t){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rc(t)}var nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tc(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rc(n);if(o){var r=rc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ec(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).tankLevel=e,r.tankSize=4*f.TANK_SIZE,r.InitEvent($.ChangeTankLevel),r.InitEvent($.SetTankLevel),r.RegistryObserver($.ChangeTankLevel,ec(r)),r}return e=u,r=[{key:"setText",value:function(){this.text=new Re(new zt(new de(2*f.BLOCK_SIZE,f.BLOCK_SIZE),this.Width-f.TANK_SIZE,2*f.TANK_SIZE),"".concat(this.title," / ").concat(this.tankLevel+1," Уровень"),E.Center,_.Center,1.35*f.TANK_SIZE,"#aaa9ad")}},{key:"renderLevel",value:function(t){this.text.NotifyObservers($.Render,t),this.tank.Action($.Render,t)}},{key:"setTank",value:function(){this.tank=this.tankFactory.Create(this.tankLevel,new de(this.CenterX-this.tankSize,this.CenterY-f.BLOCK_SIZE),T.Up,D.Ok),this.tank.Width=this.tankSize}},{key:"renderHandler",value:function(t){Ju(rc(u.prototype),"renderHandler",this).call(this,t),this.renderLevel(t)}},{key:"changeTankLevelHandler",value:function(t){var e=t.Flag;e&&this.tankLevel<3?this.tankLevel++:!e&&this.tankLevel>0&&this.tankLevel--,this.setText(),this.setTank(),this.NotifyObservers($.SetTankLevel,new Wt(this,this.tankLevel))}},{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Листать вперёд",id:x.Next},{status:I.Ordinary,text:"Листать назад",id:x.Prev},{status:I.Ordinary,text:"В бой",id:x.Battle},{status:I.Ordinary,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}},{key:"pressButton",value:function(t){t==x.Next?this.NotifyObservers($.ChangeTankLevel,new bt(this,!0)):t==x.Prev?this.NotifyObservers($.ChangeTankLevel,new bt(this,!1)):t==x.SecondPlayer?this.NotifyObservers($.ChangeMode,new Mt(this,A.SecondPlayerChooseTank,!1)):t==x.Battle?this.NotifyObservers($.ChangeMode,new Mt(this,A.Battle,!1)):this.NotifyObservers($.ChangeMode,new Mt(this,this.backStatus,!0))}},{key:"Action",value:function(t,e){t===$.ChangeTankLevel&&this.changeTankLevelHandler(e),Ju(rc(u.prototype),"Action",this).call(this,t,e)}}],r&&qu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function oc(t){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(t)}function ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==oc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===oc(o)?o:String(o)),n)}var o}function uc(t,e){return uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uc(t,e)}function cc(t){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cc(t)}var ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uc(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cc(n);if(o){var r=cc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).title="Первый игрок",n.tankFactory=new Uu,n.players=r,n.setButton(),n.setText(),n.setTank(),n}return e=u,(r=[{key:"setButton",value:function(){this.players&&(this.buttonList[2].Text="К танку игрока 2",this.buttonList[2].ID=x.SecondPlayer)}}])&&ic(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nc);function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sc(t,e)}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lc(t)}var yc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lc(r);if(n){var o=lc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).title="Второй игрок",r.tankFactory=new _u,r.setText(),r.setTank(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(nc);function pc(t){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(t)}function hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pc(o)?o:String(o)),n)}var o}function bc(t,e){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bc(t,e)}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vc(t)}var dc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bc(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vc(n);if(o){var r=vc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r,n,o){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(c=i.call(this,t,e,r,o)).tankHidden=n,c}return e=u,(r=[{key:"TankHidden",get:function(){return this.tankHidden}}])&&hc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(fo);function mc(t){return mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(t)}function Oc(t,e){return Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oc(t,e)}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wc(t)}var gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wc(r);if(n){var o=wc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r,n,u){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,t,e,r,n,u)).background=G.Yellow,c}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(dc);function Sc(t){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(t)}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_c(r);if(n){var o=_c(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Sc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r,n,u){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,t,e,r,n,u)).background=G.Green,c}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(dc);function Tc(t){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(t)}function $c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Tc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Tc(o)?o:String(o)),n)}var o}function Pc(){return Pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ic(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Pc.apply(this,arguments)}function kc(t,e){return kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kc(t,e)}function Rc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ic(t){return Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ic(t)}var Ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kc(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ic(n);if(o){var r=Ic(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rc(t)}(this,t)});function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.Down,n=arguments.length>2?arguments[2]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t,r,n)).InitEvent($.SetHealthFrame),e.shotSlotLength=O.One,e.healthFrame=F.First,e.healthTimer=new Zr(e.setHealthFrame.bind(Rc(e)),250),e.RegistryObserver($.SetHealthFrame,Rc(e)),e}return e=u,(r=[{key:"setHealthFrameHandler",value:function(t){this.HP<=f.SHOT_DAMAGE&&this.healthTimer.Tick()}},{key:"ChooseFrame",get:function(){return Pc(Ic(u.prototype),"ChooseFrame",this)+this.healthFrame}},{key:"getDamageReaction",value:function(){this.NotifyObservers($.TrackOnceOn,new Me(this,B.HitEnemy))}},{key:"setHealthFrame",value:function(){this.healthFrame=this.healthFrame==F.First?F.Second:F.First}},{key:"bushReaction",value:function(t){}},{key:"bonusReaction",value:function(t){}},{key:"Action",value:function(t,e){t===$.SetHealthFrame&&this.setHealthFrameHandler(e),Pc(Ic(u.prototype),"Action",this).call(this,t,e)}},{key:"playShot",value:function(){}}])&&$c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ii);function Lc(t){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(t)}function Nc(t,e){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nc(t,e)}function xc(t){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xc(t)}var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xc(r);if(n){var o=xc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.ExtraLightTank,n.shotSpeed=w.ExtraLightTank,n.healthPoints=g.ExtraLightTank,n.frames=[[8*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,5*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[8*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,13*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ac);function Kc(t){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(t)}function Zc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Kc(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Kc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Kc(o)?o:String(o)),n)}var o}function Cc(t,e){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cc(t,e)}function Hc(t){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hc(t)}var Dc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cc(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hc(n);if(o){var r=Hc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e,r)).speed=S.HeavyTank,n.shotSpeed=w.HeavyTank,n.healthPoints=g.HeavyTank,n.frames=[[8*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[8*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,15*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=u,(r=[{key:"CanIronDamage",get:function(){return!0}}])&&Zc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ac);function Mc(t){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(t)}function Fc(t,e){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fc(t,e)}function Uc(t){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uc(t)}var Gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Uc(r);if(n){var o=Uc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.LightTank,n.shotSpeed=w.LightTank,n.healthPoints=g.LightTank,n.frames=[[8*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,4*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[8*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,12*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ac);function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function Vc(t,e){return Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vc(t,e)}function Yc(t){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yc(t)}var Xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yc(r);if(n){var o=Yc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).speed=S.MediumTank,n.shotSpeed=w.MediumTank,n.healthPoints=g.MediumTank,n.frames=[[8*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,6*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[8*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[12*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[10*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[14*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[9*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[13*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[11*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],[15*f.TANK_SIZE,14*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE]],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ac);function zc(t){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(t)}function Qc(t,e){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qc(t,e)}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qc(t)}var Jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qc(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qc(r);if(n){var o=qc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).types=new Map([[W.LightTank,Gc],[W.ExtraLightTank,Bc],[W.MediumTank,Xc],[W.HeavyTank,Dc]]),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(wu);function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ta(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ta(o)?o:String(o)),n)}var o}function ra(){return ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oa(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ra.apply(this,arguments)}function na(t,e){return na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},na(t,e)}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}var ia=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oa(n);if(o){var r=oa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ta(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).InitEvent($.Update),e.status=C.First,e.frames=[[16*f.TANK_SIZE+f.BLOCK_SIZE,5*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE],[17*f.TANK_SIZE,5*f.TANK_SIZE,f.BLOCK_SIZE,f.BLOCK_SIZE]],e}return e=u,(r=[{key:"updateHandler",value:function(t){this.status=this.status==C.First?C.Second:C.First}},{key:"Action",value:function(t,e){t===$.Update&&this.updateHandler(e),ra(oa(u.prototype),"Action",this).call(this,t,e)}}])&&ea(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(En);function ua(t){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(t)}function ca(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ua(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ua(o)?o:String(o)),n)}var o}var aa=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.types=new Map([[U.Brick,Bn],[U.Bush,oi],[U.Water,ia],[U.Iron,Mn],[U.Road,Wn]])}var e,r;return e=t,(r=[{key:"Create",value:function(t,e){return new(this.types.get(t))(e)}}])&&ca(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function sa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==fa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===fa(o)?o:String(o)),n)}var o}function la(t,e){return la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},la(t,e)}function ya(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pa(t){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pa(t)}var ha=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&la(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pa(n);if(o){var r=pa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ya(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,2*f.TANK_SIZE,2*f.TANK_SIZE),R.Box)).InitEvent($.Render),r.blockFactory=new aa,r.locationList=new Array(r.Point,new de(r.Right-f.TANK_SIZE,r.Top),new de(r.Left,r.Bottom-f.TANK_SIZE),new de(r.Right-f.TANK_SIZE,r.Bottom-f.TANK_SIZE)),r.blockList=new Array,r.initBlocks(e),r.RegistryObserver($.Render,ya(r)),r}return e=u,(r=[{key:"initBlocks",value:function(t){var e=this;this.locationList.forEach((function(r){var n=e.blockFactory.Create(t,r);n.Width=f.TANK_SIZE,e.blockList.push(n)}))}},{key:"renderHandler",value:function(t){this.blockList.forEach((function(e){return e.Action($.Render,t)}))}}])&&sa(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function va(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ba(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ba(o)?o:String(o)),n)}var o}function da(){return da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oa(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},da.apply(this,arguments)}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ma(t,e)}function Oa(t){return Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oa(t)}var wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Oa(n);if(o){var r=Oa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).backStatus=A.MainMenu,e.yellowTankFactory=new Uu,e.greenTankFactory=new _u,e.enemyTankFactory=new Jc,e.brickList=new Array,e.bricksLocationList=new Array(new de(e.Left+f.TANK_SIZE,e.Bottom-8.5*f.TANK_SIZE),new de(e.Left+3*f.TANK_SIZE,e.Bottom-8.5*f.TANK_SIZE)),e.initText(),e}return e=u,(r=[{key:"initText",value:function(){var t=this;this.titleText=new Re(new zt(new de(2*f.BLOCK_SIZE,f.BLOCK_SIZE),this.Width-f.TANK_SIZE,2*f.TANK_SIZE),"World of Танчики",E.Center,_.Center,2*f.TANK_SIZE,"#aaa9ad"),this.bricksLocationList.forEach((function(e){t.brickList.push(new ha(e,U.Brick))})),this.firstPlayerTank=this.yellowTankFactory.Create(j.FourthLevel,new de(this.Left+2*f.TANK_SIZE,this.Bottom-2.5*f.TANK_SIZE),T.Up,D.Ok),this.firstPlayerTank.Width=2*f.TANK_SIZE,this.secondPlayerTank=this.greenTankFactory.Create(j.ThirdLevel,new de(this.Left+8.5*f.TANK_SIZE,this.Bottom-4*f.TANK_SIZE),T.Up,D.Ok),this.secondPlayerTank.Width=2*f.TANK_SIZE,this.heavyTank=this.enemyTankFactory.Create(W.HeavyTank,new de(this.Left+8.5*f.TANK_SIZE,this.Bottom-10*f.TANK_SIZE),T.Down,D.Ok),this.heavyTank.Width=2*f.TANK_SIZE,this.mediumTank=this.enemyTankFactory.Create(W.MediumTank,new de(this.Left+5.5*f.TANK_SIZE,this.Bottom-7.5*f.TANK_SIZE),T.Left,D.Ok),this.mediumTank.Width=2*f.TANK_SIZE,this.secondPlayerShot=new jc(new de(this.Left+8.9*f.TANK_SIZE,this.Bottom-5.5*f.TANK_SIZE),T.Up,0,!1,H.Ok),this.secondPlayerShot.Width=f.TANK_SIZE,this.enemyShot=new yi(new de(this.Left+8.9*f.TANK_SIZE,this.Bottom-7.5*f.TANK_SIZE),T.Down,0,H.Ok),this.enemyShot.Width=f.TANK_SIZE,this.firstPlayerShot=new gc(new de(this.Left+2.45*f.TANK_SIZE,this.Bottom-4*f.TANK_SIZE),T.Up,0,!1,H.Ok),this.firstPlayerShot.Width=f.TANK_SIZE,this.shotBlowUp=new cn(new de(this.Left+2*f.TANK_SIZE,this.Bottom-7.35*f.TANK_SIZE)),this.shotBlowUp.Width=2*f.TANK_SIZE,this.shotBlowUp.AnimationState=2}},{key:"renderHandler",value:function(t){da(Oa(u.prototype),"renderHandler",this).call(this,t),this.brickList.forEach((function(e){return e.NotifyObservers($.Render,t)})),[this.titleText,this.firstPlayerTank,this.secondPlayerTank,this.heavyTank,this.mediumTank].forEach((function(e){return e.NotifyObservers($.Render,t)})),[this.secondPlayerShot,this.enemyShot,this.firstPlayerShot,this.shotBlowUp].forEach((function(e){return e.Action($.Render,t)}))}},{key:"pefrormBackKeys",value:function(t){}},{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Из грязи в князи",id:A.ChoosePlayers},{status:I.Ordinary,text:"Свободная игра",id:A.ChooseLevel},{status:I.Ordinary,text:"Справка",id:A.Info}];this.setButtonListLocation(t)}}])&&va(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function Sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ea(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ga(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ga(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ga(o)?o:String(o)),n)}var o}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_a(t,e)}function ja(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ta(t){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ta(t)}var $a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ta(n);if(o){var r=Ta(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ja(t)}(this,t)});function u(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(f.GAME_WIDTH-f.TANK_SIZE)/2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4*f.TANK_SIZE;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,r,n),R.Rectangle)).InitEvent($.Render),e.imgObjLocation=new de(e.Left,e.CenterY-f.TANK_SIZE),e.fontSizeTitle=28,e.fontSizeText=22,e.textList=new Array,e.RegistryObserver($.Render,ja(e)),e}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return Sa(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return Sa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sa(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){this.imgObj.Action($.Render,t),this.textList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}},{key:"TextLeft",get:function(){return this.imgObj.Right+f.BLOCK_SIZE/2}},{key:"TextSize",get:function(){return[this.Width-this.imgObj.Width,f.BLOCK_SIZE]}}])&&Ea(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Pa(t){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(t)}function ka(t,e,r){return ka=Na()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&La(o,r.prototype),o},ka.apply(null,arguments)}function Ra(t){return function(t){if(Array.isArray(t))return Ia(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ia(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ia(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Pa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pa(o)?o:String(o)),n)}var o}function La(t,e){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},La(t,e)}function Na(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}var Ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&La(t,e)}(u,t);var e,r,n,o,i=(n=u,o=Na(),function(){var t,e=xa(n);if(o){var r=xa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).type=e,r.blockFactory=new aa,r.nameColor="green",r.nameDictionary=new Map([[U.Base,{nameText:"База",describeData:{deasroy:"Да",moveThrough:"Нет",shotFlyThrough:"Нет"}}],[U.Brick,{nameText:"Кирпич",describeData:{deasroy:"Да",moveThrough:"Нет",shotFlyThrough:"Нет"}}],[U.Bush,{nameText:"Куст",describeData:{deasroy:"Нет",moveThrough:"Да",shotFlyThrough:"Да"}}],[U.Iron,{nameText:"Железо",describeData:{deasroy:"4 уровень и ТТ",moveThrough:"Нет",shotFlyThrough:"Нет"}}],[U.Water,{nameText:"Вода",describeData:{deasroy:"Нет",moveThrough:"Нет",shotFlyThrough:"Да"}}]]),r.initImgObj(),r.initText(),r}return e=u,(r=[{key:"initImgObj",value:function(){this.type==U.Base?this.imgObj=new Jn(this.imgObjLocation):this.imgObj=this.blockFactory.Create(this.type,this.imgObjLocation),this.imgObj.Width=2*f.TANK_SIZE}},{key:"initText",value:function(){var t,e,r,n;this.nameText=new Re(ka(zt,[new de(this.TextLeft,this.imgObj.Top-f.BLOCK_SIZE/2)].concat(Ra(this.TextSize))),"Блок: ".concat(null===(t=this.nameDictionary.get(this.type))||void 0===t?void 0:t.nameText),E.Left,_.Center,this.fontSizeTitle,this.nameColor),this.destroyText=new Re(ka(zt,[new de(this.TextLeft,this.nameText.Bottom+f.BLOCK_SIZE/2)].concat(Ra(this.TextSize))),"Разрушаемость: ".concat(null===(e=this.nameDictionary.get(this.type))||void 0===e?void 0:e.describeData.deasroy),E.Left,_.Center,this.fontSizeText),this.moveThroughText=new Re(ka(zt,[new de(this.TextLeft,this.destroyText.Bottom+f.BLOCK_SIZE/8)].concat(Ra(this.TextSize))),"Можно проехать: ".concat(null===(r=this.nameDictionary.get(this.type))||void 0===r?void 0:r.describeData.moveThrough),E.Left,_.Center,this.fontSizeText),this.shotFlyThroughText=new Re(ka(zt,[new de(this.TextLeft,this.moveThroughText.Bottom+f.BLOCK_SIZE/8)].concat(Ra(this.TextSize))),"Снаряд пролетает: ".concat(null===(n=this.nameDictionary.get(this.type))||void 0===n?void 0:n.describeData.shotFlyThrough),E.Left,_.Center,this.fontSizeText),this.textList.push(this.nameText,this.destroyText,this.moveThroughText,this.shotFlyThroughText)}}])&&Aa(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}($a);function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function Za(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ka(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ka(o)?o:String(o)),n)}var o}function Ca(t,e){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ca(t,e)}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}var Da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ca(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ha(n);if(o){var r=Ha(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}},{key:"setButtonListLocation",value:function(t){var e=this,r=this.Bottom-1.25*f.BUTTON_HEIGHT;t.forEach((function(t){e.buttonList.push(new Ze(new de(e.innerLeft,r),t.text,t.status,t.id))}))}}])&&Za(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Fa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ma(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ma(o)?o:String(o)),n)}var o}function Ua(){return Ua="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wa(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ua.apply(this,arguments)}function Ga(t,e){return Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ga(t,e)}function Wa(t){return Wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(t)}var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ga(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wa(n);if(o){var r=Wa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).placeList=new Array,e}return e=u,(r=[{key:"renderHandler",value:function(t){Ua(Wa(u.prototype),"renderHandler",this).call(this,t),this.placeList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}}])&&Fa(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Da);function Ya(t){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(t)}function Xa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ya(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ya(o)?o:String(o)),n)}var o}function za(t,e){return za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},za(t,e)}function Qa(t){return Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(t)}var qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&za(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qa(n);if(o){var r=Qa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).initPlaceList(),e}return e=u,(r=[{key:"initPlaceList",value:function(){var t=this,e=f.BLOCK_SIZE,r=f.BLOCK_SIZE;tt.forEach((function(n,o){var i=new Ba(new de(e,r),n);t.placeList.push(i),e=e==f.BLOCK_SIZE?i.Right:f.BLOCK_SIZE,r=o%2?i.Bottom:r}))}}])&&Xa(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Va);function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function tf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ja(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ja(o)?o:String(o)),n)}var o}function ef(){return ef="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nf(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ef.apply(this,arguments)}function rf(t,e){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rf(t,e)}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nf(t)}var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nf(n);if(o){var r=nf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.TANK_SIZE;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE),e,E.Center,_.Center,r)}return e=u,(r=[{key:"FontSize",set:function(t){this.fontSize=t}},{key:"renderHandler",value:function(t){ef(nf(u.prototype),"drawRect",this).call(this,t),ef(nf(u.prototype),"renderHandler",this).call(this,t)}}])&&tf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Re);function uf(t){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(t)}function cf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==uf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===uf(o)?o:String(o)),n)}var o}function af(t,e){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},af(t,e)}function ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sf(t)}var lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&af(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sf(n);if(o){var r=sf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ff(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,3*f.TANK_SIZE,2*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),r.keysLocation=new Map([[T.Up,new de(r.CenterX-f.BLOCK_SIZE,r.Top)],[T.Down,new de(r.CenterX-f.BLOCK_SIZE,r.CenterY)],[T.Left,new de(r.Left,r.CenterY)],[T.Right,new de(r.Right-f.TANK_SIZE,r.CenterY)]]),r.initControlls(e),r.RegistryObserver($.Render,ff(r)),r}return e=u,(r=[{key:"initControlls",value:function(t){"w"==t.up?(this.upText=new Re(new zt(new de(this.CenterX-1.2*f.BLOCK_SIZE,this.Top),f.TANK_SIZE,f.TANK_SIZE),t.up,E.Center,_.Center,f.TANK_SIZE),this.specialBox_up=new of(this.keysLocation.get(T.Up),"")):this.upText=new of(this.keysLocation.get(T.Up),t.up),"\\/"==t.down?(this.downText=new Re(new zt(new de(this.CenterX-f.BLOCK_SIZE/1.5,this.CenterY+f.BLOCK_SIZE/8),f.TANK_SIZE,f.TANK_SIZE),t.down,E.Center,_.Center,f.TANK_SIZE),this.specialBox_down=new of(this.keysLocation.get(T.Down),"")):this.downText=new of(this.keysLocation.get(T.Down),t.down),this.leftText=new of(this.keysLocation.get(T.Left),t.left),this.rightText=new of(this.keysLocation.get(T.Right),t.right)}},{key:"renderHandler",value:function(t){[this.upText,this.downText,this.leftText,this.rightText].forEach((function(e){return e.NotifyObservers($.Render,t)})),[this.specialBox_down,this.specialBox_up].forEach((function(e){return e&&e.NotifyObservers($.Render,t)}))}}])&&cf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function yf(t){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(t)}function pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==yf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===yf(o)?o:String(o)),n)}var o}function bf(t,e){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bf(t,e)}function vf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},df(t)}var mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=df(n);if(o){var r=df(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vf(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,(f.GAME_WIDTH-f.TANK_SIZE)/2.5,9*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),r.playersData=new Map([[1,{up:"^",down:"\\/",left:"<",right:">",shot:"?"}],[2,{up:"w",down:"s",left:"a",right:"d",shot:"c"}]]),r.initText(e),r.RegistryObserver($.Render,vf(r)),r}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return pf(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return pf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pf(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"initText",value:function(t){var e;this.nameText=new Re(new zt(new de(this.Left,this.Top),this.Width,f.TANK_SIZE),"".concat(1==t?"Первый":"Второй"," игрок"),E.Center,_.Center,f.TANK_SIZE,"green"),this.controllsKeys=new lf(new de(this.CenterX-1.5*f.TANK_SIZE,this.nameText.Bottom+2*f.TANK_SIZE),this.playersData.get(t)),this.shotKey=new of(new de(this.CenterX-f.BLOCK_SIZE,this.controllsKeys.Bottom+2*f.TANK_SIZE),null===(e=this.playersData.get(t))||void 0===e?void 0:e.shot)}},{key:"renderHandler",value:function(t){[this.nameText,this.controllsKeys,this.shotKey].forEach((function(e){return e.NotifyObservers($.Render,t)}))}}])&&hf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Of(t){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(t)}function wf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Of(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Of(o)?o:String(o)),n)}var o}function gf(){return gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ef(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gf.apply(this,arguments)}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sf(t,e)}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ef(t)}var _f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ef(n);if(o){var r=Ef(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).initText(),e}return e=u,(r=[{key:"initText",value:function(){this.firstPlayerControlls=new mf(new de(f.BLOCK_SIZE,f.BLOCK_SIZE),1),this.secondPlayerControlls=new mf(new de(this.Right-f.BLOCK_SIZE-this.firstPlayerControlls.Width,f.BLOCK_SIZE),2),this.moveText=new Re(new zt(new de(this.firstPlayerControlls.Right-f.BLOCK_SIZE,this.firstPlayerControlls.Top+1.5*f.TANK_SIZE),4*f.TANK_SIZE,f.TANK_SIZE),"Движение",E.Center,_.Center,f.TANK_SIZE,"green"),this.shotText=new Re(new zt(new de(this.firstPlayerControlls.Right-f.BLOCK_SIZE,this.moveText.Bottom+3*f.TANK_SIZE),4*f.TANK_SIZE,f.TANK_SIZE),"Выстрел",E.Center,_.Center,f.TANK_SIZE,"green"),this.mutedKey=new of(new de(this.firstPlayerControlls.Left+1.5*f.TANK_SIZE,this.firstPlayerControlls.Bottom),"m"),this.minusKey=new of(new de(this.mutedKey.Left,this.mutedKey.Bottom+f.BLOCK_SIZE),"+"),this.plusKey=new of(new de(this.minusKey.Right+f.BLOCK_SIZE,this.minusKey.Top),"-"),this.mutedText=new Re(new zt(new de(this.plusKey.Right+f.BLOCK_SIZE,this.mutedKey.Top),4*f.TANK_SIZE,f.TANK_SIZE),"Вкл/Выкл звук",E.Left,_.Center,1.5*f.BLOCK_SIZE,"green"),this.minusPlusText=new Re(new zt(new de(this.plusKey.Right+f.BLOCK_SIZE,this.plusKey.Top),4*f.TANK_SIZE,f.TANK_SIZE),"Увел/Уменьш звук",E.Left,_.Center,1.5*f.BLOCK_SIZE,"green")}},{key:"renderHandler",value:function(t){gf(Ef(u.prototype),"renderHandler",this).call(this,t),[this.firstPlayerControlls,this.secondPlayerControlls,this.moveText,this.shotText,this.mutedKey,this.minusKey,this.plusKey,this.mutedText,this.minusPlusText].forEach((function(e){return e.NotifyObservers($.Render,t)}))}}])&&wf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Da);function jf(t){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(t)}function Tf(t,e,r){return Tf=If()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Rf(o,r.prototype),o},Tf.apply(null,arguments)}function $f(t){return function(t){if(Array.isArray(t))return Pf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Pf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pf(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==jf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===jf(o)?o:String(o)),n)}var o}function Rf(t,e){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rf(t,e)}function If(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Af(t)}var Lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=If(),function(){var t,e=Af(n);if(o){var r=Af(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"initText",value:function(){this.nameText=new Re(Tf(zt,[new de(this.TextLeft,this.imgObj.Top+f.BLOCK_SIZE/3)].concat($f(this.TextSize))),"Снаряд",E.Left,_.Center,this.fontSizeTitle,this.nameColor),this.damageText=new Re(Tf(zt,[new de(this.TextLeft,this.nameText.Bottom+f.BLOCK_SIZE)].concat($f(this.TextSize))),"Урон: ".concat(f.SHOT_DAMAGE),E.Left,_.Center,this.fontSizeText),this.textList.push(this.nameText,this.damageText)}}])&&kf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}($a);function Nf(t){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(t)}function xf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Nf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Nf(o)?o:String(o)),n)}var o}function Bf(t,e){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bf(t,e)}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kf(t)}var Zf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kf(n);if(o){var r=Kf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).nameColor="red",e.initImgObj(),e.initText(),e}return e=u,(r=[{key:"initImgObj",value:function(){this.imgObj=new yi(this.imgObjLocation,T.Up,0,H.Ok),this.imgObj.Width=2*f.TANK_SIZE}}])&&xf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lf);function Cf(t){return Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(t)}function Hf(t,e,r){return Hf=Gf()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Uf(o,r.prototype),o},Hf.apply(null,arguments)}function Df(t){return function(t){if(Array.isArray(t))return Mf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Mf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mf(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ff(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Cf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Cf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Cf(o)?o:String(o)),n)}var o}function Uf(t,e){return Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uf(t,e)}function Gf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wf(t)}var Vf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uf(t,e)}(u,t);var e,r,n,o,i=(n=u,o=Gf(),function(){var t,e=Wf(n);if(o){var r=Wf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).type=e,r}return e=u,(r=[{key:"initImgObj",value:function(){this.imgObj=this.tankFactory.Create(this.type,this.imgObjLocation,T.Up,D.Ok),this.imgObj.Width=2*f.TANK_SIZE}},{key:"initText",value:function(){this.nameText=new Re(Hf(zt,[new de(this.TextLeft,this.imgObj.Top-f.BLOCK_SIZE)].concat(Df(this.TextSize))),"Танк: ".concat(this.nameDictionary.get(this.type)),E.Left,_.Center,this.fontSizeTitle,this.nameColor),this.healthPointsText=new Re(Hf(zt,[new de(this.TextLeft,this.nameText.Bottom+f.BLOCK_SIZE/2)].concat(Df(this.TextSize))),"ХП: ".concat(this.imgObj.HP),E.Left,_.Center,this.fontSizeText),this.shotSlotText=new Re(Hf(zt,[new de(this.TextLeft,this.healthPointsText.Bottom+f.BLOCK_SIZE/8)].concat(Df(this.TextSize))),"Кол-во снарядов: ".concat(this.imgObj.ShotSlotLength),E.Left,_.Center,this.fontSizeText),this.tankSpeedText=new Re(Hf(zt,[new de(this.TextLeft,this.shotSlotText.Bottom+f.BLOCK_SIZE/8)].concat(Df(this.TextSize))),"Скорость танка: ".concat(this.imgObj.Speed),E.Left,_.Center,this.fontSizeText),this.shotSpeedText=new Re(Hf(zt,[new de(this.TextLeft,this.tankSpeedText.Bottom+f.BLOCK_SIZE/8)].concat(Df(this.TextSize))),"Скорость полёта снаряда: ".concat(this.imgObj.ShotSpeed),E.Left,_.Center,this.fontSizeText),this.textList.push(this.nameText,this.healthPointsText,this.shotSlotText,this.tankSpeedText,this.shotSpeedText)}}])&&Ff(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}($a);function Yf(t){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(t)}function Xf(t,e){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xf(t,e)}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zf(t)}var Qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xf(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zf(r);if(n){var o=zf(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).tankFactory=new Jc,r.nameDictionary=new Map([[W.LightTank,"Лёгкий танк"],[W.ExtraLightTank,"Колёсный танк"],[W.MediumTank,"Средний танк"],[W.HeavyTank,"Тяжёлый танк"]]),r.nameColor="red",r.initImgObj(),r.initText(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Vf);function qf(t){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(t)}function Jf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qf(o)?o:String(o)),n)}var o}function ts(t,e){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ts(t,e)}function es(t){return es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},es(t)}var rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ts(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=es(n);if(o){var r=es(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).initPlaceList(),e}return e=u,(r=[{key:"initPlaceList",value:function(){var t=this,e=f.BLOCK_SIZE,r=f.BLOCK_SIZE;Q.forEach((function(n,o){var i=new Qf(new de(e,r),n);t.placeList.push(i),e=e==f.BLOCK_SIZE?i.Right:f.BLOCK_SIZE,r=o%2?i.Bottom:r})),this.placeList.push(new Zf(new de(e,r)))}}])&&Jf(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Va);function ns(t){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(t)}function os(t,e){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},os(t,e)}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},is(t)}var us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&os(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=is(r);if(n){var o=is(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[18*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function as(t,e){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},as(t,e)}function fs(t){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(t)}var ss=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&as(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fs(r);if(n){var o=fs(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[20*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function ls(t){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(t)}function ys(t,e){return ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ys(t,e)}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(t)}var hs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ys(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ps(r);if(n){var o=ps(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ls(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[21*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function bs(t){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vs(t,e)}function ds(t){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(t)}var ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ds(r);if(n){var o=ds(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).frames=[17*f.TANK_SIZE,7*f.TANK_SIZE,f.TANK_SIZE,f.TANK_SIZE],n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lo);function Os(t){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(t)}function ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Os(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Os(o)?o:String(o)),n)}var o}var gs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.types=new Map([[v.Upgreat,Do],[v.Shild,Ko],[v.OneMoreLive,hs],[v.StopTheTime,ms],[v.KillAllEnemy,ss],[v.BaseShild,us]])}var e,r;return e=t,(r=[{key:"Create",value:function(t,e,r,n){return new(this.types.get(t))(e,r,n)}}])&&ws(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function Es(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ss(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ss(o)?o:String(o)),n)}var o}function js(t,e){return js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},js(t,e)}function Ts(t){return Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(t)}var $s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&js(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ts(n);if(o){var r=Ts(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,5.5*f.TANK_SIZE,f.GAME_HEIGHT-f.TANK_SIZE),R.Rectangle)).textList=new Array({text:"Об авторе:",gor:E.Center,height:f.TANK_SIZE},{text:"Иванов Никита",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"Ильич, студент",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"группы 2-41.",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"Об игре:",gor:E.Center,height:f.TANK_SIZE},{text:'Игра "World Of',gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:'Танчики" созда-',gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"на для сдачи",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"курсового про-",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"екта по ООП.",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"Желаю всем",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"танкистам удач-",gor:E.Left,height:1.75*f.BLOCK_SIZE},{text:"ных боёв!",gor:E.Left,height:1.75*f.BLOCK_SIZE}),e.renderList=new Array,e.initText(),e}return e=u,(r=[{key:"initText",value:function(){var t=this,e=this.Top;this.textList.forEach((function(r){var n=r.text,o=r.gor,i=r.height,u=new Re(new zt(new de(t.Left+f.BLOCK_SIZE/6,e),t.Width,i),n,o,_.Center,1.5*f.BLOCK_SIZE,i==f.TANK_SIZE?"green":"white");e=u.Bottom,t.renderList.push(u)}))}},{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="orange",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return Es(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return Es(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Es(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){this.drawRect(t),this.renderList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}}])&&_s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Ps(t){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(t)}function ks(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ps(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ps(o)?o:String(o)),n)}var o}function Rs(){return Rs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=As(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Rs.apply(this,arguments)}function Is(t,e){return Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Is(t,e)}function As(t){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},As(t)}var Ls=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Is(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=As(n);if(o){var r=As(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).yellowTankFactory=new Uu,e.enemyTankFactory=new Jc,e.blockFactory=new aa,e.bonusFactory=new gs,e.initText(),e}return e=u,(r=[{key:"initText",value:function(){var t=this.buttonList[1].Left-2.5*f.TANK_SIZE,e=this.buttonList[1].Left-5*f.TANK_SIZE;this.controll=new of(new de(e,this.buttonList[0].Top),"c"),this.controll.Width=2*f.TANK_SIZE,this.controll.Height=2*f.TANK_SIZE,this.controll.FontSize=2*f.TANK_SIZE,this.bonus=this.bonusFactory.Create(v.Upgreat,new de(t,this.buttonList[1].Top),d.Ok,m.Nothing),this.bonus.Width=2*f.TANK_SIZE,this.playerTank=this.yellowTankFactory.Create(j.FourthLevel,new de(e,this.buttonList[2].Top),T.Up,D.Ok),this.playerTank.Width=2*f.TANK_SIZE,this.enemyTank=this.enemyTankFactory.Create(W.HeavyTank,new de(t,this.buttonList[3].Top),T.Up,D.Ok),this.enemyTank.Width=2*f.TANK_SIZE,this.block=this.blockFactory.Create(U.Brick,new de(e,this.buttonList[4].Top)),this.block.Width=2*f.TANK_SIZE,this.about=new $s(new de(f.BLOCK_SIZE,f.BLOCK_SIZE))}},{key:"renderHandler",value:function(t){Rs(As(u.prototype),"renderHandler",this).call(this,t),[this.playerTank,this.enemyTank,this.block,this.bonus,this.controll,this.about].forEach((function(e){return e.Action($.Render,t)}))}},{key:"initButtonList",value:function(){this.backStatus=A.MainMenu;var t=[{status:I.Active,text:"Управление",id:k.Controlls},{status:I.Ordinary,text:"Бонусы",id:k.Bonuses},{status:I.Ordinary,text:"Танки игрока",id:k.PlayerTanks},{status:I.Ordinary,text:"Танки противника",id:k.EnemyTanks},{status:I.Ordinary,text:"Блоки",id:k.Blocks},{status:I.Ordinary,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}}])&&ks(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Ns(t){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(t)}function xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ns(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ns(o)?o:String(o)),n)}var o}function Bs(t,e){return Bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bs(t,e)}function Ks(t){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ks(t)}var Zs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bs(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ks(n);if(o){var r=Ks(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).nameColor="green",e.initImgObj(),e.initText(),e}return e=u,(r=[{key:"initImgObj",value:function(){this.imgObj=new gc(this.imgObjLocation,T.Up,0,!1,H.Ok),this.imgObj.Width=2*f.TANK_SIZE}}])&&xs(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lf);function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Hs(t,e){return Hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hs(t,e)}function Ds(t){return Ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ds(t)}var Ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hs(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ds(r);if(n){var o=Ds(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).tankFactory=new Uu,r.nameDictionary=new Map([[j.FirstLevel,"Первый уровень"],[j.SecondLevel,"Второй уровень"],[j.ThirdLevel,"Третий уровень"],[j.FourthLevel,"Четвёртый уровень"]]),r.nameColor="green",r.initImgObj(),r.initText(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Vf);function Fs(t){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(t)}function Us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Fs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Fs(o)?o:String(o)),n)}var o}function Gs(t,e){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gs(t,e)}function Ws(t){return Ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ws(t)}var Vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ws(n);if(o){var r=Ws(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).initPlaceList(),e}return e=u,(r=[{key:"initPlaceList",value:function(){var t=this,e=f.BLOCK_SIZE,r=f.BLOCK_SIZE;q.forEach((function(n,o){var i=new Ms(new de(e,r),n);t.placeList.push(i),e=e==f.BLOCK_SIZE?i.Right:f.BLOCK_SIZE,r=o%2?i.Bottom:r})),this.placeList.push(new Zs(new de(e,r)))}}])&&Us(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Va);function Ys(t){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(t)}function Xs(t,e,r){return Xs=tl()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Js(o,r.prototype),o},Xs.apply(null,arguments)}function zs(t){return function(t){if(Array.isArray(t))return Qs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qs(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ys(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ys(o)?o:String(o)),n)}var o}function Js(t,e){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Js(t,e)}function tl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function el(t){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},el(t)}var rl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Js(t,e)}(u,t);var e,r,n,o,i=(n=u,o=tl(),function(){var t,e=el(n);if(o){var r=el(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t,6*f.TANK_SIZE)).type=e,r.bonusFactory=new gs,r.nameDictionary=new Map([[v.Upgreat,{nameText:"Звезда",describeList:["Увеличивает","уровень такна"]}],[v.BaseShild,{nameText:"Лопата",describeList:["Устанавливает","щит на базу"]}],[v.KillAllEnemy,{nameText:"Граната",describeList:["Уничтожение","всех врагов","на карте"]}],[v.OneMoreLive,{nameText:"Дополнительная жизнь",describeList:["Добавление одной","жизни в копилку"]}],[v.Shild,{nameText:"Щит",describeList:["Враг не может","нанести вам","урон"]}],[v.StopTheTime,{nameText:"Остановка времени",describeList:["Враги останавливаются","на карте и ничего","не делают"]}]]),r.nameColor="green",r.initImgObj(),r.initText(),r}return e=u,(r=[{key:"initImgObj",value:function(){this.imgObj=this.bonusFactory.Create(this.type,this.imgObjLocation,d.Ok,m.Nothing),this.imgObj.Width=2*f.TANK_SIZE}},{key:"initText",value:function(){var t,e,r=this;this.nameText=new Re(Xs(zt,[new de(this.TextLeft,this.imgObj.Top-f.BLOCK_SIZE/2)].concat(zs(this.TextSize))),"Бонус: ".concat(null===(t=this.nameDictionary.get(this.type))||void 0===t?void 0:t.nameText),E.Left,_.Center,this.fontSizeTitle,this.nameColor),this.textList.push(this.nameText);var n=this.nameText.Bottom+f.BLOCK_SIZE/2;null===(e=this.nameDictionary.get(this.type))||void 0===e||e.describeList.forEach((function(t){var e=new Re(Xs(zt,[new de(r.TextLeft,n)].concat(zs(r.TextSize))),t,E.Left,_.Center,r.fontSizeText);r.textList.push(e),n=e.Bottom+f.BLOCK_SIZE/8}))}}])&&qs(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}($a);function nl(t){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(t)}function ol(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nl(o)?o:String(o)),n)}var o}function il(t,e){return il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},il(t,e)}function ul(t){return ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(t)}var cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&il(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ul(n);if(o){var r=ul(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).initPlaceList(),e}return e=u,(r=[{key:"initPlaceList",value:function(){var t=this,e=f.BLOCK_SIZE,r=f.BLOCK_SIZE;J.forEach((function(n,o){var i=new rl(new de(e,r),n);t.placeList.push(i),e=e==f.BLOCK_SIZE?i.Right:f.BLOCK_SIZE,r=o%2?i.Bottom:r}))}}])&&ol(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Va);function al(t){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(t)}function fl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==al(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==al(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===al(o)?o:String(o)),n)}var o}function sl(){return sl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yl(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},sl.apply(this,arguments)}function ll(t,e){return ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ll(t,e)}function yl(t){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(t)}var pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ll(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yl(n);if(o){var r=yl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).status=k.InfoMainMenu,t.ojects=new Map([[k.InfoMainMenu,Ls],[k.Bonuses,cl],[k.Controlls,_f],[k.EnemyTanks,rs],[k.PlayerTanks,Vs],[k.Blocks,qa]]),t.setInteractiveObject(t.status,!0),t}return e=u,(r=[{key:"initEvents",value:function(){}},{key:"Action",value:function(t,e){sl(yl(u.prototype),"Action",this).call(this,t,e)}}])&&fl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Rt);function hl(t){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(t)}function bl(t){return function(t){if(Array.isArray(t))return vl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return vl(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vl(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===hl(o)?o:String(o)),n)}var o}function ml(t,e){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ml(t,e)}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}var wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ml(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ol(n);if(o){var r=Ol(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).audioToOnceOn=new Set,t.audioToLoopOn=new Set,t.audioToOff=new Set,t}return e=u,r=[{key:"initEvents",value:function(){}},{key:"sortTracksHandler",value:function(t){var e=this;[].concat(bl(this.audioToLoopOn),bl(this.audioToOnceOn)).forEach((function(t){e.audioToOff.has(t)&&e.audioToOff.delete(t)}))}},{key:"trackOnceOnHandler",value:function(t){var e=t.Track;this.audioToOnceOn.add(e)}},{key:"trackLoopOnHandler",value:function(t){var e=t.Track;this.audioToLoopOn.add(e)}},{key:"trackOffHandler",value:function(t){var e=t.Track;this.audioToOff.add(e)}},{key:"clearTracksHandler",value:function(t){this.audioToOff.clear(),this.audioToOnceOn.clear(),this.audioToLoopOn.clear()}},{key:"Action",value:function(t,e){switch(t){case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.ClearTracks:this.clearTracksHandler(e);break;case $.SortTracks:this.sortTracksHandler(e)}}},{key:"AudioToOnceOn",get:function(){return this.audioToOnceOn}},{key:"AudioToLoopOn",get:function(){return this.audioToLoopOn}},{key:"AudioToOff",get:function(){return this.audioToOff}}],r&&dl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function gl(t){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(t)}function Sl(t,e){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sl(t,e)}function El(t){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},El(t)}var _l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sl(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=El(r);if(n){var o=El(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).Text=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bt);function jl(t){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(t)}function Tl(t,e){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tl(t,e)}function $l(t){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$l(t)}var Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tl(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$l(r);if(n){var o=$l(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).Direction=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(hr);function kl(t){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(t)}function Rl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===kl(o)?o:String(o)),n)}var o}function Il(t,e){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Il(t,e)}function Al(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ll(t){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ll(t)}var Nl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Il(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ll(n);if(o){var r=Ll(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Al(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).list=new Array,t.InitEvent($.Render),t.InitEvent($.AddToArgegate),t.InitEvent($.RemoveFromAgregate),[$.AddToArgegate,$.RemoveFromAgregate].forEach((function(e){return t.RegistryObserver(e,Al(t))})),t}return e=u,(r=[{key:"addToAgregateHandler",value:function(t){var e=t.Object;e.NotifyObservers($.SetAgregateOwner,new mr(e,this)),this.initObjEvents(e),this.List.push(e)}},{key:"removeFromArgegateHandler",value:function(t){var e=t.Object;this.removeObjEvent(e),this.List.includes(e)&&this.List.splice(this.List.indexOf(e),1)}},{key:"removeObjEvent",value:function(t){this.RemoveObserver($.Render,t)}},{key:"initObjEvents",value:function(t){this.RegistryObserver($.Render,t)}},{key:"renderHandler",value:function(t){this.NotifyObservers($.Render,t)}},{key:"List",get:function(){return this.list}},{key:"Action",value:function(t,e){switch(t){case $.Render:this.renderHandler(e);break;case $.AddToArgegate:this.addToAgregateHandler(e);break;case $.RemoveFromAgregate:this.removeFromArgegateHandler(e)}}}])&&Rl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function Bl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xl(o)?o:String(o)),n)}var o}function Kl(){return Kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hl(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Kl.apply(this,arguments)}function Zl(t,e){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zl(t,e)}function Cl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hl(t){return Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hl(t)}var Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zl(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hl(n);if(o){var r=Hl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.InitEvent($.TrackLoopOn),t.InitEvent($.TrackOff),t.InitEvent($.TrackOnceOn),t.RegistryObserver($.Update,Cl(t)),t}return e=u,(r=[{key:"TankList",get:function(){return this.List.reduce((function(t,e){return t.push(e.Tank),t}),new Array)}},{key:"initObjEvents",value:function(t){var e=this;Kl(Hl(u.prototype),"initObjEvents",this).call(this,t),[$.TrackLoopOn,$.TrackOff,$.TrackOnceOn].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;Kl(Hl(u.prototype),"removeObjEvent",this).call(this,t),[$.TrackLoopOn,$.TrackOff,$.TrackOnceOn].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"updateHandler",value:function(t){this.List.forEach((function(e){return e.NotifyObservers($.Update,t)}))}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e)}Kl(Hl(u.prototype),"Action",this).call(this,t,e)}}])&&Bl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Nl);function Ml(t){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(t)}function Fl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ml(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ml(o)?o:String(o)),n)}var o}function Ul(){return Ul="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wl(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ul.apply(this,arguments)}function Gl(t,e){return Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gl(t,e)}function Wl(t){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wl(t)}var Vl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gl(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wl(n);if(o){var r=Wl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ml(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Death),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;Ul(Wl(u.prototype),"initObjEvents",this).call(this,t),[$.Death].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;Ul(Wl(u.prototype),"removeObjEvent",this).call(this,t),[$.Death].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"deathHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.RemoveFromAgregate,new mr(this,e)),this.NotifyObservers($.Death,new mr(this,e))}},{key:"Action",value:function(t,e){t===$.Death&&this.deathHandler(e),Ul(Wl(u.prototype),"Action",this).call(this,t,e)}}])&&Fl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Dl);function Yl(t){return Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(t)}function Xl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Yl(o)?o:String(o)),n)}var o}function zl(){return zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jl(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},zl.apply(this,arguments)}function Ql(t,e){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ql(t,e)}function ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jl(t){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jl(t)}var ty=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ql(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jl(n);if(o){var r=Jl(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ql(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).InitEvent($.AskPlayersLocation),e.InitEvent($.SetPlayersLocation),e.RegistryObserver($.SetPlayersLocation,ql(e)),e}return e=u,(r=[{key:"setSeekObjectLocation",value:function(){this.NotifyObservers($.AskPlayersLocation,new lt(this))}},{key:"setPlayersLocationHandler",value:function(t){var e=t.FirstPlayerLocation,r=t.SecondPlayerLocation;this.seekObjectLocation=this.getLengthFromPoint(e)<=this.getLengthFromPoint(r)?e:r,this.seekObjectLocation||this.NotifyObservers($.AskBaseLocation,new lt(this))}},{key:"getLengthFromPoint",value:function(t){return t?~~Math.hypot(Math.abs(this.Tank.Left-t.X),Math.abs(this.Tank.Top-t.Y)):1/0}},{key:"Action",value:function(t,e){t===$.SetPlayersLocation&&this.setPlayersLocationHandler(e),zl(Jl(u.prototype),"Action",this).call(this,t,e)}}])&&Xl(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_i);function ey(t){return ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(t)}function ry(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ey(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ey(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ey(o)?o:String(o)),n)}var o}function ny(){return ny="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iy(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ny.apply(this,arguments)}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oy(t,e)}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iy(t)}var uy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=iy(n);if(o){var r=iy(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ey(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.BlowUp),t.InitEvent($.Move),t.InitEvent($.Turn),t.InitEvent($.Shot),t.InitEvent($.AskCheckAround),t.InitEvent($.AskPlayersLocation),t.InitEvent($.AskBaseLocation),t.InitEvent($.StopTheTime),t.InitEvent($.KillAllEnemy),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;ny(iy(u.prototype),"initObjEvents",this).call(this,t),[$.StopTheTime].forEach((function(r){return e.RegistryObserver(r,t)})),[$.BlowUp,$.Move,$.Turn,$.Shot,$.AskCheckAround,$.AskBaseLocation].forEach((function(r){return t.RegistryObserver(r,e)})),t instanceof ty&&[$.AskPlayersLocation].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;ny(iy(u.prototype),"removeObjEvent",this).call(this,t),[$.StopTheTime].forEach((function(r){return e.RemoveObserver(r,t)})),[$.BlowUp,$.Move,$.Turn,$.Shot,$.AskCheckAround,$.AskBaseLocation].forEach((function(r){return t.RemoveObserver(r,e)})),t instanceof ty&&[$.AskPlayersLocation].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"blowUpHandler",value:function(t){this.NotifyObservers($.RemoveFromAgregate,new mr(this,t.Sender.Owner)),this.NotifyObservers($.BlowUp,t)}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t)}},{key:"turnHandler",value:function(t){this.NotifyObservers($.Turn,t)}},{key:"shotHandler",value:function(t){this.NotifyObservers($.Shot,t)}},{key:"askCheckAroundHandler",value:function(t){this.NotifyObservers($.AskCheckAround,t)}},{key:"askPlayersLocationdHandler",value:function(t){this.NotifyObservers($.AskPlayersLocation,t)}},{key:"askBaseLocationdHandler",value:function(t){this.NotifyObservers($.AskBaseLocation,t)}},{key:"stopTheTimeHandler",value:function(t){this.NotifyObservers($.StopTheTime,t)}},{key:"killAllEnemyHandler",value:function(t){var e=t.Object;this.TankList.forEach((function(t){return t.NotifyObservers($.BlowUp,new mr(t,e))}))}},{key:"Action",value:function(t,e){switch(t){case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.BlowUp:this.blowUpHandler(e);break;case $.AskCheckAround:this.askCheckAroundHandler(e);break;case $.AskPlayersLocation:this.askPlayersLocationdHandler(e);break;case $.AskBaseLocation:this.askBaseLocationdHandler(e);break;case $.StopTheTime:this.stopTheTimeHandler(e);break;case $.KillAllEnemy:this.killAllEnemyHandler(e)}ny(iy(u.prototype),"Action",this).call(this,t,e)}}])&&ry(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Dl);function cy(t){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(t)}function ay(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==cy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===cy(o)?o:String(o)),n)}var o}function fy(t,e){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fy(t,e)}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sy(t)}var ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sy(n);if(o){var r=sy(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(r=[{key:"setSeekObjectLocation",value:function(){this.NotifyObservers($.AskBaseLocation,new lt(this))}}])&&ay(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_i);function yy(t){return yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(t)}function py(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,f=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){f=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(f)throw o}}return c}}(t,e)||hy(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hy(t,e){if(t){if("string"==typeof t)return by(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?by(t,e):void 0}}function by(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==yy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===yy(o)?o:String(o)),n)}var o}function dy(){return dy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wy(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},dy.apply(this,arguments)}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},my(t,e)}function Oy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wy(t)}var gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&my(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wy(n);if(o){var r=wy(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Oy(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).InitEvent($.Spawn),e.InitEvent($.UpdateEnemyQueue),e.tankFactory=new Jc,e.spawnLocation=new Array(new de(0,0),new de(6*f.TANK_SIZE,0),new de(12*f.TANK_SIZE,0)),e.spawnIndex=0,e.initQueue(t),e.timer=new Zr(e.addToField.bind(Oy(e)),5e3),e}return e=u,(r=[{key:"updateHandler",value:function(t){this.timer.Tick()}},{key:"addToField",value:function(){if(this.List.length){for(var t=[],e=0;e<this.spawnLocation.length&&this.List[0];e++)t.push(this.List.shift());t.forEach((function(t){return t.Tank.NotifyObservers($.Spawn,new lt(t.Tank))})),this.NotifyObservers($.UpdateEnemyQueue,new Wt(this,this.List.length))}}},{key:"getSpawnLocation",value:function(){var t=this.spawnLocation[this.spawnIndex];return this.spawnIndex=this.spawnIndex==this.spawnLocation.length-1?0:this.spawnIndex+1,new de(t.X,t.Y)}},{key:"initQueue",value:function(t){var e,r=this,n=new Array,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=hy(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}(t);try{for(o.s();!(e=o.n()).done;)for(var i=py(e.value,2),u=i[0],c=i[1],a=0;a<c;a++)n.push(u)}catch(t){o.e(t)}finally{o.f()}(n=this.mixQueue(n)).forEach((function(t){return r.NotifyObservers($.AddToArgegate,new mr(r,r.createEnemy(t)))}))}},{key:"mixQueue",value:function(t){var e,r=t.filter((function(t){return t==W.ExtraLightTank})),n=t.filter((function(t){return t==W.LightTank})),o=t.filter((function(t){return t==W.MediumTank})),i=t.filter((function(t){return t==W.HeavyTank})),u=function(t){if(Array.isArray(t))return by(t)}(e=n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||hy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=[r,o,i];do{var a=c[~~(Math.random()*c.length)].pop();a&&u.push(a)}while(r.length||o.length||i.length);return u}},{key:"createEnemy",value:function(t){var e=this.tankFactory.Create(t,this.getSpawnLocation());return t===W.ExtraLightTank||t===W.LightTank?new ly(e):new ty(e)}},{key:"initObjEvents",value:function(t){var e=this;dy(wy(u.prototype),"initObjEvents",this).call(this,t),[$.Spawn].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;dy(wy(u.prototype),"removeObjEvent",this).call(this,t),[$.Spawn].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"spawnHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.RemoveFromAgregate,new mr(this,e)),this.NotifyObservers($.Spawn,new mr(this,e))}},{key:"Action",value:function(t,e){t===$.Spawn&&this.spawnHandler(e),dy(wy(u.prototype),"Action",this).call(this,t,e)}}])&&vy(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Dl);function Sy(t){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(t)}function Ey(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Sy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Sy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Sy(o)?o:String(o)),n)}var o}function _y(){return _y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ty(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_y.apply(this,arguments)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jy(t,e)}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ty(t)}var $y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ty(n);if(o){var r=Ty(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Born),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;_y(Ty(u.prototype),"initObjEvents",this).call(this,t),[$.Born].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;_y(Ty(u.prototype),"removeObjEvent",this).call(this,t),[$.Born].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"bornHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.RemoveFromAgregate,new mr(this,e)),this.NotifyObservers($.Born,new mr(this,e))}},{key:"Action",value:function(t,e){t===$.Born&&this.bornHandler(e),_y(Ty(u.prototype),"Action",this).call(this,t,e)}}])&&Ey(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Dl);function Py(t){return Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(t)}function ky(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Py(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Py(o)?o:String(o)),n)}var o}function Ry(){return Ry="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ly(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ry.apply(this,arguments)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Iy(t,e)}function Ay(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ly(t)}var Ny=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ly(n);if(o){var r=Ly(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Py(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ay(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).InitEvent($.Update),e.InitEvent($.Spawn),e.InitEvent($.Born),e.InitEvent($.BlowUp),e.InitEvent($.Death),e.InitEvent($.Move),e.InitEvent($.Turn),e.InitEvent($.Shot),e.InitEvent($.TrackOff),e.InitEvent($.TrackOnceOn),e.InitEvent($.TrackLoopOn),e.InitEvent($.AskCheckAround),e.InitEvent($.AskPlayersLocation),e.InitEvent($.AskBaseLocation),e.InitEvent($.UpdateEnemyQueue),e.InitEvent($.EnemiesEnded),e.InitEvent($.StopTheTime),e.InitEvent($.KillAllEnemy),e.initEnemyBlowUp(),e.initEnemyOk(),e.initEnemySpawn(),e.initEnemyQueue(t),e.initEvents(),e.ended=!1,e.RegistryObserver($.Update,Ay(e)),e}return e=u,(r=[{key:"updateEnemyQueueHandler",value:function(t){this.NotifyObservers($.UpdateEnemyQueue,t)}},{key:"updateHandler",value:function(t){this.checkEnemiesEnded(),[this.Queue,this.Spawn,this.Ok,this.BlowUp].forEach((function(e){return e.NotifyObservers($.Update,t)}))}},{key:"spawnHandler",value:function(t){this.Spawn.NotifyObservers($.AddToArgegate,t)}},{key:"bornHandler",value:function(t){this.Ok.NotifyObservers($.AddToArgegate,t),this.NotifyObservers($.Born,new lt(t.Object.Tank))}},{key:"blowUpHandler",value:function(t){this.BlowUp.NotifyObservers($.AddToArgegate,new mr(this,t.Sender.Owner)),this.NotifyObservers($.BlowUp,t)}},{key:"deathHandler",value:function(t){this.NotifyObservers($.Death,t)}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t)}},{key:"turnHandler",value:function(t){this.NotifyObservers($.Turn,t)}},{key:"shotHandler",value:function(t){this.NotifyObservers($.Shot,t)}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"askCheckAroundHandler",value:function(t){this.NotifyObservers($.AskCheckAround,t)}},{key:"askPlayersLocationHandler",value:function(t){this.NotifyObservers($.AskPlayersLocation,t)}},{key:"askBaseLocationHandler",value:function(t){this.NotifyObservers($.AskBaseLocation,t)}},{key:"bonusDistributionHandler",value:function(t){var e=t.Object;e instanceof ms?this.NotifyObservers($.StopTheTime,new lt(this)):e instanceof ss&&this.NotifyObservers($.KillAllEnemy,new mr(this,t.Sender))}},{key:"stopTheTimeHandler",value:function(t){console.log("StopTheTime"),this.NotifyObservers($.StopTheTime,t)}},{key:"killAllEnemyHandler",value:function(t){console.log("KillAll"),this.NotifyObservers($.KillAllEnemy,t)}},{key:"Action",value:function(t,e){switch(t){case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.Spawn:this.spawnHandler(e);break;case $.Born:this.bornHandler(e);break;case $.BlowUp:this.blowUpHandler(e);break;case $.Death:this.deathHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.Update:this.updateHandler(e);break;case $.AskCheckAround:this.askCheckAroundHandler(e);break;case $.AskPlayersLocation:this.askPlayersLocationHandler(e);break;case $.AskBaseLocation:this.askBaseLocationHandler(e);break;case $.UpdateEnemyQueue:this.updateEnemyQueueHandler(e);break;case $.BonusDistribution:this.bonusDistributionHandler(e);break;case $.StopTheTime:this.stopTheTimeHandler(e);break;case $.KillAllEnemy:this.killAllEnemyHandler(e)}Ry(Ly(u.prototype),"Action",this).call(this,t,e)}},{key:"Ok",get:function(){return this.ok}},{key:"OkTankList",get:function(){return this.Ok.TankList}},{key:"BlowUp",get:function(){return this.blowUp}},{key:"Queue",get:function(){return this.queue}},{key:"BlowUpTankList",get:function(){return this.BlowUp.TankList}},{key:"Spawn",get:function(){return this.spawn}},{key:"SpawnTankList",get:function(){return this.Spawn.TankList}},{key:"initEvents",value:function(){var t=this,e=[this.BlowUp,this.Ok,this.Spawn,this.Queue];[$.TrackLoopOn,$.TrackOff,$.TrackOnceOn].forEach((function(r){return e.forEach((function(e){return e.RegistryObserver(r,t)}))}))}},{key:"initEnemyQueue",value:function(t){var e=this;this.queue=new gy(t),[$.Spawn,$.UpdateEnemyQueue].forEach((function(t){return e.Queue.RegistryObserver(t,e)}))}},{key:"initEnemySpawn",value:function(){this.spawn=new $y,this.Spawn.RegistryObserver($.Born,this)}},{key:"initEnemyOk",value:function(){var t=this;this.ok=new uy,[$.StopTheTime,$.KillAllEnemy].forEach((function(e){return t.RegistryObserver(e,t.Ok)})),[$.BlowUp,$.Move,$.Turn,$.Shot,$.AskCheckAround,$.AskPlayersLocation,$.AskBaseLocation].forEach((function(e){return t.Ok.RegistryObserver(e,t)}))}},{key:"initEnemyBlowUp",value:function(){this.blowUp=new Vl,this.blowUp.RegistryObserver($.Death,this)}},{key:"checkEnemiesEnded",value:function(){this.Queue.List.length||this.Spawn.List.length||this.Ok.List.length||this.BlowUp.List.length||this.ended||(this.NotifyObservers($.EnemiesEnded,new lt(this)),this.ended=!0)}},{key:"RenderOk",value:function(t){this.Ok.NotifyObservers($.Render,t)}},{key:"RenderBlowUp",value:function(t){this.BlowUp.NotifyObservers($.Render,t)}},{key:"RenderSpawn",value:function(t){this.Spawn.NotifyObservers($.Render,t)}}])&&ky(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function xy(t){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(t)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},By(t,e)}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(t)}var Zy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ky(r);if(n){var o=Ky(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).FirstPlayerLocation=r,e.SecondPlayerLocation=n,e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Cy(t){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(t)}function Hy(t,e,r){return Hy=Uy()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Fy(o,r.prototype),o},Hy.apply(null,arguments)}function Dy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function My(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Cy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Cy(o)?o:String(o)),n)}var o}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fy(t,e)}function Uy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gy(t)}var Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=Uy(),function(){var t,e=Gy(n);if(o){var r=Gy(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).spawnLocation=new de(4*f.TANK_SIZE,12*f.TANK_SIZE),e.tankFactory=new Uu,t.alive&&e.ordinaryApear(),e}return e=u,(r=[{key:"GetShot",value:function(){return Hy(gc,function(t){if(Array.isArray(t))return Dy(t)}(t=this.PlayerShotParams)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Dy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dy(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}},{key:"setTankKeys",value:function(t){var e=!1,r=null;return t.Slash&&(e=!0),t.Up?r=T.Up:t.Down?r=T.Down:t.Left?r=T.Left:t.Right&&(r=T.Right),new ai(r,e)}}])&&My(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(ti);function Vy(t){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(t)}function Yy(t,e,r){return Yy=qy()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Qy(o,r.prototype),o},Yy.apply(null,arguments)}function Xy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Vy(o)?o:String(o)),n)}var o}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qy(t,e)}function qy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jy(t)}var tp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qy(t,e)}(u,t);var e,r,n,o,i=(n=u,o=qy(),function(){var t,e=Jy(n);if(o){var r=Jy(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).spawnLocation=new de(8*f.TANK_SIZE,12*f.TANK_SIZE),e.tankFactory=new _u,t.alive&&e.ordinaryApear(),e}return e=u,(r=[{key:"GetShot",value:function(){return Yy(jc,function(t){if(Array.isArray(t))return Xy(t)}(t=this.PlayerShotParams)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xy(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}},{key:"setTankKeys",value:function(t){var e=!1,r=null;return t.C&&(e=!0),t.W?r=T.Up:t.S?r=T.Down:t.A?r=T.Left:t.D&&(r=T.Right),new ai(r,e)}}])&&zy(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(ti);function ep(t){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(t)}function rp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ep(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ep(o)?o:String(o)),n)}var o}function np(t,e){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},np(t,e)}function op(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ip(t)}var up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ip(n);if(o){var r=ip(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ep(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return op(t)}(this,t)});function u(t){var e,r,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).InitEvent($.Update),e.InitEvent($.Move),e.InitEvent($.Turn),e.InitEvent($.Shot),e.InitEvent($.Born),e.InitEvent($.AskHidden),e.InitEvent($.TrackLoopOn),e.InitEvent($.TrackOff),e.InitEvent($.TrackOnceOn),e.InitEvent($.UpdatePlayerHp),e.InitEvent($.UpdatePlayersLive),e.InitEvent($.PlayersEnded),e.InitEvent($.BonusDistribution),e.InitEvent($.AddLive),e.lives=t.players.lives,e.couple=t.players.couple,e.initPlayers(t),e.stopMove=(r=e.stopMove.bind(op(e)),n=P.StopMove,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];clearTimeout(o),o=setTimeout((function(){r.apply(void 0,e)}),n)}),e.ended=!1,[$.Update,$.AddLive].forEach((function(t){return e.RegistryObserver(t,op(e))})),e}return e=u,r=[{key:"Couple",get:function(){return this.couple}},{key:"StartSideBarSet",value:function(){this.NotifyObservers($.UpdatePlayersLive,new Wt(this,this.Lives)),this.NotifyObservers($.UpdatePlayerHp,new lt(this.firstPlayer)),this.secondPlayer&&this.NotifyObservers($.UpdatePlayerHp,new lt(this.secondPlayer))}},{key:"Lives",get:function(){return this.lives}},{key:"initPlayers",value:function(t){var e=this;this.firstPlayer=new Wy(t.players.firstPlayer),this.secondPlayer=t.players.secondPlayer?new tp(t.players.secondPlayer):null,[this.firstPlayer,this.secondPlayer].forEach((function(t){[$.Move,$.Turn,$.Shot,$.UpdatePlayerHp,$.AskHidden,$.TrackLoopOn,$.TrackOff,$.TrackOnceOn,$.Born,$.Death,$.BonusDistribution].forEach((function(r){return t&&t.RegistryObserver(r,e)}))}))}},{key:"deathHandler",value:function(t){var e=t.Sender;this.Lives>0?(e.NotifyObservers($.Reborn,new lt(e)),this.lives--,this.NotifyObservers($.UpdatePlayersLive,new Wt(this,this.Lives))):e.NotifyObservers($.NotAlive,new lt(e))}},{key:"FirstPlayerLevelTank",get:function(){return this.firstPlayer.TankLevel}},{key:"SecondPlayerLevelTank",get:function(){var t;return null===(t=this.secondPlayer)||void 0===t?void 0:t.TankLevel}},{key:"FirstPlayerTank",get:function(){var t;return null===(t=this.firstPlayer)||void 0===t?void 0:t.Tank}},{key:"SecondPlayerTank",get:function(){return this.secondPlayer?this.secondPlayer.Tank:null}},{key:"playMove",value:function(){this.NotifyObservers($.TrackLoopOn,new Me(this,B.Move))}},{key:"stopMove",value:function(){this.NotifyObservers($.TrackOff,new Me(this,B.Move))}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t),this.playMove(),this.stopMove()}},{key:"turnHandler",value:function(t){this.NotifyObservers($.Turn,t)}},{key:"updateHandler",value:function(t){this.checkPlayersEnded(),[this.firstPlayer,this.secondPlayer].forEach((function(e){return e&&e.NotifyObservers($.Update,t)}))}},{key:"shotHandler",value:function(t){this.NotifyObservers($.Shot,t)}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"updatePlayerHPHandler",value:function(t){this.NotifyObservers($.UpdatePlayerHp,t)}},{key:"bornHandler",value:function(t){this.NotifyObservers($.UpdatePlayerHp,t),this.NotifyObservers($.Born,new lt(t.Sender.Tank))}},{key:"askHiddenHandler",value:function(t){this.NotifyObservers($.AskHidden,t)}},{key:"askPlayersLocationHandler",value:function(t){var e,r,n,o,i=t.Sender;i.NotifyObservers($.SetPlayersLocation,new Zy(i,null!==(e=this.FirstPlayerTank)&&void 0!==e&&e.Hidden?null:null===(r=this.FirstPlayerTank)||void 0===r?void 0:r.Point,null!==(n=this.SecondPlayerTank)&&void 0!==n&&n.Hidden?null:null===(o=this.SecondPlayerTank)||void 0===o?void 0:o.Point))}},{key:"bonusDistributionHandler",value:function(t){t.Object instanceof hs?this.NotifyObservers($.AddLive,new Wt(this,1)):this.NotifyObservers($.BonusDistribution,t)}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.UpdatePlayerHp:this.updatePlayerHPHandler(e);break;case $.AskHidden:this.askHiddenHandler(e);break;case $.AskPlayersLocation:this.askPlayersLocationHandler(e);break;case $.Born:this.bornHandler(e);break;case $.Death:this.deathHandler(e);break;case $.BonusDistribution:this.bonusDistributionHandler(e);break;case $.AddLive:this.addLiveHandler(e)}}},{key:"addLiveHandler",value:function(t){var e=t.Number;this.Lives<9&&(this.lives+=e),this.FirstPlayerTank?this.secondPlayer&&!this.SecondPlayerTank&&this.Action($.Death,new lt(this.secondPlayer)):this.Action($.Death,new lt(this.firstPlayer)),this.NotifyObservers($.UpdatePlayersLive,new Wt(this,this.Lives))}},{key:"renderPlayers",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];[this.firstPlayer,this.secondPlayer].forEach((function(n){var o;return(null==n||null===(o=n.Tank)||void 0===o?void 0:o.Status)==t&&(null==n?void 0:n.Tank).Hidden==r&&n.NotifyObservers($.Render,e)}))}},{key:"RenderOkShow",value:function(t){this.renderPlayers(D.Ok,t)}},{key:"RenderOkHidden",value:function(t){this.renderPlayers(D.Ok,t,!0)}},{key:"RenderSpawn",value:function(t){this.renderPlayers(D.Spawn,t)}},{key:"RenderBlowUp",value:function(t){this.renderPlayers(D.BlowUp,t)}},{key:"checkPlayersEnded",value:function(){this.Lives||this.FirstPlayerTank||this.SecondPlayerTank||this.ended||(this.NotifyObservers($.PlayersEnded,new lt(this)),this.ended=!0)}}],r&&rp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function cp(t){return cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(t)}function ap(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==cp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===cp(o)?o:String(o)),n)}var o}function fp(){return fp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fp.apply(this,arguments)}function sp(t,e){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sp(t,e)}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lp(t)}var yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lp(n);if(o){var r=lp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t}return e=u,(r=[{key:"updateHandler",value:function(t){this.NotifyObservers($.Update,t)}},{key:"initObjEvents",value:function(t){var e=this;fp(lp(u.prototype),"initObjEvents",this).call(this,t),[$.Update].forEach((function(r){return e.RegistryObserver(r,t)}))}},{key:"removeObjEvent",value:function(t){var e=this;fp(lp(u.prototype),"removeObjEvent",this).call(this,t),[$.Update].forEach((function(r){return e.RemoveObserver(r,t)}))}},{key:"Action",value:function(t,e){t===$.Update&&this.updateHandler(e),fp(lp(u.prototype),"Action",this).call(this,t,e)}}])&&ap(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Nl);function pp(t){return pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(t)}function hp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pp(o)?o:String(o)),n)}var o}function bp(){return bp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},bp.apply(this,arguments)}function vp(t,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vp(t,e)}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dp(t)}var mp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dp(n);if(o){var r=dp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Death),t.InitEvent($.TrackOnceOn),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;bp(dp(u.prototype),"initObjEvents",this).call(this,t),[$.Death,$.TrackOnceOn].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;bp(dp(u.prototype),"removeObjEvent",this).call(this,t),[$.Death,$.TrackOnceOn].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"deathHandler",value:function(t){this.NotifyObservers($.Death,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"Action",value:function(t,e){switch(t){case $.Death:this.deathHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e)}bp(dp(u.prototype),"Action",this).call(this,t,e)}}])&&hp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(yp);function Op(t){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(t)}function wp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Op(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Op(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Op(o)?o:String(o)),n)}var o}function gp(){return gp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ep(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gp.apply(this,arguments)}function Sp(t,e){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sp(t,e)}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ep(t)}var _p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ep(n);if(o){var r=Ep(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Born),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;gp(Ep(u.prototype),"initObjEvents",this).call(this,t),[$.Born].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;gp(Ep(u.prototype),"removeObjEvent",this).call(this,t),[$.Born].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"bornHandler",value:function(t){this.NotifyObservers($.Born,t)}},{key:"Action",value:function(t,e){t===$.Born&&this.bornHandler(e),gp(Ep(u.prototype),"Action",this).call(this,t,e)}}])&&wp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(yp);function jp(t){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(t)}function Tp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==jp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===jp(o)?o:String(o)),n)}var o}function $p(t,e){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$p(t,e)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(t)}var kp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$p(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pp(n);if(o){var r=Pp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.InitEvent($.Born),t.InitEvent($.TrackOnceOn),t.bonusFactory=new gs,t.spawnedBonusesList=new Array,t.maxTimeInBonusList=6,t.initWaitingBonuses(),t.initOkBonuses(),t.initEvents(),t}return e=u,(r=[{key:"initEvents",value:function(){var t=this;[$.Update].forEach((function(e){return t.RegistryObservers(e,[t.waiting,t.ok])}))}},{key:"initWaitingBonuses",value:function(){var t=this;this.waiting=new _p,[$.Born].forEach((function(e){return t.waiting.RegistryObserver(e,t)}))}},{key:"initOkBonuses",value:function(){var t=this;this.ok=new mp,[$.Death,$.TrackOnceOn].forEach((function(e){return t.ok.RegistryObserver(e,t)}))}},{key:"bornHandler",value:function(t){var e=t.Sender;this.waiting.NotifyObservers($.RemoveFromAgregate,new mr(this.waiting,e)),this.ok.NotifyObservers($.AddToArgegate,new mr(this.ok,e)),this.NotifyObservers($.Born,new lt(e))}},{key:"deathHandler",value:function(t){var e=t.Sender;this.ok.NotifyObservers($.RemoveFromAgregate,new mr(this.ok,e))}},{key:"RenderOk",value:function(t){this.ok.NotifyObservers($.Render,t)}},{key:"OkBonuses",get:function(){return this.ok.List}},{key:"executeMaxTimeInBonusList",value:function(t){return this.maxTimeInBonusList-this.spawnedBonusesList.filter((function(e){return e===t})).length}},{key:"BosusesList",get:function(){var t=this;return J.reduce((function(e,r){for(var n=t.executeMaxTimeInBonusList(r),o=0;o<n;o++)e.push(r);return e}),new Array)}},{key:"getBonusType",value:function(){var t=this.BosusesList;return t[~~(Math.random()*t.length)]}},{key:"tryToBonusSpawnHandler",value:function(t){var e,r=t.Object;if(b(40)){var n=this.getBonusType(),o=this.bonusFactory.Create(n,null===(e=r.Tank)||void 0===e?void 0:e.Point);this.waiting.NotifyObservers($.AddToArgegate,new mr(this.waiting,o))}}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"Action",value:function(t,e){switch(t){case $.Born:this.bornHandler(e);break;case $.Death:this.deathHandler(e);break;case $.TryBonusSpawn:this.tryToBonusSpawnHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e)}}}])&&Tp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function Rp(t){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(t)}function Ip(t,e){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ip(t,e)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ap(t)}var Lp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ip(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ap(r);if(n){var o=Ap(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).Around=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function Np(t){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(t)}function xp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Np(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Np(o)?o:String(o)),n)}var o}function Bp(t,e){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bp(t,e)}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(t)}var Zp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kp(n);if(o){var r=Kp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).levelRect=new zt(new de(t[0],t[1]),t[2],t[3]),e.count=0,e}return e=u,r=[{key:"Action",value:function(t,e){switch(t){case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.AskCheckAround:this.askCheckAroundHandler(e);break;case $.AskHidden:this.askHiddenHandler(e);break;case $.Born:this.bornHandler(e)}}},{key:"bornHandler",value:function(t){var e=this.getObjectOnPath(t);e.length&&t.Sender.NotifyObservers($.BornCollision,new hr(t.Sender,e))}},{key:"askHiddenHandler",value:function(t){var e=this,r=t.Sender,n=t.List,o=r,i=n.reduce((function(t,r){return!(!e.isPointInObjEqual(r,new de(o.CenterX,o.CenterY))||t)||t}),!1);o.NotifyObservers($.SetHidden,new bt(o,i))}},{key:"inLevel",value:function(t){return!(t.Top<this.levelRect.Point.Y||t.Bottom>this.levelRect.Point.Y+this.levelRect.Height||t.Left<this.levelRect.Point.X||t.Right>this.levelRect.Point.X+this.levelRect.Width)}},{key:"checkPerimeter",value:function(t){var e=t.Left,r=t.Top,n=!1;t.Top<this.levelRect.Point.Y&&(r=this.levelRect.Point.Y,n=!0),t.Bottom>this.levelRect.Point.Y+this.levelRect.Height&&(r=this.levelRect.Point.Y+this.levelRect.Height-t.Height,n=!0),t.Left<this.levelRect.Point.X&&(e=this.levelRect.Point.X,n=!0),t.Right>this.levelRect.Point.X+this.levelRect.Width&&(e=this.levelRect.Point.X+this.levelRect.Width-t.Width,n=!0),t instanceof fo&&n?t.NotifyObservers($.Crash,new hr(t,[])):t.NotifyObservers($.SetLocation,new Sr(t,new de(e,r)))}},{key:"isPointInObjEqual",value:function(t,e){return e.X>=t.Left&&e.X<=t.Right&&e.Y>=t.Top&&e.Y<=t.Bottom}},{key:"isPointInObj",value:function(t,e){return e.X>t.Left&&e.X<t.Right&&e.Y>t.Top&&e.Y<t.Bottom}},{key:"isObjInObj",value:function(t,e){return this.isPointInObj(t,new de(e.Left,e.Top))||this.isPointInObj(t,new de(e.Right,e.Top))||this.isPointInObj(t,new de(e.Left,e.Bottom))||this.isPointInObj(t,new de(e.Right,e.Bottom))}},{key:"clinch",value:function(t,e){return t.Left==e.Left&&t.Right==e.Right&&(t.Top<e.Bottom&&t.Bottom>e.Top||t.Bottom>e.Top&&t.Top<e.Bottom)||t.Top==e.Top&&t.Bottom==e.Bottom&&(t.Left<e.Right&&t.Right>e.Left||t.Right>e.Left&&t.Left<e.Right)}},{key:"inRadius",value:function(t,e,r){return t.Left-r<e.Left&&t.Top-r<e.Top&&t.Right+r>e.Right&&t.Bottom+r>e.Bottom}},{key:"checkRadius",value:function(t,e){return e instanceof Ii||e instanceof Jn||e instanceof Lo?this.inRadius(t,e,f.TANK_SIZE):this.inRadius(t,e,f.BLOCK_SIZE)}},{key:"getObjectOnPath",value:function(t){var e=this,r=t.Sender;return t.List.reduce((function(t,n){return e.checkRadius(r,n)&&r!==n&&(e.isObjInObj(r,n)||e.isObjInObj(n,r)||e.clinch(r,n))&&t.push(n),t}),new Array)}},{key:"moveHandler",value:function(t){if(this.checkPerimeter(t.Sender),t.Sender.IsOk){var e=this.getObjectOnPath(t);e.length&&t.Sender.NotifyObservers($.Crash,new hr(t.Sender,e))}}},{key:"OneDirection",value:function(t,e){return X.includes(t)&&X.includes(e)||z.includes(t)&&z.includes(e)}},{key:"checkDirection",value:function(t,e){var r,n=e.Sender,o=e.List,i=n;if(r=this.OneDirection(t,i.Vector)?i.GetNewLocation(t):i.GetNewLocation(t,this.GetTurnLocation(new Pl(i,o,t))),this.CheckPoint(r,new Pl(i,o,t))){var u=this.CheckLocation(r,e).filter((function(e){return t==T.Up&&r.Y>e.Top||t==T.Left&&r.X>e.Left||t==T.Down&&r.Y+i.Height<e.Bottom||t==T.Right&&r.X+i.Width<e.Right}));return u.length?u:[new Wn(new de(0,0))]}return[]}},{key:"askCheckAroundHandler",value:function(t){var e=t.Sender,r=new Map([[T.Up,this.checkDirection(T.Up,t)],[T.Down,this.checkDirection(T.Down,t)],[T.Left,this.checkDirection(T.Left,t)],[T.Right,this.checkDirection(T.Right,t)]]);e.Owner.NotifyObservers($.SetAround,new Lp(e,r))}},{key:"CheckPoint",value:function(t,e){var r=e.Sender,n=r.Point;r.NotifyObservers($.SetLocation,new Sr(r,t));var o=this.inLevel(r);return r.NotifyObservers($.SetLocation,new Sr(r,n)),o}},{key:"CheckLocation",value:function(t,e){var r=e.Sender,n=e.List,o=r.Point;r.NotifyObservers($.SetLocation,new Sr(r,t));var i=this.getObjectOnPath(new Pl(r,n));return r.NotifyObservers($.SetLocation,new Sr(r,o)),i}},{key:"GetTurnLocation",value:function(t){var e,r=t.Sender,n=t.Direction,o=r;e=z.includes(n)?new de(o.Left,this.seekY(o)):new de(this.seekX(o),o.Top);var i=o.Point;return this.CheckLocation(e,t).some((function(t){return t instanceof Ii}))?i:e}},{key:"turnHandler",value:function(t){var e=this.GetTurnLocation(t);t.Sender.NotifyObservers($.SetLocation,new Sr(t.Sender,e))}},{key:"fromMaxToMin",value:function(t){for(var e=26*f.BLOCK_SIZE;e>0;e-=f.BLOCK_SIZE)if(e<t-f.TANK_SIZE/4)return e-f.BLOCK_SIZE;return 0}},{key:"fromMinToMax",value:function(t){for(var e=0;e<26*f.BLOCK_SIZE;e+=f.BLOCK_SIZE)if(e>t+f.TANK_SIZE/4)return e-f.BLOCK_SIZE;return 0}},{key:"seekY",value:function(t){return t.Vector==T.Up?this.fromMinToMax(t.Top):t.Vector==T.Down?this.fromMaxToMin(t.Bottom):0}},{key:"seekX",value:function(t){return t.Vector==T.Left?this.fromMinToMax(t.Left):t.Vector==T.Right?this.fromMaxToMin(t.Right):0}}],r&&xp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function Cp(t){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(t)}function Hp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Cp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Cp(o)?o:String(o)),n)}var o}function Dp(){return Dp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Dp.apply(this,arguments)}function Mp(t,e){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mp(t,e)}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fp(t)}var Up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fp(n);if(o){var r=Fp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.ChangeBlock),t}return e=u,(r=[{key:"removeObjEvent",value:function(t){var e=this;Dp(Fp(u.prototype),"removeObjEvent",this).call(this,t),[$.ChangeBlock].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"initObjEvents",value:function(t){var e=this;Dp(Fp(u.prototype),"initObjEvents",this).call(this,t),[$.ChangeBlock].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"changeBlockHandler",value:function(t){this.NotifyObservers($.RemoveFromAgregate,new mr(this,t.Object)),this.NotifyObservers($.ChangeBlock,t)}},{key:"Action",value:function(t,e){t===$.ChangeBlock&&this.changeBlockHandler(e),Dp(Fp(u.prototype),"Action",this).call(this,t,e)}}])&&Hp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Nl);function Gp(t){return Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(t)}function Wp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Gp(o)?o:String(o)),n)}var o}function Vp(){return Vp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Vp.apply(this,arguments)}function Yp(t,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yp(t,e)}function Xp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zp(t)}var Qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yp(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zp(n);if(o){var r=zp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xp(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Crash),t.RegistryObserver($.Crash,Xp(t)),t}return e=u,(r=[{key:"Action",value:function(t,e){t===$.Crash&&this.crashHandler(e),Vp(zp(u.prototype),"Action",this).call(this,t,e)}}])&&Wp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Up);function qp(t){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(t)}function Jp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qp(o)?o:String(o)),n)}var o}function th(t,e){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},th(t,e)}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eh(t)}var rh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=eh(n);if(o){var r=eh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,r=[{key:"crashHandler",value:function(t){var e=this,r=t.Sender,n=t.List,o=t.Flag,i=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.some((function(r){return e?r.Status===t:r.Status!==t}))},u=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.every((function(r){return e?r.Status===t:r.Status!==t}))},c=r,a=c.Vector,f=c.Vector;if(1==n.length){var s=n[0];s.Status===K.Full?s.NotifyObservers($.GetDamage,new We(this,f)):(o&&s.Status!==a||!o)&&s.NotifyObservers($.Death,new lt(this))}else 2==n.length&&(u(K.Full)?n.forEach((function(t){return t.NotifyObservers($.GetDamage,new We(e,f))})):u(K.Up)||u(K.Down)||u(K.Left)||u(K.Right)?n.forEach((function(t){return t.NotifyObservers($.Death,new lt(e))})):i(K.Full)&&i(a)?n.find((function(t){return t.Status===K.Full})).NotifyObservers($.GetDamage,new We(this,f)):i(K.Full)&&i(a,!1)?(n.find((function(t){return t.Status===K.Full})).NotifyObservers($.GetDamage,new We(this,f)),n.find((function(t){return t.Status!==a})).NotifyObservers($.Death,new lt(this))):i(K.Up)&&i(K.Down)&&X.includes(f)||i(K.Left)&&i(K.Right)&&z.includes(f)||(i(K.Up)||i(K.Down))&&(i(K.Left)||i(K.Right))?n.forEach((function(t){return t.Status!==a&&t.NotifyObservers($.Death,new lt(e))})):(i(K.Up)&&i(K.Down)&&z.includes(f)||i(K.Left)&&i(K.Right)&&X.includes(f))&&n.forEach((function(t){return t.NotifyObservers($.Death,new lt(e))})))}}],r&&Jp(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Qp);function nh(t){return nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(t)}function oh(t,e){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oh(t,e)}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ih(t)}var uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oh(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ih(r);if(n){var o=ih(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Up);function ch(t){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(t)}function ah(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ch(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ch(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ch(o)?o:String(o)),n)}var o}function fh(t,e){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fh(t,e)}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sh(t)}var lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sh(n);if(o){var r=sh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,(r=[{key:"crashHandler",value:function(t){var e=this,r=t.Sender,n=t.List;r.TankOwner.CanIronDamage&&n.forEach((function(t){return t.NotifyObservers($.Death,new lt(e))}))}}])&&ah(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Qp);function yh(t){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(t)}function ph(t,e){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ph(t,e)}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hh(t)}var bh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ph(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hh(r);if(n){var o=hh(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Up);function vh(t){return vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(t)}function dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vh(o)?o:String(o)),n)}var o}function mh(){return mh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gh(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mh.apply(this,arguments)}function Oh(t,e){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oh(t,e)}function wh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gh(t)}var Sh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gh(n);if(o){var r=gh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wh(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.time=1e3,t.timer=new Zr(t.doUpdateEvent.bind(wh(t)),t.time),t}return e=u,(r=[{key:"doUpdateEvent",value:function(t){this.NotifyObservers($.Update,t)}},{key:"initObjEvents",value:function(t){var e=this;mh(gh(u.prototype),"initObjEvents",this).call(this,t),[$.Update].forEach((function(r){return e.RegistryObserver(r,t)}))}},{key:"updateHandler",value:function(t){this.timer.Tick(t)}},{key:"Action",value:function(t,e){t===$.Update&&this.updateHandler(e),mh(gh(u.prototype),"Action",this).call(this,t,e)}}])&&dh(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Up);function Eh(t){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(t)}function _h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Eh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Eh(o)?o:String(o)),n)}var o}function jh(t,e){return jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jh(t,e)}function Th(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$h(t)}var Ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$h(n);if(o){var r=$h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Eh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Th(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.InitEvent($.SetIron),t.InitEvent($.SetBrick),t.InitEvent($.StartBaseShild),t.location=new Array(new de(11*f.BLOCK_SIZE,25*f.BLOCK_SIZE),new de(11*f.BLOCK_SIZE,24*f.BLOCK_SIZE),new de(11*f.BLOCK_SIZE,23*f.BLOCK_SIZE),new de(12*f.BLOCK_SIZE,23*f.BLOCK_SIZE),new de(13*f.BLOCK_SIZE,23*f.BLOCK_SIZE),new de(14*f.BLOCK_SIZE,23*f.BLOCK_SIZE),new de(14*f.BLOCK_SIZE,24*f.BLOCK_SIZE),new de(14*f.BLOCK_SIZE,25*f.BLOCK_SIZE)),[$.StartBaseShild].forEach((function(e){return t.RegistryObserver(e,Th(t))})),t}return e=u,(r=[{key:"doSetBrickEvent",value:function(){this.NotifyObservers($.SetBrick,new hr(this,this.location))}},{key:"updateHandler",value:function(t){this.endTimeOut.Set()}},{key:"startBaseShildHandler",value:function(t){this.NotifyObservers($.SetIron,new hr(this,this.location)),this.endTimeOut=new To(this.doSetBrickEvent.bind(this),P.BaseShild)}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.StartBaseShild:this.startBaseShildHandler(e)}}}])&&_h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function kh(t){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(t)}function Rh(t){return function(t){if(Array.isArray(t))return Ih(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ih(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ih(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ah(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===kh(o)?o:String(o)),n)}var o}function Lh(){return Lh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xh(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Lh.apply(this,arguments)}function Nh(t,e){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nh(t,e)}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xh(t)}var Bh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xh(n);if(o){var r=xh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(new de(0,0),f.LEVEL_SIZE,f.LEVEL_SIZE),R.Box)).InitEvent($.Update),e.InitEvent($.BaseEnded),e.InitEvent($.Born),e.InitEvent($.TrackOnceOn),e.InitEvent($.AddBaseShild),e.layers=new Map([[U.Brick,new rh],[U.Iron,new lh],[U.Bush,new uh],[U.Road,new bh],[U.Water,new Sh]]),e.initFlag(),e.blockFactory=new aa,e.initMap(t),e.initEvents(),e}return e=u,(r=[{key:"initFlag",value:function(){var t=this;this.flag=new Jn,[$.Death,$.TrackOnceOn].forEach((function(e){return t.flag.RegistryObserver(e,t)}))}},{key:"initEvents",value:function(){var t=this;this.RegistryObserver($.Update,this.Waters),[this.Bricks,this.Irons,this.Roads,this.Waters,this.Bushes].forEach((function(e){return e.RegistryObserver($.ChangeBlock,t)})),[$.AddBaseShild].forEach((function(e){return t.RegistryObserver(e,t)}))}},{key:"changeBlockHandler",value:function(t){var e=t.Object,r=t.Type,n=e;this.layers.get(r).NotifyObservers($.AddToArgegate,new mr(this,this.blockFactory.Create(r,new de(n.Left,n.Top))))}},{key:"Bricks",get:function(){return this.layers.get(U.Brick)}},{key:"Irons",get:function(){return this.layers.get(U.Iron)}},{key:"Bushes",get:function(){return this.layers.get(U.Bush)}},{key:"Waters",get:function(){return this.layers.get(U.Water)}},{key:"Roads",get:function(){return this.layers.get(U.Road)}},{key:"RenderBricks",value:function(t){this.Bricks.NotifyObservers($.Render,t)}},{key:"RenderIrons",value:function(t){this.Irons.NotifyObservers($.Render,t)}},{key:"RenderBushes",value:function(t){this.Bushes.NotifyObservers($.Render,t)}},{key:"RenderRoads",value:function(t){var e=t.CX;e.beginPath(),e.fillStyle=f.BACKGROUND_COLOR,e.fillRect.apply(e,Rh(this.Rectangle)),e.closePath}},{key:"RenderWaters",value:function(t){this.Waters.NotifyObservers($.Render,t)}},{key:"initMap",value:function(t){var e=this;t.forEach((function(t,r){return Array.from(t).forEach((function(t,n){e.layers.get(t).NotifyObservers($.AddToArgegate,new mr(e,e.blockFactory.Create(t,new de(n*f.BLOCK_SIZE,r*f.BLOCK_SIZE))))}))}))}},{key:"Flag",get:function(){return this.flag}},{key:"RenderFlag",value:function(t){this.Flag.NotifyObservers($.Render,t)}},{key:"BrickList",get:function(){return this.Bricks.List}},{key:"IronList",get:function(){return this.Irons.List}},{key:"WaterList",get:function(){return this.Waters.List}},{key:"RoadList",get:function(){return this.Roads.List}},{key:"BushList",get:function(){return this.Bushes.List}},{key:"renderHandler",value:function(t){}},{key:"deathHandler",value:function(t){this.NotifyObservers($.BaseEnded,new lt(this))}},{key:"updateHandler",value:function(t){}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"bonusDistributionHandler",value:function(t){t.Object instanceof us&&this.NotifyObservers($.AddBaseShild,new lt(this))}},{key:"addBaseShildHandler",value:function(t){var e=this;this.baseShild&&([$.SetIron,$.SetBrick].forEach((function(t){return e.baseShild.RemoveObserver(t,e)})),this.RemoveObserver($.Update,this.baseShild)),this.baseShild=new Ph,this.RegistryObserver($.Update,this.baseShild),[$.SetIron,$.SetBrick].forEach((function(t){return e.baseShild.RegistryObserver(t,e)})),this.baseShild.NotifyObservers($.StartBaseShild,new lt(this.baseShild))}},{key:"setIronHandler",value:function(t){var e=this,r=t.List;[].concat(Rh(this.RoadList),Rh(this.BrickList)).filter((function(t){return r.some((function(e){return e.X==t.Left&&e.Y==t.Top}))})).forEach((function(t){t.NotifyObservers($.ChangeBlock,new ln(e,t,U.Iron)),e.NotifyObservers($.Born,new lt(t))}))}},{key:"setBrickHandler",value:function(t){var e=this,r=t.List;[].concat(Rh(this.IronList),Rh(this.RoadList)).filter((function(t){return r.some((function(e){return e.X==t.Left&&e.Y==t.Top}))})).forEach((function(t){t.NotifyObservers($.ChangeBlock,new ln(e,t,U.Brick)),e.NotifyObservers($.Born,new lt(t))})),this.RemoveObserver($.Update,this.baseShild),this.baseShild=null}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.ChangeBlock:this.changeBlockHandler(e);break;case $.Death:this.deathHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.BonusDistribution:this.bonusDistributionHandler(e);break;case $.AddBaseShild:this.addBaseShildHandler(e);break;case $.SetIron:this.setIronHandler(e);break;case $.SetBrick:this.setBrickHandler(e)}Lh(xh(u.prototype),"Action",this).call(this,t,e)}}])&&Ah(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);const Kh=[["00000000000000000000000000","00000000000000000000000000","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##@@##00##00##00","00##00##00##@@##00##00##00","00##00##00##00##00##00##00","00##00##0000000000##00##00","00##00##0000000000##00##00","0000000000##00##0000000000","0000000000##00##0000000000","##00####0000000000####00##","@@00####0000000000####00@@","0000000000##00##0000000000","0000000000######0000000000","00##00##00######00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##0000000000##00##00","00##00##0000000000##00##00","00##00##000####000##00##00","00000000000#00#00000000000","00000000000#00#00000000000"],["000000@@000000@@0000000000","000000@@000000@@0000000000","00##00@@000000##00##00##00","00##00@@000000##00##00##00","00##00000000####00##@@##00","00##00000000####00##@@##00","000000##0000000000@@000000","000000##0000000000@@000000","$$0000##0000@@##00##$$##@@","$$0000##0000@@##00##$$##@@","$$$$000000##0000@@00$$0000","$$$$000000##0000@@00$$0000","00######$$$$$$@@0000$$##00","00######$$$$$$@@0000$$##00","000000@@$$##00##00##00##00","000000@@$$##00##00##00##00","@@##00@@00##00##000000##00","@@##00@@00##00##000000##00","00##00##00######00##@@##00","00##00##00######00##@@##00","00##00##00######0000000000","00##00##00######0000000000","00##00000000000000##00##00","00##0000000####000##00##00","00##00##000#00#000######00","00##00##000#00#000######00"],["00000000##000000##00000000","00000000##000000##00000000","00$$$$$$##0000000000000000","00$$$$$$##0000000000@@@@@@","##$$$$$$000000000000000000","##$$$$$$000000000000000000","$$$$$$$$000000##00#######0","$$$$$$$$000000##00#######0","$$$$$$$$########00##000#00","$$$$$$$$######0000##000#00","$$$$$$$$0000##000000000#00","$$$$$$$$0000##000000000#00","00$$00000000@@@@@@0000$$00","00$$00000000@@@@@@0000$$00","000000000000000000$$$$$$$$","00##00##0000000000$$$$$$$$","###00####00#######$$$$$$$$","###00####00#000000$$$$$$$$","0000000000##000000$$$$$$$$","0000000000##00####$$$$$$$$","##0000@0000000####$$$$$$00","##0000@00000000000$$$$$$00","####00@00000000000$$$$$$00","####00@0000####000$$$$$$00","@@####00000#00#000##000000","@@####00000#00#000##000000"],["00$$$$0000000000000000$$00","00$$$$0000000000000000$$00","$$$$000000####0000000000$$","$$$$0000##########000000$$","$$00000#############0000@@","$$00000###############0000","@@0000#################000","000000#################000","00000###000000######00#000","00000#0000000000####00#000","~~000#00@000@000###0000000","~~000#00@000@000###0000000","0000##0000000000###000~~~~","0000##00####0000###000~~~~","0000################000000","0000################000000","000##################00000","000##################00000","00####################0000","000000############00000000","00####00########00####00$$","00######00####00######00$$","$$00####00000000####00$$$$","$$000000000####0000000$$$$","@@$$0000000#00#00000$$$$@@","@@$$0000000#00#00000$$$$@@"],["00000000####00000000000000","00000000####00000000000000","00000000##000000@@@@@@0000","@@00##00##0000000000@@0000","@@00##000000##000000000000","@@00##000000##000000000000","##00######00####00~~~~00~~","##00######00####00~~~~00~~","##000000##00000000~~000000","000000000000000000~~000000","00000000~~~~00~~~~~~00####","0000##00~~~~00~~~~~~00####","####0000~~##00###000000000","####0000~~##00###000000000","00000000~~00000000000@@000","00000000~~00000000000@@000","~~~~~~00~~00@@00##000@0000","~~~~~~00~~00@@00##000@0000","000000000000000000000@####","000000####00000000000@####","00000000##########00000000","00000000##000000####000000","######000000000000####0000","####0000000####00000##0000","##000000000#00#00000000000","00000000000#00#00000000000"],["00000000000#00#0$$$$000000","00000000000#00#0$$$$000000","00#00@00#00000000#$$#00#$$","00#00@00#00000000#$$#00#$$","00#00@00#000##000#$$#00#$$","00#00@00#000##000#$$#00#$$","00##0000##00@@00##$$00##$$","00##0000##00@@00##$$00##$$","0000000#@@00##00##@000$$$$","0000000#0000##0000@000$$$$","#####00000$$##$$00000#####","#####00000$$##$$00000#####","000000000#$$$$$$#000000000","000000000#$$$$$$#000000000","@@####00##$$$$$$##0#####@@","@@####0000$$$$$$000#####@@","@@@@@@000000$$000000@@@@@@","00000000##00$$00##00000000","00##0000##000000##00000000","00##0000##000000##00000000","00###00000##00##00000###$$","00###0000000000000000###$$","0000##00000000000000$$$$$$","00000000000####00000$$$$$$","00000000000#00#0000000$$$$","0000##00000#00#00000##$$$$"],["00000000000000@@@@00000000","00000000000000000000000000","0000@@@@@@@@00000000@@0000","0000@@00000000000000@@0000","0000@@000000$$00@@@@@@0000","0000@@000000$$0000@@@@0000","00@@000000$$@@000000@@0000","00@@000000$$@@000000@@0000","00000000$$@@@@000000@@@@00","00000000$$@@@@00000000@@00","00@@00$$@@@@@@00@@00000000","00@@00$$@@@@@@00@@00000000","000@00@@@@000000@@@@000000","000@00@@@@000000@@@@000000","@0000000@@00@@@@@@00000@00","@0000000@@00@@@@@@00000@00","000@@@000000@@@@$$0000@@00","000@@@000000@@@@$$0000@@00","00@@00000000@@$$0000@@@@00","00@@00000000@@$$0000@@@@00","00@@@@@@0000$$0000@@000000","000000@@0000$$0000@@000000","000000000000000000@@0000@@","00000000000####0000000@@@@","00000000000#00#00000000000","@@@@0000000#00#00000000000"],["0000##0000##000000##000000","0000##0000##00##00##000000","$$######00##000000###00000","$$######00##00@@00###00000","$$$$$$0000##00##00##000##0","$$$$$$00000000##0000000##0","$$~~~~~~~~~~~~~~~~~~~~00~~","$$~~~~~~~~~~~~~~~~~~~~00~~","00##0000000000000000000000","00##00000000####0000000000","0000##00000###########@@@@","0000##00000#####00##000000","####00##000#####$$##0000##","####00##000#####$$##@@@@##","000000@@000000$$$$$$$$0000","000000@@00@@00$$$$$$$$0000","~~~~00~~~~~~~~~~00~~~~~~~~","~~~~00~~~~~~~~~~00~~~~~~~~","$$$$000#000000000000000000","$$$$000#0000####0000000000","$$$$##00#000000#000000##00","$$$$##00#000000#00@@####00","$$00##00#000000000##00##00","$$@@##00#00####0000000##00","00000000000#00#0000000##00","00000000000#00#000##000000"],["000000##000000000000$$0000","000000##0000000000@@$$0000","##000000000000$$0@@@@000##","##0000000000@@$$0@@@@000##","00000000$$0@@@@000@@$$0000","000000@@$$0@@@@00000$$0000","00000@@@@000@@$$0000000000","00000@@@@00000$$0000000000","000000@@$$0000000000000000","00000000$$0000000000000000","000000$$00$$00$$00$$000000","000000$$@@$$00$$@@$$000000","@@##000@@@@0000@@@@000##@@","@@##000@@@@0000@@@@000##@@","000000$$@@$$00$$@@$$000000","000000$$00$$00$$00$$000000","00000000000000000000000000","00000000@@000000@@00000000","##00000@@@@0000@@@@00000##","##00000@@@@0000@@@@00000##","##0000$$@@$$00$$@@$$0000##","##0000$$00$$00$$00$$0000##","00000000000000000000000000","0000##00000####00000##0000","0000####000#00#000####0000","0000####000#00#000####0000"],["00000000000000000000000000","00000000000000000000000000","000#####000000000000#####0","000#00##000000000000##00#0","0###0000##00$$$$00##00000#","0#000000##00$$$$00##00000#","##000000##$$$$$$$$##00000#","##000000##$$$$$$$$##00000#","##00000###$$@@@@$$###000##","##00000###$$@@@@$$###000##","0#0000##~~~~~~~~~~~~######","0#######~~~~~~~~~~~~######","00######@@@@##@@@@#######0","00######@@@@##@@@@#######0","0000####@@00##00@@#####000","0000####@@00##00@@#####000","0000###################000","0000###################000","##$$######@@@@########$$##","##$$000000@@@@00000000$$##","##$$$$$$$$$$$$$$$$$$$$$$##","##$$$$$$$$$$$$$$$$$$$$$$##","0000$$$$$$000000$$$$$$$$00","0000$$$$$$0####0$$$$$$$$00","000000#0000#00#00000#00000","000000#0000#00#00000#00000"],["0000000000@@00##00####0000","0000000000@@00##00####0000","000#########00##0000000000","000#########00##0000000000","000000#000##00####00$$$$$$","000000#000##00####00$$$$$$","000#0000000000@@00$$$$$$$$","000#0000000000@@00$$$$$$$$","000#00######@@####$$$$##@@","000#00######@@####$$$$00@@","00######@@0000##00$$$$000#","00000000@@0000##00$$$$000#","0#######00@@$$$$$$$$$$0000","0#######00@@$$$$$$$$$$0000","000000@@0000$$$$$$$$$$##00","000000@@0000$$$$$$$$$$##00","@@##00$$$$$$$$@@$$$$$$##00","@@##00$$$$$$$$@@$$$$$$##00","0###$$$$$$$$$$00000000###0","0###$$$$$$$$$$00000000###0","00##$$$$00000000@@######00","00##$$$$0000000000######00","0000$$$$0000000000##000#00","0000$$$$000####000##000#00","0000$$$$000#00#00000000000","00##$$$$000#00#00000000000"],["00000000000000######000000","00000000000000######000000","00######0000000000##000000","00########00##0000##000000","00000000##00##00000000####","00000000##000000000000####","00~~~~~~~~~~00###00000##@@","00~~~~~~~~~~00###00000##00","0000000000~~00##00@@@0##00","0000@@@@@@~~00##00@@@0##00","##00######~~~~~~00~~####00","##00######~~~~~~00~~####00","00000000@@~~000000~~@@0000","00000000@@~~000000~~000000","~~~~~~00~~~~####00~~000000","~~~~~~00~~~~####00~~000000","0000000000##@@@@00~~~~~~00","0000000000##000000~~~~~~00","######00000000000000000000","######00000000000000000000","0000##00@@@@000000####000#","0000##000000000000####000#","##0000000000000000##0000##","##000000000####000##0000##","00000000000#00#00000000000","00000000000#00#00000000000"],["00000000000000000000000000","00000000##000000##00000000","00########000000########00","00########000000########00","00##00000000##00000000@@00","00##00000000##00000000@@00","00@@00####000000####00####","00@@00##0000000000##00####","00##00#0$$00@@00$$0#00@@##","00##00#0$$@@@@@@$$0#00@@##","00##0000$$$$$$$$$$0000@@##","00000000$$$$$$$$$$000000##","##000000$$$$$$$$$$000000##","##@@0000$$$$$$$$$$0000####","##@@00#0$$@@@@@@$$0#00##00","##@@00#0$$00@@00$$0#00##00","####00##0000000000##00@@00","####00####000000####00@@00","##@@00000000##00000000##00","##@@00000000##00000000##00","##########000000######@@@@","##########000000######@@@@","####0000##000000##0000##00","####0000000####0000000##00","####0000000#00#00000000000","####0000000#00#00000000000"],["00000000000000000000000000","00000000000000000000000000","$$$$000000######000000$$$$","$$$$0000##########0000$$$$","$$00000############00000$$","$$00000############00000$$","000000####$$##$$####000000","000000####$$##$$####000000","000000##$$$$##$$$$##000000","000000##$$$$##$$$$##000000","$$0000##############0000$$","$$0000##############0000$$","$$$$0000##$$##$$##0000$$$$","$$$$0000##$$##$$##0000$$$$","~~~~~~00##########00~~~~~~","~~~~~~00##########00~~~~~~","000000000#0#0#0#0#00000000","000000000#0#0#0#0#00000000","00000000#0#0#0#0#000000000","00000000#0#0#0#0#000000000","0@0@0@00000000000000@0@0@0","0@0@0@00000000000000@0@0@0","#0#0#0000000000000000#0#0#","#0#0#000000####000000#0#0#","@0@0@00@000#00#000@00@0@0@","@0@0@00@000#00#000@00@0@0@"],["00000000####0000##00000000","00000000####0000##00000000","00$$$$####000000##0000000","00$$$$####000000##0000000","$$$$$$$$$$$$$$$$####000000","$$$$$$$$$$$$$$$$####000000","$$@@##$$######$$$$$$$$##@@","$$00##$$######$$$$$$$$##@@","$$$$##$$$$$$@@$$$$##@0##00","$$$$##$$$$$$00$$$$##@0##00","00$$$$##00$$$$$$$$##00##00","00$$$$##@@$$$$$$$$##00##00","00##########$$$$#####0$$$$","00##########$$$$#####0$$$$","0@@@####000000####000000$$","0@00####000000##00000000$$","00##00##000000##$$$$###0$$","00##00##00@@##00$$$$###0$$","00##00000#####$$$$##0000$$","00##00000###00$$$$##0000$$","00#####00###$$$$00$$##$$$$","00#####00#00$$$$##$$##$$$$","0000##00$$000000##$$##$$00","0000##00$$0####0##$$00$$00","0000##00000#00#000$$$$$$00","00000000000#00#000$$$$$$00"],["00000000000000000000000000","00000000000000000000000000","0000@@$$@@0000000000000000","0000@@$$@@0000000000000000","000000$$00$$00000000000000","000000$$00$$@@000000000000","00$$00000000$$000000000000","00$$00000000$$##0000000000","00$$$$0000$$00$$0000000000","00$$$$0000$$00$$@@00000000","00$$00$$00$$0000$$00000000","00$$00$$00$$0000$$##000000","00$$0000$$000000$$$$000000","00$$0000$$000000$$$$@@0000","0000$$00000000$$$$$$$$0000","0000$$00000000$$$$$$$$##00","000000$$0000$$00$$$$$$$$00","000000$$0000$$00$$$$$$$$00","##0000000000$$0000$$$$$$@@","##0000000000$$0000$$$$$$@@","####0000000000$$00$$$$$$$$","####0000000000$$00$$$$$$$$","@@####0000000000$$00$$$$$$","@@####00000####0$$00$$$$$$","@@@@####000#00#0$$0000$$$$","@@@@####000#00#0$$0000$$$$"],["0000000000000000@@@@@@$$00","0000000000000000@@@@@@$$00","00##000000000000@@0000@@00","00##000000000000@@0000@@00","##$$##000000########00@@00","##$$##000000########00@@00","00##$$##0000##00$$##@@@@00","00##$$##0000##00$$##@@@@00","0000##00$$@@##$$00##000000","0000##00$$@@##$$00##000000","00000000@@00##@@####000000","00000000@@00##@@####000000","0000####@@##00@@0000000000","0000####@@##00@@0000000000","0000##00$$##@@$$0000000000","0000##00$$##@@$$0000000000","@@@@@@$$00##0000####000000","@@@@@@$$00##0000####000000","@@00########0000##@@@@0000","@@00########0000##@@@@0000","@@0000@@0000000000@@####00","@@0000@@0000000000@@####00","$$@@@@@@000000000000##@@@@","$$@@@@@@000####0000000@@@@","00000000000#00#0000000@@@@","00000000000#00#0000000@@@@"],["00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00##00##00##00##00##00##00","00@@00@@00@@00@@00@@00@@00","00000000000000000000000000","00000000##000000##00000000","##00##00##000000##00##00##","##00######00##00######00##","##00##00##00##00##00##00##","@@00@@00@@00@@00@@00@@00@@","00000000@@000000@@00000000","$$$$0000##00$$00##0000$$$$","$$$$0000##00$$00##0000$$$$","$$$$$$$$####$$####$$$$$$$$","$$$$$$$$##00$$00##$$$$$$$$","$$$$$$$$$$$$$$$$$$$$$$$$$$","$$$$$$$$$$$$$$$$$$$$$$$$$$","00000000##$$$$$$##00000000","##00##00##$$$$$$##00##00##","00##00##0000$$0000##00##00","00##00##0000$$0000##00##00","00##00##0000000000##00##00","00##00##000####000##00##00","00##00##000#00#000##00##00","00000000000#00#00000000000"],["000000~~00##0000##00##0000","000000~~00##0000##00##0000","0000000000000000##00@@0000","0000000000000000##00@@0000","000000~~0000@@00##00##0000","000000~~00##@@00##00##0000","@@00##~~00@@0000##00##0000","0000##~~00@@00##0000##0000","0000##~~000000##0000000000","0000##~~000000##0000000000","##00##~~~~00~~~~~~~~0000##","##00##~~~~00~~~~~~~~0000##","00000000000000$$00~~00@@@@","000000##000000$$00~~000000","####0###00@@$$$$$$~~000000","####0###00@@$$$$$$~~00####","##000#0000##$$$$$$~~00##00","00000#0000##$$$$$$~~00##00","0000000000##00$$00~~00$$00","00@@000000##00$$00~~00$$00","00##000000######0000$$$$$$","00##00@@000000000000$$$$$$","00##00##0000000000~~$$$$$$","00##00##000####000~~$$$$$$","00000000000#00#000~~00$$00","00000000000#00#000~~00$$00"],["00000000000000000000000000","000000######0000##00000000","0000################000000","00##################000000","00$$$$$$$$$$$$$$$$####0000","00$$$$$$$$$$$$$$$$####0000","$$$$000000000000$$$$####00","$$$$000000000000$$$$####00","$$00@@0000@@000000$$$$$$00","$$00@@0000@@000000$$$$$$00","$$00@@0000@@000000$$$$$$00","$$00@@0000@@000000$$$$$$00","$$0000$$00000000$$$$#####0","$$0000$$00000000$$$$#####0","$$$$$$$$$$$$$$$$$$#######0","$$$$$$$$$$$$$$$$$$#######0","##$$$$####$$$$$$########00","##$$$$####$$$$$$########00","00####################00@@","00####################00@@","@@00##@@#############000@@","@@00##@@#############000@@","00@@####@@000000####@@@@@@","00@@##00@@0####0####@@@@@@","00000000000#00#00000000000","00000000000#00#00000000000"],["0000000000$$00000000000000","0000000000$$00000000000000","00000000$$@@$$000000000000","00000000$$@@$$000000000000","0000$$0000$$0000$$$$000000","0000$$0000$$0000$$$$000000","00$$##$$000000$$####$$0000","00$$##$$000000$$####$$0000","0000$$##$$000000$$$$0000$$","0000$$##$$000000$$$$0000$$","$$0000$$0000$$00000000$$@@","$$0000$$0000$$00000000$$@@","##$$000000$$@@$$0000$$00$$","##$$000000$$@@$$0000$$00$$","@@##$$000000$$0000$$@@$$00","@@##$$000000$$0000$$@@$$00","##$$0000$$000000$$00$$0000","##$$0000$$000000$$00$$0000","$$0000$$##$$00$$##$$000000","$$0000$$##$$00$$##$$000000","000000$$##$$0000$$0000$$00","000000$$##$$0000$$0000$$00","00$$0000$$0000000000$$@@$$","00$$0000$$0####00000$$@@$$","$$@@$$00000#00#000$$##$$00","$$@@$$00000#00#000$$##$$00"],["00000000000000000000000000","00000000000000000000000000","0000000000@@@@000000000000","0000000000@@@@000000000000","000000000000@@000000000000","000000000000@@000000000000","00@@@@$$$$##@@##$$$$@@@@00","00@@@@$$$$##@@##$$$$@@@@00","000000@@$$$$@@$$$$@@000000","000000@@$$$$@@$$$$@@000000","$$000000@@$$$$$$@@000000$$","$$000000@@$$$$$$@@000000$$","@@$$000000$$$$$$000000$$@@","@@$$000000$$$$$$000000$$@@","$$00000000@@$$@@00000000$$","$$000000@@00$$00@@000000$$","00000000@@000000@@00000000","00000000@@00@@00@@00000000","000000@@0000@@0000@@000000","000000@@0000@@0000@@000000","00000000000000000000000000","00000000000000000000000000","00000000000000000000000000","00000000000####00000000000","0000@@00000#00#00000@@0000","0000@@00000#00#00000@@0000"],["000000@@00##00##00##00@@00","000000@@00##00##00##00@@00","00##00##0000000000@@000000","00##00##0000000000@@000000","00##00##0000@@0000@@00@@@@","00##00##0000@@0000@@00@@@@","00##000000##00@@##000000@@","00##000000##00@@##000000@@","00000000####00####00@@0000","00000000####00####00@@0000","0000@@00##0000####00####00","0000@@00##0000####00####00","@@00@@0000##00@@0000@@##00","@@00@@0000##00@@0000@@##00","0000####00##000000##@@0000","0000####00##000000##@@0000","00@@####00####00####0000##","00@@####00####00####0000##","00##000000##@@00000000####","00##000000##@@00000000####","000000##00####@@00@@0000##","000000##00####@@00@@0000##","##00####0000000000##@@0000","##00####000####000##@@0000","##00##00000#00#000######00","##00##00000#00#000######00"],["0000~~~~000000000000000000","0000~~~~000000000000000000","000000~~$$00#0000000000000","@@0000~~$$00#0000000000000","$$0000000000@000#000~~~~00","$$@@00000000@000#000~~~~00","$$$$00@@000#0000@0$$~~0000","$$$$0000##0#0000@0$$~~0000","$$$$$$0000@@000#0000000000","$$$$$$0000@@##0#00000000@@","$$$$@@00000#00@@00000000$$","$$$$00@@000#00@@##0000@@$$","$$@@0000##@@000#00@@00$$$$","$$00000000@@000#000000$$$$","0000000000#0##@@0000$$$$$$","0000000000#000@@0000$$$$$$","0000~~$$0@0000#0##00@@$$$$","0000~~$$0@0000#000@@00$$$$","00~~~~000#000@0000000000$$","00~~~~000#000@0000000000$$","0000000000000#00$$~~0000@@","0000000000000#00$$~~000000","@@0000000000000000~~~~0000","@@000000000####000~~~~0000","@@@@0000000#00#000000000@@","@@@@0000000#00#000000000@@"],["00000000@@0000000000000000","00000000@@0000000000000000","@@@@0000@@0000@@@@00000000","@@@@0000@@0000@@@@00000000","00@@0000@@000000@@00@@@@$$","00@@0000@@000000@@00@@@@$$","00@@0000@@@@@@00$$00@@0000","00@@0000@@@@@@00$$00@@0000","00##00000000@@00@@@@@@0000","00##00000000@@00@@@@@@0000","$$@@@@00@@##@@####00000000","$$@@@@00@@##@@####00000000","0000@@$$@@$$0000##0000@@@@","0000@@$$@@$$0000##0000@@@@","0000@@0000$$0000@@0000@@00","0000@@0000$$0000@@0000@@00","0000##0000@@0000@@@@##@@00","0000##0000@@0000@@@@##@@00","$$@@@@@@$$$$##@@@@00##@@00","$$@@@@@@$$$$##@@@@00##@@00","000000##00000000$$$$00##00","000000##00000000$$$$00##00","000000@@0000000000$$00##00","000000@@000####000$$00##00","000000@@000#00#000@@00##00","000000@@000#00#000@@00##00"],["00000000000000000000##0000","00000000000000000000##0000","00##~~~~00@@00##0000000000","00##~~~~00@@00##0000000000","0000~~~~##$$$$$$~~~~00@@00","0000~~~~##$$$$$$~~~~00@@00","0000000000$$$$$$~~~~##0000","0000000000$$$$$$~~~~##0000","00@@0000~~~~00$$0000000000","00@@0000~~~~00$$0000000000","$$$$##00~~~~@@00000000##00","$$$$##00~~~~@@00000000##00","$$$$$$000000000000@@0000@@","$$$$$$000000000000@@0000@@","00##~~~~00##00000000000000","00##~~~~00##00000000000000","@@00~~~~$$$$~~~~$$$$00##00","@@00~~~~$$$$~~~~$$$$00##00","00000000$$00~~~~$$$$~~~~00","00000000$$00~~~~$$$$~~~~00","000000@@$$000000$$$$~~~~00","000000@@$$000000$$$$~~~~00","0000##00##0000000000000000","0000##00##0####00000000000","##000000000#00#000##@@0000","##000000000#00#000##@@0000"],["00000000000000000000000000","00000000000000000000000000","00000000000000000000000000","0000000000####000000@@0000","0000000000$$$$000000$$0000","00@@@@00##$$$$@@00##$$##00","00$$$$00$$$$$$$$00$$$$$$00","##$$$$##$$$$$$$$##$$$$$$##","$$$$$$$$$$$$$$$$$$$$$$$$$$","$$$$$$$$$$$$$$$$$$$$$$$$$$","@@$$~~$$$$$$$$$$~~$$$$$$$$","@@$$~~$$$$$$$$$$~~$$$$$$$$","$$$$~~~~~~$$$$$$~~~~~~$$@@","$$$$~~~~~~$$$$$$~~~~~~$$@@","$$$$$$$$~~$$@@$$$$$$~~$$$$","$$$$$$$$~~$$@@$$$$$$~~$$$$","$$$$$$$$$$$$$$$$$$$$$$$$$$","$$$$$$$$$$$$$$$$$$$$$$$$$$","$$$$$$$$$$####$$$$$$$$$$@@","$$$$$$$$$$0000$$$$$$$$$$00","@@$$$$$$##0000##$$$$$$@@00","00$$$$$$00000000$$$$$$0000","00@@####00000000######0000","00000000000####00000000000","00000000000#00#00000000000","00000000000#00#00000000000"],["000000~~00000000~~0000000","000000~~00000000~~00000000","~~~~00~~00~~~~~~~~00~~~~~~","~~~~00~~00~~~~~~~~00~~~~~~","$$$$##0000##0000~~00~~$$~~","$$$$##0000##0000~~00~~$$~~","$$~~~~~~~~00@@0000##$$$$$$","$$~~~~~~~~00@@0000##$$$$$$","$$$$00~~0000~~00~~~~~~~~$$","$$$$00~~0000~~00~~~~~~~~$$","~~~~00~~00~~~~0000~~000000","~~~~00~~00~~~~0000~~000000","0000##$$##00##$$00~~0000~~","0000##$$##00##$$00~~0000~~","00~~~~$$~~~~~~~~00$$##00~~","00~~~~$$~~~~~~~~00$$##00~~","##0000##0000~~00$$$$~~00~~","##0000##0000~~00$$$$~~00~~","~~~~00~~~~00~~##~~~~~~0000","~~~~00~~~~00~~##~~~~~~0000","0000##00$$$$0000$$~~0000~~","0000##00$$$$0000$$~~0000~~","00~~~~~~$$00000000~~00~~~~","00~~~~~~$$0####000~~00~~~~","00~~0000000#00#00000000000","00~~0000000#00#00000000000"],["00000000@@00000000@@000000","00000000@@00000000@@000000","00@@000000@@0000@@$$$$0000","00@@000000@@0000@@$$$$0000","0000@@00000000@@$$00@00000","0000@@00000000@@$$@@@00000","000000@@00$$$$$$$$$$000@00","000000@@00$$$$$$$$$$000@00","00@00000@@$$$$@@$$0000@@00","00@00000@@$$$$@@$$0000@@00","00@@@0$$00@@$$$$@@00000@00","0000@0$$00@@$$$$@@00000@00","0000$$$$$$$$$$0000@@000000","0000$$$$$$$$$$0000@@000000","0000@0$$00@@$$000000@@0000","00@@@0$$00@@$$000000@@0000","00$$$$$$@@00@@00000000@@00","00$$$$$$@@00@@00@@0000@@00","$$$$$$@@000000000@00000000","$$$$$$@@000000000@00000000","0000@@00000000000000000@@@","0000@@00000000000000000@@@","00000000000000000000@00000","00000000000####000@@@00000","@0000000000#00#00000000000","@000@@00000#00#00000000000"],["00000000#00#00000000000000","00000000#00#00000000000000","#0#0#00#00#00000#0#0000000","#0#0#00#00#00000#0#0000000","#0#0#0####000000#0###00000","#0#0#0####000000#0###00000","0#0#00###000000##0####0000","0#0#00###000000##0####0000","00#000##0##000#0######0000","00#000##0##000#0######0000","00#00#0000###0##0#0###0000","00#00#0000###0##0#0###0000","00#000000######000#0##0000","00#000000######000#0##0000","000#0000#0#####000#0##0000","000#0000#0#####000#0##0000","000#####00######00#0#0####","000#000000######00#0#000##","000#00000##0##0##0#0#00#0#","000#00000##0##0##0#0#00#0#","0000#000##0##0####00000#00","0000#000##0##0####00000#00","0000#00##0000000###000#000","0000#00##00####0###000#000","0000#00#000#00#000####0000","0000#00#000#00#000####0000"],["00000000000000000000000000","00000000000000000000000000","00000000##00##000000000000","00000000##00##000000000000","$$0000$$##$$##$$0000$$0000","$$0000$$##$$##$$0000$$0000","##$$$$##########$$$$##$$00","##$$$$##########$$$$##$$00","########@@##@@########$$00","########@@##@@########$$00","~~~~~~##########~~~~~~$$00","~~~~~~##########~~~~~~$$00","~~##################~~~~$$","~~##################~~~~$$","######~~######~~######$$$$","######~~######~~######$$$$","####~~~~~~##~~~~~~####~~~~","####~~~~~~##~~~~~~####~~~~","$$~~~~$$$$$$$$$$~~~~$$~~$$","$$~~~~$$$$$$$$$$~~~~$$~~$$","00$$$$0000000000$$$$00$$00","00$$$$0000000000$$$$00$$00","00000000000000000000000000","00000000000####00000000000","00000000000#00#00000000000","00000000000#00#00000000000"]];function Zh(t){return Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(t)}function Ch(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dh(n.key),n)}}function Hh(t,e,r){return(e=Dh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dh(t){var e=function(t,e){if("object"!==Zh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Zh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Zh(e)?e:String(e)}var Mh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"GetParams",value:function(e){return t.Params.get(e)}}],null&&Ch(e.prototype,null),r&&Ch(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Fh(t){return Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(t)}function Uh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Fh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Fh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Fh(o)?o:String(o)),n)}var o}function Gh(t,e){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gh(t,e)}function Wh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vh(t)}Hh(Mh,"first",new Map([[W.LightTank,10],[W.ExtraLightTank,10],[W.MediumTank,5]])),Hh(Mh,"second",new Map([[W.LightTank,5],[W.ExtraLightTank,10],[W.MediumTank,5],[W.HeavyTank,5]])),Hh(Mh,"third",new Map([[W.ExtraLightTank,10],[W.MediumTank,10],[W.HeavyTank,5]])),Hh(Mh,"fourth",new Map([[W.ExtraLightTank,5],[W.MediumTank,10],[W.HeavyTank,10]])),Hh(Mh,"five",new Map([[W.MediumTank,15],[W.HeavyTank,10]])),Hh(Mh,"six",new Map([[W.MediumTank,10],[W.HeavyTank,15]])),Hh(Mh,"seven",new Map([[W.HeavyTank,25]])),Hh(Mh,"Params",new Map([[0,{Map:Kh[0],Enemies:Mh.first}],[1,{Map:Kh[1],Enemies:Mh.first}],[2,{Map:Kh[2],Enemies:Mh.first}],[3,{Map:Kh[3],Enemies:Mh.first}],[4,{Map:Kh[4],Enemies:Mh.first}],[5,{Map:Kh[5],Enemies:Mh.second}],[6,{Map:Kh[6],Enemies:Mh.second}],[7,{Map:Kh[7],Enemies:Mh.second}],[8,{Map:Kh[8],Enemies:Mh.second}],[9,{Map:Kh[9],Enemies:Mh.second}],[10,{Map:Kh[10],Enemies:Mh.third}],[11,{Map:Kh[11],Enemies:Mh.third}],[12,{Map:Kh[12],Enemies:Mh.third}],[13,{Map:Kh[13],Enemies:Mh.third}],[14,{Map:Kh[14],Enemies:Mh.third}],[15,{Map:Kh[15],Enemies:Mh.fourth}],[16,{Map:Kh[16],Enemies:Mh.fourth}],[17,{Map:Kh[17],Enemies:Mh.fourth}],[18,{Map:Kh[18],Enemies:Mh.fourth}],[19,{Map:Kh[19],Enemies:Mh.fourth}],[20,{Map:Kh[20],Enemies:Mh.five}],[21,{Map:Kh[21],Enemies:Mh.five}],[22,{Map:Kh[22],Enemies:Mh.five}],[23,{Map:Kh[23],Enemies:Mh.five}],[24,{Map:Kh[24],Enemies:Mh.five}],[25,{Map:Kh[25],Enemies:Mh.six}],[26,{Map:Kh[26],Enemies:Mh.six}],[27,{Map:Kh[27],Enemies:Mh.six}],[28,{Map:Kh[28],Enemies:Mh.six}],[29,{Map:Kh[29],Enemies:Mh.six}],[30,{Map:Kh[30],Enemies:Mh.seven}]]));var Yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vh(n);if(o){var r=Vh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wh(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).InitEvent($.Update),e.RegistryObserver($.Update,Wh(e)),e}return e=u,(r=[{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Выход из боя",id:Y.BattleResultMenu},{status:I.Ordinary,text:"В главное меню",id:A.MainMenu},{status:I.Ordinary,text:"Назад",id:this.backStatus}];this.setButtonListLocation(t)}},{key:"renderClearRect",value:function(t){var e=t.CX;e.fillStyle=f.BATTLE_MENU_BACKGROUND,e.fillRect(0,0,f.GAME_WIDTH,f.GAME_HEIGHT),e.closePath()}},{key:"getInnerTopForSet",value:function(t){return this.CenterY-t*f.BUTTON_HEIGHT/2}},{key:"innerLeft",get:function(){return this.CenterX-f.BUTTON_WIDTH/2}}])&&Uh(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Xh(t){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(t)}function zh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xh(o)?o:String(o)),n)}var o}function Qh(t,e){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qh(t,e)}function qh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jh(t)}var tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qh(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jh(n);if(o){var r=Jh(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qh(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.AddToStat),t.stat=new Map([[W.LightTank,0],[W.ExtraLightTank,0],[W.MediumTank,0],[W.HeavyTank,0]]),t.RegistryObserver($.AddToStat,qh(t)),t}return e=u,(r=[{key:"Stat",get:function(){return this.stat}},{key:"getEnemyType",value:function(t){return t instanceof Gc?W.LightTank:t instanceof Bc?W.ExtraLightTank:t instanceof Xc?W.MediumTank:W.HeavyTank}},{key:"addToStatHandler",value:function(t){var e=t.Sender,r=this.getEnemyType(e),n=this.stat.get(r);this.stat.set(r,++n)}},{key:"Action",value:function(t,e){t===$.AddToStat&&this.addToStatHandler(e)}}])&&zh(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function rb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==eb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==eb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===eb(o)?o:String(o)),n)}var o}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nb(t,e)}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ob(t)}var ib=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ob(n);if(o){var r=ob(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===eb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).firstPlayerStat=new tb,t&&(e.secondPlayerStat=new tb),e}return e=u,(r=[{key:"addToStatHandler",value:function(t){var e,r=t.Object.Owner;r instanceof Wy?this.firstPlayerStat.NotifyObservers($.AddToStat,t):r instanceof tp&&(null===(e=this.secondPlayerStat)||void 0===e||e.NotifyObservers($.AddToStat,t))}},{key:"FirstPlayerStat",get:function(){return this.firstPlayerStat}},{key:"SecondPlayerStat",get:function(){return this.secondPlayerStat}},{key:"Action",value:function(t,e){t===$.AddToStat&&this.addToStatHandler(e)}}])&&rb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function ub(t){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(t)}function cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ab(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ub(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ub(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ub(o)?o:String(o)),n)}var o}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fb(t,e)}function sb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lb(t)}var yb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lb(n);if(o){var r=lb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ub(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sb(t)}(this,t)});function u(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,new zt(t,4*f.TANK_SIZE,9*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),n.playerText=new Re(new zt(n.Point_Ref,n.Width,f.TANK_SIZE),"Игрок ".concat(r),E.Center,_.Center,f.TANK_SIZE,1==r?"yellow":"green"),n.numberList=new Array,Q.forEach((function(t,r){return n.numberList.push(new Re(new zt(new de(n.Left,n.playerText.Bottom+f.TANK_SIZE+r*f.TANK_SIZE*2),n.Width,f.TANK_SIZE),"".concat(e instanceof tb?e.Stat.get(t):e.get(t))))})),n.RegistryObserver($.Render,sb(n)),n}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return cb(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return cb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cb(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){this.playerText.NotifyObservers($.Render,t),this.numberList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}}])&&ab(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function pb(t){return pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(t)}function hb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===pb(o)?o:String(o)),n)}var o}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vb(t,e)}function db(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mb(t)}var Ob=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mb(n);if(o){var r=mb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return db(t)}(this,t)});function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,7*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),e.tankFactory=new Jc,e.tanksLocation=new Array,e.enemyTankList=new Array;for(var r=0;r<Q.length;r++)e.tanksLocation[r]=new de(e.Left,e.Top+r*f.TANK_SIZE*2);return Q.forEach((function(t,r){return e.enemyTankList.push(e.tankFactory.Create(t,e.tanksLocation[r],T.Up,D.Ok))})),e.RegistryObservers($.Render,e.enemyTankList),e.RegistryObserver($.Render,db(e)),e}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return hb(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return hb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hb(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){}}])&&bb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function wb(t){return wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wb(t)}function gb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===wb(o)?o:String(o)),n)}var o}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eb(t,e)}function _b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jb(t)}var Tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jb(n);if(o){var r=jb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _b(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,new zt(t,10*f.TANK_SIZE+f.BLOCK_SIZE,9*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),r.printEnemies=new Ob(new de(r.CenterX-f.BLOCK_SIZE,r.Top+2*f.TANK_SIZE)),r.firstPlayerData=new yb(new de(r.Left,r.Top),e instanceof ib?e.FirstPlayerStat:e.firstPlayer,1),(e instanceof ib&&e.SecondPlayerStat||!(e instanceof ib)&&e.secondPlayer)&&(r.secondPlayerData=new yb(new de(r.Right-r.firstPlayerData.Width,r.Top),e instanceof ib?e.SecondPlayerStat:e.secondPlayer,2)),r.RegistryObserver($.Render,_b(r)),r}return e=u,(r=[{key:"drawRect",value:function(t){var e,r=t.CX;r.beginPath(),r.strokeStyle="white",r.strokeRect.apply(r,function(t){if(Array.isArray(t))return gb(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gb(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){var e;this.printEnemies.NotifyObservers($.Render,t),this.firstPlayerData.NotifyObservers($.Render,t),null===(e=this.secondPlayerData)||void 0===e||e.NotifyObservers($.Render,t)}}])&&Sb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function $b(t){return $b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(t)}function Pb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$b(o)?o:String(o)),n)}var o}function kb(){return kb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ab(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},kb.apply(this,arguments)}function Rb(t,e){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rb(t,e)}function Ib(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ab(t)}var Lb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ab(n);if(o){var r=Ab(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ib(t)}(this,t)});function u(t,e,r){var n,o=r.Flag,c=r.Text;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,A.MainMenu)).InitEvent($.Update),n.printStatistic=new Tb(new de(n.Left+f.BLOCK_SIZE,n.Top+f.BLOCK_SIZE+3*f.TANK_SIZE),t),n.result=new Re(new zt(new de(n.printStatistic.Left,n.printStatistic.Top-3*f.TANK_SIZE),4*f.TANK_SIZE,f.TANK_SIZE),"You ".concat(o?"win":"lose",": "),E.Left,_.Center,f.TANK_SIZE,o?"green":"red"),n.resultText=new Re(new zt(new de(n.result.Left+n.result.Width,n.result.Top),n.Width-n.result.Width-2*n.result.Left,f.TANK_SIZE),c,E.Left),n.levelText=new Re(new zt(new de(n.printStatistic.Left,n.result.Bottom+f.BLOCK_SIZE),n.printStatistic.Width,f.TANK_SIZE),"".concat(e+1," Уровень")),n.RegistryObserver($.Update,Ib(n)),n}return e=u,(r=[{key:"renderHandler",value:function(t){kb(Ab(u.prototype),"renderHandler",this).call(this,t),this.result.NotifyObservers($.Render,t),this.resultText.NotifyObservers($.Render,t),this.levelText.NotifyObservers($.Render,t),this.printStatistic.NotifyObservers($.Render,t)}},{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"Продолжить",id:Y.NextBattle},{status:I.Ordinary,text:"В главное меню",id:A.MainMenu}];this.setButtonListLocation(t)}},{key:"pefrormBackKeys",value:function(t){}}])&&Pb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Nb(t){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(t)}function xb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Nb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Nb(o)?o:String(o)),n)}var o}function Bb(){return Bb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cb(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Bb.apply(this,arguments)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kb(t,e)}function Zb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cb(t)}var Hb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cb(n);if(o){var r=Cb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zb(t)}(this,t)});function u(t,e){var r,n=e.Flag;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,A.MainMenu)).InitEvent($.Update),r.printStatistic=new Tb(new de(r.Left+f.BLOCK_SIZE,r.Top+f.BLOCK_SIZE+3*f.TANK_SIZE),t),r.result=new Re(new zt(new de(r.printStatistic.Left,r.printStatistic.Top-3*f.TANK_SIZE),r.Width-2*r.printStatistic.Left,f.TANK_SIZE),"".concat(n?"Вы прошли все уровни!":"В следующий раз повезёт"," "),E.Left,_.Center,f.TANK_SIZE,n?"green":"white"),r.levelText=new Re(new zt(new de(r.printStatistic.Left,r.result.Bottom+f.BLOCK_SIZE),r.printStatistic.Width,f.TANK_SIZE),"Статистика сессии"),r.RegistryObserver($.Update,Zb(r)),r}return e=u,(r=[{key:"renderHandler",value:function(t){Bb(Cb(u.prototype),"renderHandler",this).call(this,t),this.result.NotifyObservers($.Render,t),this.levelText.NotifyObservers($.Render,t),this.printStatistic.NotifyObservers($.Render,t)}},{key:"initButtonList",value:function(){var t=[{status:I.Active,text:"В главное меню",id:A.MainMenu}];this.setButtonListLocation(t)}},{key:"pefrormBackKeys",value:function(t){}}])&&xb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(er);function Db(t){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(t)}function Mb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Db(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Db(o)?o:String(o)),n)}var o}function Fb(){return Fb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gb(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Fb.apply(this,arguments)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ub(t,e)}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gb(t)}var Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gb(n);if(o){var r=Gb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Db(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t}return e=u,(r=[{key:"initObjEvents",value:function(t){Fb(Gb(u.prototype),"initObjEvents",this).call(this,t),this.RegistryObserver($.Update,t)}},{key:"removeObjEvent",value:function(t){Fb(Gb(u.prototype),"removeObjEvent",this).call(this,t),this.RemoveObserver($.Update,t)}},{key:"updateHandler",value:function(t){this.NotifyObservers($.Update,t)}},{key:"Action",value:function(t,e){t===$.Update&&this.updateHandler(e),Fb(Gb(u.prototype),"Action",this).call(this,t,e)}}])&&Mb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Nl);function Vb(t){return Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(t)}function Yb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Vb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Vb(o)?o:String(o)),n)}var o}function Xb(){return Xb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qb(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xb.apply(this,arguments)}function zb(t,e){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zb(t,e)}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qb(t)}var qb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zb(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qb(n);if(o){var r=Qb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Death),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;Xb(Qb(u.prototype),"initObjEvents",this).call(this,t),[$.Death].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;Xb(Qb(u.prototype),"removeObjEvent",this).call(this,t),[$.Death].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"deathHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.RemoveFromAgregate,new mr(this,e))}},{key:"Action",value:function(t,e){t===$.Death&&this.deathHandler(e),Xb(Qb(u.prototype),"Action",this).call(this,t,e)}}])&&Yb(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Wb);function Jb(t){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(t)}function tv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Jb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Jb(o)?o:String(o)),n)}var o}function ev(){return ev="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nv(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ev.apply(this,arguments)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rv(t,e)}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nv(t)}var ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nv(n);if(o){var r=nv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.BlowUp),t.InitEvent($.Move),t}return e=u,(r=[{key:"initObjEvents",value:function(t){var e=this;ev(nv(u.prototype),"initObjEvents",this).call(this,t),[$.BlowUp,$.Move].forEach((function(r){return t.RegistryObserver(r,e)}))}},{key:"removeObjEvent",value:function(t){var e=this;ev(nv(u.prototype),"removeObjEvent",this).call(this,t),[$.BlowUp,$.Move].forEach((function(r){return t.RemoveObserver(r,e)}))}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t)}},{key:"blowUpHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.RemoveFromAgregate,new mr(this,e)),this.NotifyObservers($.BlowUp,new mr(this,e))}},{key:"Action",value:function(t,e){switch(t){case $.Move:this.moveHandler(e);break;case $.BlowUp:this.blowUpHandler(e)}ev(nv(u.prototype),"Action",this).call(this,t,e)}}])&&tv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Wb);function iv(t){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(t)}function uv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==iv(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==iv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===iv(o)?o:String(o)),n)}var o}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cv(t,e)}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},av(t)}var fv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=av(n);if(o){var r=av(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Update),t.InitEvent($.Move),t.ok=new ov,t.blowUp=new qb,t.initEvents(),t}return e=u,(r=[{key:"initEvents",value:function(){var t=this;[$.Update].forEach((function(e){return t.RegistryObservers(e,[t.Ok,t.BlowUp])})),[$.Move,$.BlowUp].forEach((function(e){return t.Ok.RegistryObserver(e,t)}))}},{key:"OkList",get:function(){return this.Ok.List}},{key:"BlowUpList",get:function(){return this.BlowUp.List}},{key:"RenderOk",value:function(t){this.Ok.NotifyObservers($.Render,t)}},{key:"RenderBlowUp",value:function(t){this.blowUp.NotifyObservers($.Render,t)}},{key:"shotHandler",value:function(t){this.Ok.NotifyObservers($.AddToArgegate,t)}},{key:"moveHandler",value:function(t){this.NotifyObservers($.Move,t)}},{key:"updateHandler",value:function(t){this.NotifyObservers($.Update,t)}},{key:"blowUpHandler",value:function(t){this.blowUp.NotifyObservers($.AddToArgegate,t)}},{key:"Action",value:function(t,e){switch(t){case $.Update:this.updateHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.BlowUp:this.blowUpHandler(e);break;case $.Move:this.moveHandler(e)}}},{key:"Ok",get:function(){return this.ok}},{key:"BlowUp",get:function(){return this.blowUp}}])&&uv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(nt);function sv(t){return sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(t)}function lv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==sv(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==sv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===sv(o)?o:String(o)),n)}var o}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yv(t,e)}function pv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hv(t)}var bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hv(n);if(o){var r=hv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===sv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pv(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.BLOCK_SIZE,f.BLOCK_SIZE),R.Box)).InitEvent($.Render),e.RegistryObserver($.Render,pv(e)),e}return e=u,(r=[{key:"Frame",get:function(){return this.frames}}])&&lv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function vv(t){return vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(t)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dv(t,e)}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mv(t)}var Ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mv(r);if(n){var o=mv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[20*f.TANK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function wv(t){return wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(t)}function gv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wv(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===wv(o)?o:String(o)),n)}var o}function Sv(){return Sv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jv(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Sv.apply(this,arguments)}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ev(t,e)}function _v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jv(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jv(n);if(o){var r=jv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _v(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,5*f.TANK_SIZE+f.BLOCK_SIZE),R.Rectangle)).InitEvent($.Render),e.enemyIconList=new Array,e.RegistryObserver($.Render,_v(e)),e}return e=u,(r=[{key:"updateEnemyQueueHandler",value:function(t){var e=t.Number;if(this.enemyIconList=[],e)for(var r=0,n=0,o=0;o<e;o++)this.enemyIconList.push(new Ov(new de(this.Left+f.BLOCK_SIZE*r,this.Top+f.BLOCK_SIZE*n))),++r==this.Width/f.BLOCK_SIZE&&(r=0,n++)}},{key:"renderHandler",value:function(t){this.enemyIconList.forEach((function(e){return e.NotifyObservers($.Render,t)}))}},{key:"Action",value:function(t,e){t===$.UpdateEnemyQueue&&this.updateEnemyQueueHandler(e),Sv(jv(u.prototype),"Action",this).call(this,t,e)}}])&&gv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Pv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$v(o)?o:String(o)),n)}var o}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kv(t,e)}function Rv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iv(t)}var Av=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Iv(n);if(o){var r=Iv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rv(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE),R.Box)).InitEvent($.Render),e.frames=[23*f.TANK_SIZE+f.BLOCK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e.RegistryObserver($.Render,Rv(e)),e}return e=u,(r=[{key:"Frame",get:function(){return this.frames}}])&&Pv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(kr);function Lv(t){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(t)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nv(t,e)}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xv(t)}var Bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xv(r);if(n){var o=xv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function Kv(t){return Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(t)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zv(t,e)}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cv(t)}var Hv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cv(r);if(n){var o=Cv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[22*f.TANK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Dv(t){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(t)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mv(t,e)}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fv(t)}var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fv(r);if(n){var o=Fv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[20*f.TANK_SIZE+f.BLOCK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Gv(t){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(t)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wv(t,e)}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(t)}var Yv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vv(r);if(n){var o=Vv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[22*f.TANK_SIZE+f.BLOCK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Xv(t){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(t)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zv(t,e)}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qv(t)}var qv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qv(r);if(n){var o=Qv(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[22*f.TANK_SIZE+f.BLOCK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Jv(t){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(t)}function td(t,e){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},td(t,e)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ed(t)}var rd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&td(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ed(r);if(n){var o=ed(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[21*f.TANK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function nd(t){return nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(t)}function od(t,e){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},od(t,e)}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},id(t)}var ud=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&od(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=id(r);if(n){var o=id(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[21*f.TANK_SIZE+f.BLOCK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function cd(t){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(t)}function ad(t,e){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ad(t,e)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fd(t)}var sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ad(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fd(r);if(n){var o=fd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[21*f.TANK_SIZE,12*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function ld(t){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(t)}function yd(t,e){return yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yd(t,e)}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pd(t)}var hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pd(r);if(n){var o=pd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ld(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[22*f.TANK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function bd(t){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(t)}function vd(t,e){return vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vd(t,e)}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dd(t)}var md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dd(r);if(n){var o=dd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[21*f.TANK_SIZE+f.BLOCK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Od(t){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(t)}function wd(t,e){return wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wd(t,e)}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gd(t)}var Sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gd(r);if(n){var o=gd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[20*f.TANK_SIZE+f.BLOCK_SIZE,11*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Bv);function Ed(t){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(t)}function _d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ed(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ed(o)?o:String(o)),n)}var o}var jd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.types=new Map([[0,Sd],[1,rd],[2,md],[3,hd],[4,Yv],[5,Uv],[6,sd],[7,ud],[8,Hv],[9,qv]])}var e,r;return e=t,(r=[{key:"Create",value:function(t,e){return new(this.types.get(t))(e)}}])&&_d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Td(t){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(t)}function $d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Td(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Td(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Td(o)?o:String(o)),n)}var o}function Pd(){return Pd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Id(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Pd.apply(this,arguments)}function kd(t,e){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kd(t,e)}function Rd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Id(t)}var Ad=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kd(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Id(n);if(o){var r=Id(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Td(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rd(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,1.5*f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),e.flagImage=new Av(e.Point_Ref),e.numberFactory=new jd,e.number_1=null,e.number_2=null,e.numberLocation=new Array(new de(e.Left,e.Top+f.TANK_SIZE),new de(e.Left+f.BLOCK_SIZE,e.Top+f.TANK_SIZE)),e.RegistryObserver($.Render,Rd(e)),e}return e=u,(r=[{key:"renderHandler",value:function(t){[this.flagImage,this.number_1,this.number_2].forEach((function(e){return e&&e.NotifyObservers($.Render,t)}))}},{key:"updateLevelNumberHandler",value:function(t){var e=t.Number,r="".concat(e+1);2==r.length?(this.number_1=this.numberFactory.Create(+r[0],this.numberLocation[0]),this.number_2=this.numberFactory.Create(+r[1],this.numberLocation[1])):1==r.length&&(this.number_1=this.numberFactory.Create(0,this.numberLocation[0]),this.number_2=this.numberFactory.Create(+r[0],this.numberLocation[1]))}},{key:"Action",value:function(t,e){t===$.UpdateLevelNumber&&this.updateLevelNumberHandler(e),Pd(Id(u.prototype),"Action",this).call(this,t,e)}}])&&$d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Ld(t){return Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(t)}function Nd(t,e){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nd(t,e)}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xd(t)}var Bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xd(r);if(n){var o=xd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ld(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[23*f.TANK_SIZE+f.BLOCK_SIZE,9*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function Kd(t){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(t)}function Zd(t,e){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zd(t,e)}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cd(t)}var Hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cd(r);if(n){var o=Cd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[24*f.TANK_SIZE,8*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function Dd(t){return Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(t)}function Md(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Dd(o)?o:String(o)),n)}var o}function Fd(){return Fd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wd(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Fd.apply(this,arguments)}function Ud(t,e){return Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ud(t,e)}function Gd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wd(t)}var Vd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ud(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wd(n);if(o){var r=Wd(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gd(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,f.TANK_SIZE,f.TANK_SIZE),R.Box)).InitEvent($.Render),e.playerImage=new Hd(e.Point_Ref),e.orangeTank=new Bd(new de(e.Left,e.Top+f.BLOCK_SIZE)),e.number=null,e.numberLocation=new de(e.Left+f.BLOCK_SIZE,e.Top+f.BLOCK_SIZE),e.numberFactory=new jd,e.RegistryObserver($.Render,Gd(e)),e}return e=u,(r=[{key:"updatePlayersLiveHandler",value:function(t){var e=t.Number;this.number=this.numberFactory.Create(e,this.numberLocation)}},{key:"renderHandler",value:function(t){[this.playerImage,this.orangeTank,this.number].forEach((function(e){return e&&e.NotifyObservers($.Render,t)}))}},{key:"Action",value:function(t,e){t===$.UpdatePlayersLive&&this.updatePlayersLiveHandler(e),Fd(Wd(u.prototype),"Action",this).call(this,t,e)}}])&&Md(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function Yd(t){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(t)}function Xd(t,e){return Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xd(t,e)}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zd(t)}var Qd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xd(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zd(r);if(n){var o=zd(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[23*f.TANK_SIZE+f.BLOCK_SIZE,8*f.TANK_SIZE+f.BLOCK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function qd(t){return qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(t)}function Jd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qd(o)?o:String(o)),n)}var o}function tm(){return tm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nm(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tm.apply(this,arguments)}function em(t,e){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},em(t,e)}function rm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nm(t)}var om=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&em(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nm(n);if(o){var r=nm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rm(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(t,2*f.TANK_SIZE,f.TANK_SIZE),R.Rectangle)).InitEvent($.Render),e.InitEvent($.UpdatePlayerHp),e.playerImage=new Hd(new de(e.Left+f.BLOCK_SIZE,e.Top)),e.tankLevel=null,e.tankLevelLocation=new de(e.Right-f.BLOCK_SIZE,e.Top),e.healthNumberLocation=new Array(new de(e.Left,e.Top+f.BLOCK_SIZE),new de(e.Left+f.BLOCK_SIZE,e.Top+f.BLOCK_SIZE),new de(e.Left+f.TANK_SIZE,e.Top+f.BLOCK_SIZE),new de(e.Right-f.BLOCK_SIZE,e.Top+f.BLOCK_SIZE)),e.numberFactory=new jd,[$.Render,$.UpdatePlayerHp].forEach((function(t){return e.RegistryObserver(t,rm(e))})),e}return e=u,(r=[{key:"renderHandler",value:function(t){[this.playerImage,this.orderPlayer,this.tankLevel].forEach((function(e){return e&&e.NotifyObservers($.Render,t)})),this.healthNumbers.forEach((function(e){return e.NotifyObservers($.Render,t)}))}},{key:"updatePlayerHpHandler",value:function(t){var e,r,n,o=this,i=t.Sender;this.tankLevel=this.numberFactory.Create(i.TankLevel+1,this.tankLevelLocation);var u=null===(e=i.Tank)||void 0===e?void 0:e.HP,c=new Array;(u<=0||(null===(r=i.Tank)||void 0===r?void 0:r.Status)==D.BlowUp||(null===(n=i.Tank)||void 0===n?void 0:n.Status)==D.Death||!i.Tank)&&(u=0),Array.from("".concat(u)).forEach((function(t,e){return c.push(o.numberFactory.Create(+t,o.healthNumberLocation[e]))})),this.healthNumbers=c}},{key:"Action",value:function(t,e){t===$.UpdatePlayerHp&&this.updatePlayerHpHandler(e),tm(nm(u.prototype),"Action",this).call(this,t,e)}}])&&Jd(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function im(t){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(t)}function um(t,e){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},um(t,e)}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cm(t)}var am=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cm(r);if(n){var o=cm(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).orderPlayer=new Qd(e.Point_Ref),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(om);function fm(t){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(t)}function sm(t,e){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sm(t,e)}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lm(t)}var ym=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sm(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lm(r);if(n){var o=lm(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).frames=[23*f.TANK_SIZE+f.BLOCK_SIZE,10*f.TANK_SIZE,e.Width,e.Height],e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(bv);function pm(t){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(t)}function hm(t,e){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hm(t,e)}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bm(t)}var vm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hm(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bm(r);if(n){var o=bm(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).orderPlayer=new ym(e.Point_Ref),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(om);function dm(t){return dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(t)}function mm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Om(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==dm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===dm(o)?o:String(o)),n)}var o}function wm(){return wm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Em(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},wm.apply(this,arguments)}function gm(t,e){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gm(t,e)}function Sm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Em(t)}var _m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gm(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Em(n);if(o){var r=Em(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sm(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,new zt(new de(f.LEVEL_SIZE,0),f.SIDEBAR_WIDTH,f.LEVEL_SIZE),R.Rectangle)).InitEvent($.Render),e.InitEvent($.UpdateLevelNumber),e.InitEvent($.UpdatePlayersLive),e.InitEvent($.UpdatePlayerHp),e.InitEvent($.UpdateEnemyQueue),e.initLevelPlace(),e.initLivePlace(),e.initFirstPlayerHp(),t&&e.initSecondPlayerHp(),e.initEnemyPlace(),e.RegistryObserver($.Render,Sm(e)),e}return e=u,(r=[{key:"initEnemyPlace",value:function(){this.enemyPlace=new Tv(new de(this.Left+f.TANK_SIZE,this.Top+f.BLOCK_SIZE)),this.RegistryObserver($.UpdateEnemyQueue,this.enemyPlace)}},{key:"initFirstPlayerHp",value:function(){this.firstPlayerHp=new am(new de(this.Left+f.BLOCK_SIZE,this.Bottom-5*f.TANK_SIZE))}},{key:"initSecondPlayerHp",value:function(){this.secondPlayerHp=new vm(new de(this.Left+f.BLOCK_SIZE,this.Bottom-6*f.TANK_SIZE-f.BLOCK_SIZE))}},{key:"initLevelPlace",value:function(){this.levelPlace=new Ad(new de(this.Left+f.TANK_SIZE,this.Bottom-2*f.TANK_SIZE)),this.RegistryObserver($.UpdateLevelNumber,this.levelPlace)}},{key:"initLivePlace",value:function(){this.livePlace=new Vd(new de(this.Left+f.TANK_SIZE,this.Bottom-3*f.TANK_SIZE-f.BLOCK_SIZE)),this.RegistryObserver($.UpdatePlayersLive,this.livePlace)}},{key:"renderRectandle",value:function(t){var e,r=t.CX;r.beginPath(),r.fillStyle=f.SIDEBAR_BACKGROUND,r.fillRect.apply(r,function(t){if(Array.isArray(t))return mm(t)}(e=this.Rectangle)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return mm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mm(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.closePath()}},{key:"renderHandler",value:function(t){this.renderRectandle(t),this.levelPlace.NotifyObservers($.Render,t),this.livePlace.NotifyObservers($.Render,t),this.firstPlayerHp.NotifyObservers($.Render,t),this.secondPlayerHp&&this.secondPlayerHp.NotifyObservers($.Render,t),this.enemyPlace.NotifyObservers($.Render,t)}},{key:"updateLevelNumberHandler",value:function(t){this.NotifyObservers($.UpdateLevelNumber,t)}},{key:"updatePlayersLiveHandler",value:function(t){this.NotifyObservers($.UpdatePlayersLive,t)}},{key:"updatePlayerHpHandler",value:function(t){var e;t.Sender instanceof Wy?this.firstPlayerHp.NotifyObservers($.UpdatePlayerHp,t):null===(e=this.secondPlayerHp)||void 0===e||e.NotifyObservers($.UpdatePlayerHp,t)}},{key:"updateEnemyQueueHandler",value:function(t){this.NotifyObservers($.UpdateEnemyQueue,t)}},{key:"Action",value:function(t,e){switch(t){case $.UpdateLevelNumber:this.updateLevelNumberHandler(e);break;case $.UpdatePlayersLive:this.updatePlayersLiveHandler(e);break;case $.UpdatePlayerHp:this.updatePlayerHpHandler(e);break;case $.UpdateEnemyQueue:this.updateEnemyQueueHandler(e)}wm(Em(u.prototype),"Action",this).call(this,t,e)}}])&&Om(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ee);function jm(t){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(t)}function Tm(t){return function(t){if(Array.isArray(t))return $m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pm(){Pm=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==jm(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function km(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function Rm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==jm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==jm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===jm(o)?o:String(o)),n)}var o}function Im(t,e){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Im(t,e)}function Am(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lm(t)}var Nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Im(t,e)}(a,t);var e,r,n,o,i,u,c=(i=a,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lm(i);if(u){var r=Lm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Am(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this)).setCanInput(),e.levelIndex=t.levelIndex,e.levelParams=Mh.GetParams(e.levelIndex),e.lastLevel=!Mh.GetParams(e.levelIndex+1),e.sessionStat=t.sessionStat,e.battleResult=!1,e.status=Y.Battle,e.InitEvent($.Render),e.InitEvent($.Update),e.InitEvent($.ChangeMode),e.InitEvent($.Move),e.InitEvent($.Turn),e.InitEvent($.Shot),e.InitEvent($.Born),e.InitEvent($.BlowUp),e.InitEvent($.GetDamage),e.InitEvent($.AskHidden),e.InitEvent($.TrackLoopOn),e.InitEvent($.TrackOff),e.InitEvent($.TrackOnceOn),e.InitEvent($.AskCheckAround),e.InitEvent($.AskPlayersLocation),e.InitEvent($.UpdateLevelNumber),e.InitEvent($.UpdatePlayersLive),e.InitEvent($.UpdatePlayerHp),e.InitEvent($.UpdateEnemyQueue),e.InitEvent($.PlayersEnded),e.InitEvent($.EnemiesEnded),e.InitEvent($.BaseEnded),e.InitEvent($.ExecuteBattleResult),e.InitEvent($.BattleFinish),e.InitEvent($.TryBonusSpawn),e.InitEvent($.AddToStat),e.InitEvent($.BonusDistribution),e.InitEvent($.NextBattle),e.initSideBar(t.players.couple),e.initLevel(),e.initPlayers(t),e.initEnemies(),e.initShots(),e.initEngine(),e.initBonuses(),e.initBattleStat(),e.playersEnded=!1,e.baseEnded=!1,e.enemiesEnded=!1,e.endTimeOut=new To(e.executeBattleResultHandler.bind(Am(e)),3e3),e.RegistryObserver($.BattleFinish,Am(e)),e.NotifyObservers($.UpdateLevelNumber,new Wt(Am(e),t.levelIndex)),e}return e=a,r=[{key:"initSessionResultMenu",value:function(t){var e=this;this.sessionResultMenu=new Hb(t,new bt(this,this.battleResult)),[$.ChangeMode,$.TrackOnceOn].forEach((function(t){var r;return null===(r=e.sessionResultMenu)||void 0===r?void 0:r.RegistryObserver(t,e)})),this.status=Y.SessionResultMenu}},{key:"initBonuses",value:function(){var t=this;this.bonuses=new kp,[$.TryBonusSpawn].forEach((function(e){return t.RegistryObserver(e,t.bonuses)})),[$.Born,$.TrackOnceOn].forEach((function(e){return t.bonuses.RegistryObserver(e,t)}))}},{key:"initBattleStat",value:function(){var t=this;this.battleStat=new ib(this.players.Couple),[$.AddToStat].forEach((function(e){return t.RegistryObserver(e,t.battleStat)}))}},{key:"waitForEnubleInput",value:(n=Pm().mark((function t(){var e=this;return Pm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(P.Confirm).then((function(){return e.canInput=!0}));case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){km(i,r,o,u,c,"next",t)}function c(t){km(i,r,o,u,c,"throw",t)}u(void 0)}))},function(){return o.apply(this,arguments)})},{key:"setCanInput",value:function(){this.canInput=!1,this.waitForEnubleInput()}},{key:"changeModeHandler",value:function(t){var e=t.ModeStatus;if(e==Y.Battle)this.battleMenu=null,this.status=e,this.setCanInput();else if(e==A.MainMenu)this.NotifyObservers($.ChangeMode,new Mt(this,e,!0));else if(e==Y.BattleResultMenu)this.NotifyObservers($.BattleFinish,new _l(this,!1,"Выход из боя"));else if(e==Y.NextBattle){var r={levelIndex:++this.levelIndex,sessionStat:{firstPlayer:this.sumStatistic(this.battleStat.FirstPlayerStat,this.sessionStat.firstPlayer),secondPlayer:this.players.Couple?this.sumStatistic(this.battleStat.SecondPlayerStat,this.sessionStat.secondPlayer):null},players:{couple:this.players.Couple,lives:this.players.Lives,firstPlayer:{tankLevel:this.players.FirstPlayerLevelTank,alive:!!this.players.FirstPlayerTank},secondPlayer:this.players.Couple?{tankLevel:this.players.SecondPlayerLevelTank,alive:!!this.players.SecondPlayerTank}:null}};!this.battleResult||this.lastLevel?this.initSessionResultMenu(r.sessionStat):this.NotifyObservers($.NextBattle,new Nt(this,r))}}},{key:"sumStatistic",value:function(t,e){return Q.forEach((function(r){var n=e.get(r),o=t.Stat.get(r);e.set(r,n+o)})),e}},{key:"initBattleMenu",value:function(){var t=this;this.battleMenu||(this.battleMenu=new Yh(this.Status),[$.ChangeMode,$.TrackOnceOn].forEach((function(e){var r;return null===(r=t.battleMenu)||void 0===r?void 0:r.RegistryObserver(e,t)})),this.status=Y.BattleMenu)}},{key:"Status",get:function(){return this.status}},{key:"executeBattleResultHandler",value:function(){this.baseEnded?this.NotifyObservers($.BattleFinish,new _l(this,!1,"База разрушена")):this.playersEnded?this.NotifyObservers($.BattleFinish,new _l(this,!1,"Игрок".concat(this.players.Couple?"и":""," уничтожен").concat(this.players.Couple?"ы":""))):this.enemiesEnded&&this.NotifyObservers($.BattleFinish,new _l(this,!0,"Противники уничтожены"))}},{key:"initEnemies",value:function(){var t=this;this.enemies=new Ny(this.levelParams.Enemies),[$.BonusDistribution].forEach((function(e){return t.RegistryObserver(e,t.enemies)})),[$.Move,$.Turn,$.Shot,$.TrackLoopOn,$.TrackOff,$.TrackOnceOn,$.EnemiesEnded,$.Death,$.AskCheckAround,$.AskPlayersLocation,$.AskBaseLocation,$.UpdateEnemyQueue,$.Born,$.BlowUp].forEach((function(e){return t.enemies.RegistryObserver(e,t)}))}},{key:"initShots",value:function(){var t=this;this.shots=new fv,[$.Move].forEach((function(e){return t.shots.RegistryObserver(e,t)})),[$.Shot].forEach((function(e){return t.RegistryObserver(e,t.shots)}))}},{key:"initEngine",value:function(){var t=this;this.engine=new Zp(this.level.Rectangle),[$.Move,$.Turn,$.AskCheckAround,$.AskHidden,$.Born].forEach((function(e){return t.RegistryObserver(e,t.engine)}))}},{key:"initSideBar",value:function(t){var e=this;this.sideBar=new _m(t),[$.UpdateLevelNumber,$.UpdatePlayersLive,$.UpdatePlayerHp,$.UpdateEnemyQueue].forEach((function(t){return e.RegistryObserver(t,e.sideBar)}))}},{key:"initLevel",value:function(){var t=this;this.level=new Bh(this.levelParams.Map),[$.BonusDistribution].forEach((function(e){return t.RegistryObserver(e,t.level)})),[$.TrackOnceOn,$.BaseEnded,$.Born].forEach((function(e){return t.level.RegistryObserver(e,t)}))}},{key:"initPlayers",value:function(t){var e=this;this.players=new up(t),[$.AskPlayersLocation].forEach((function(t){return e.RegistryObserver(t,e.players)})),[$.Move,$.Turn,$.Shot,$.TrackLoopOn,$.TrackOff,$.PlayersEnded,$.TrackOnceOn,$.UpdatePlayerHp,$.AskHidden,$.UpdatePlayersLive,$.Born,$.BonusDistribution].forEach((function(t){return e.players.RegistryObserver(t,e)})),this.players.StartSideBarSet()}},{key:"enemiesEndedHandler",value:function(t){this.enemiesEnded=!0}},{key:"playersEndedHandler",value:function(t){this.playersEnded=!0}},{key:"baseEndedHandler",value:function(t){this.baseEnded=!0}},{key:"askCheckAroundHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.AskCheckAround,new Pl(e,this.Objects))}},{key:"askPlayersLocationHandler",value:function(t){this.NotifyObservers($.AskPlayersLocation,t)}},{key:"askBaseLocationHandler",value:function(t){var e=t.Sender;e.NotifyObservers($.SetBaseLocation,new Sr(e,this.level.Flag.Point))}},{key:"renderBattle",value:function(t){this.level.RenderRoads(t),this.level.RenderWaters(t),this.level.RenderBricks(t),this.level.RenderIrons(t),this.level.RenderFlag(t),this.shots.RenderOk(t),this.enemies.RenderOk(t),this.players.RenderOkHidden(t),this.level.RenderBushes(t),this.players.RenderOkShow(t),this.bonuses.RenderOk(t),this.shots.RenderBlowUp(t),this.enemies.RenderBlowUp(t),this.players.RenderBlowUp(t),this.enemies.RenderSpawn(t),this.players.RenderSpawn(t),this.sideBar.NotifyObservers($.Render,t)}},{key:"renderBattleMenu",value:function(t){var e;null===(e=this.battleMenu)||void 0===e||e.NotifyObservers($.Render,t)}},{key:"renderBattleResultMenu",value:function(t){var e;null===(e=this.battleResultMenu)||void 0===e||e.NotifyObservers($.Render,t)}},{key:"renderSessionResultMenu",value:function(t){var e;null===(e=this.sessionResultMenu)||void 0===e||e.NotifyObservers($.Render,t)}},{key:"renderHandler",value:function(t){this.Status==Y.Battle||this.Status==Y.BattleMenu?(this.renderBattle(t),this.Status==Y.BattleMenu&&this.renderBattleMenu(t)):this.Status==Y.BattleResultMenu?this.renderBattleResultMenu(t):this.Status==Y.SessionResultMenu&&this.renderSessionResultMenu(t)}},{key:"checkStartBattleMenu",value:function(t){var e=t.Keys;this.canInput&&e.Escape&&(this.initBattleMenu(),this.NotifyObservers($.TrackOnceOn,new Me(this,B.ConfirmMenu)))}},{key:"updateBattle",value:function(t){(this.baseEnded||this.playersEnded||this.enemiesEnded)&&this.endTimeOut.Set(),this.level.NotifyObservers($.Update,t),this.players.NotifyObservers($.Update,t),this.enemies.NotifyObservers($.Update,t),this.shots.NotifyObservers($.Update,t),this.bonuses.NotifyObservers($.Update,t),this.checkStartBattleMenu(t)}},{key:"updateBattleMenu",value:function(t){var e;null===(e=this.battleMenu)||void 0===e||e.NotifyObservers($.Update,t)}},{key:"updateBattleResultMenu",value:function(t){var e;null===(e=this.battleResultMenu)||void 0===e||e.NotifyObservers($.Update,t)}},{key:"updateSessionResultMenu",value:function(t){var e;null===(e=this.sessionResultMenu)||void 0===e||e.NotifyObservers($.Update,t)}},{key:"updateHandler",value:function(t){switch(this.Status){case Y.Battle:this.updateBattle(t);break;case Y.BattleMenu:this.updateBattleMenu(t);break;case Y.BattleResultMenu:this.updateBattleResultMenu(t);break;case Y.SessionResultMenu:this.updateSessionResultMenu(t)}}},{key:"Objects",get:function(){var t,e,r,n,o=[].concat(Tm(this.level.BrickList),Tm(this.level.IronList),Tm(this.level.BushList),Tm(this.level.WaterList),Tm(this.shots.OkList),Tm(this.enemies.OkTankList),Tm(this.bonuses.OkBonuses),[this.level.Flag]);return null!==(t=this.players)&&void 0!==t&&null!==(e=t.FirstPlayerTank)&&void 0!==e&&e.IsOk&&o.push(this.players.FirstPlayerTank),null!==(r=this.players)&&void 0!==r&&null!==(n=r.SecondPlayerTank)&&void 0!==n&&n.IsOk&&o.push(this.players.SecondPlayerTank),o}},{key:"moveHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.Move,new Pl(e,this.Objects))}},{key:"shotHandler",value:function(t){this.NotifyObservers($.Shot,t)}},{key:"turnHandler",value:function(t){var e=t.Sender,r=t.Direction;this.NotifyObservers($.Turn,new Pl(e,this.Objects,r))}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOnceOnHandler",value:function(t){this.NotifyObservers($.TrackOnceOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"updatePlayersHPHandler",value:function(t){this.NotifyObservers($.UpdatePlayerHp,t)}},{key:"updatePlayersLiveHandler",value:function(t){this.NotifyObservers($.UpdatePlayersLive,t)}},{key:"updateEnemyQueueHandler",value:function(t){this.NotifyObservers($.UpdateEnemyQueue,t)}},{key:"askHiddenHandler",value:function(t){this.NotifyObservers($.AskHidden,t)}},{key:"bornHandler",value:function(t){var e=t.Sender;this.NotifyObservers($.Born,new Pl(e,this.Objects))}},{key:"enemyBlowUpHandler",value:function(t){this.NotifyObservers($.AddToStat,t)}},{key:"battleFinishHandler",value:function(t){var e=this;this.battleResult=t.Flag,this.battleResultMenu=new Lb(this.battleStat,this.levelIndex,t),[$.ChangeMode,$.TrackOnceOn].forEach((function(t){var r;return null===(r=e.battleResultMenu)||void 0===r?void 0:r.RegistryObserver(t,e)})),this.status=Y.BattleResultMenu}},{key:"enemyDeathHandler",value:function(t){this.NotifyObservers($.TryBonusSpawn,t)}},{key:"bonusDistributionHandler",value:function(t){this.NotifyObservers($.BonusDistribution,t)}},{key:"Action",value:function(t,e){switch(t){case $.Render:this.renderHandler(e);break;case $.Update:this.updateHandler(e);break;case $.Move:this.moveHandler(e);break;case $.Turn:this.turnHandler(e);break;case $.Shot:this.shotHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.TrackOnceOn:this.trackOnceOnHandler(e);break;case $.AskCheckAround:this.askCheckAroundHandler(e);break;case $.AskPlayersLocation:this.askPlayersLocationHandler(e);break;case $.AskBaseLocation:this.askBaseLocationHandler(e);break;case $.UpdatePlayerHp:this.updatePlayersHPHandler(e);break;case $.UpdatePlayersLive:this.updatePlayersLiveHandler(e);break;case $.UpdateEnemyQueue:this.updateEnemyQueueHandler(e);break;case $.AskHidden:this.askHiddenHandler(e);break;case $.Born:this.bornHandler(e);break;case $.EnemiesEnded:this.enemiesEndedHandler(e);break;case $.PlayersEnded:this.playersEndedHandler(e);break;case $.BaseEnded:this.baseEndedHandler(e);break;case $.ChangeMode:this.changeModeHandler(e);break;case $.BlowUp:this.enemyBlowUpHandler(e);break;case $.BattleFinish:this.battleFinishHandler(e);break;case $.Death:this.enemyDeathHandler(e);break;case $.BonusDistribution:this.bonusDistributionHandler(e)}}}],r&&Rm(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(nt);function xm(t){return xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(t)}function Bm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xm(o)?o:String(o)),n)}var o}function Km(){return Km="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hm(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Km.apply(this,arguments)}function Zm(t,e){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zm(t,e)}function Cm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hm(t)}var Dm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zm(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hm(n);if(o){var r=Hm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cm(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this)).InitEvent($.Play),t.InitEvent($.ClearTracks),t.InitEvent($.SortTracks),t.InitEvent($.TrackLoopOn),t.InitEvent($.TrackOff),t.InitEvent($.CreateBattle),t.InitEvent($.ChangePlayersCount),t.soundData=new wl,t.resetStartData(),t.status=A.MainMenu,t.ojects=new Map([[A.MainMenu,wa],[A.Info,pl],[A.ChoosePlayers,zu],[A.ChooseLevel,sr],[A.FirstPlayerChooseTank,ac],[A.SecondPlayerChooseTank,yc],[A.Battle,Nm]]),t.initEvents(),t.setInteractiveObject(t.status,!0),t.NotifyObservers($.TrackLoopOn,new Me(Cm(t),B.MenuTheme)),t}return e=u,r=[{key:"Update",value:function(t){this.NotifyObservers($.Update,new Zt(this,t))}},{key:"resetStartData",value:function(){this.backStatusHistory=[],this.startData={levelIndex:0,sessionStat:{firstPlayer:new Map([[W.LightTank,0],[W.ExtraLightTank,0],[W.MediumTank,0],[W.HeavyTank,0]]),secondPlayer:new Map([[W.LightTank,0],[W.ExtraLightTank,0],[W.MediumTank,0],[W.HeavyTank,0]])},players:{couple:!1,firstPlayer:{alive:!0,tankLevel:j.FirstLevel},secondPlayer:{alive:!0,tankLevel:j.FirstLevel},lives:3}}}},{key:"initBattle",value:function(){this.NotifyObservers($.CreateBattle,new Nt(this,{levelIndex:this.startData.levelIndex,sessionStat:{firstPlayer:this.startData.sessionStat.firstPlayer,secondPlayer:this.startData.players.couple?this.startData.sessionStat.secondPlayer:null},players:{couple:this.startData.players.couple,firstPlayer:this.startData.players.firstPlayer,secondPlayer:this.startData.players.couple?this.startData.players.secondPlayer:null,lives:this.startData.players.lives}})),this.NotifyObservers($.TrackLoopOn,new Me(this,B.BattleTheme))}},{key:"initChooseLevelMenu",value:function(t){Km(Hm(u.prototype),"assignInteractiveObject",this).call(this,t,this.startData.levelIndex),this.interactiveObject.RegistryObserver($.SetLevelIndex,this),this.interactiveObject.RegistryObserver($.SetTankLevel,this)}},{key:"initChoosePlayersMenu",value:function(t){Km(Hm(u.prototype),"assignInteractiveObject",this).call(this,t,t==A.MainMenu),this.interactiveObject.RegistryObserver($.ChangePlayersCount,this)}},{key:"initChooseFirstPlayerTankMenu",value:function(t){Km(Hm(u.prototype),"assignInteractiveObject",this).call(this,t,this.startData.players.firstPlayer.tankLevel,this.startData.players.couple),this.interactiveObject.RegistryObserver($.SetTankLevel,this)}},{key:"initChooseSecondPlayerTankMenu",value:function(t){Km(Hm(u.prototype),"assignInteractiveObject",this).call(this,t,this.startData.players.secondPlayer.tankLevel),this.interactiveObject.RegistryObserver($.SetTankLevel,this)}},{key:"assignInteractiveObject",value:function(t){this.status==A.Battle?this.initBattle():this.status==A.ChooseLevel?this.initChooseLevelMenu(t):this.status==A.ChoosePlayers?this.initChoosePlayersMenu(t):this.status==A.FirstPlayerChooseTank?this.initChooseFirstPlayerTankMenu(t):this.status==A.SecondPlayerChooseTank?this.initChooseSecondPlayerTankMenu(t):Km(Hm(u.prototype),"assignInteractiveObject",this).call(this,t),this.status==A.MainMenu&&(this.resetStartData(),this.NotifyObservers($.TrackOff,new Me(this,B.BattleTheme)),this.NotifyObservers($.TrackLoopOn,new Me(this,B.MenuTheme)))}},{key:"createBattleHandler",value:function(t){var e=this,r=t.Sender,n=t.BattleData;r instanceof Nm&&this.removeInteractiveObjectEvents(),this.interactiveObject=new Nm(n),r instanceof Nm&&this.regisrtyInteractiveObjectEvents(),[$.TrackLoopOn,$.TrackOff,$.NextBattle].forEach((function(t){return e.interactiveObject.RegistryObserver(t,e)})),this.NotifyObservers($.TrackOff,new Me(this,B.MenuTheme))}},{key:"setLevelIndex",value:function(t){var e=t.Number;this.startData.levelIndex=e}},{key:"setTankLevel",value:function(t){var e=t.Sender,r=t.Number;e instanceof ac?this.startData.players.firstPlayer.tankLevel=r:e instanceof yc?this.startData.players.secondPlayer.tankLevel=r:e instanceof sr&&(this.startData.players.firstPlayer.tankLevel=r,this.startData.players.secondPlayer.tankLevel=r)}},{key:"changePlayersCount",value:function(t){var e=t.Flag;this.startData.players.couple=e}},{key:"trackLoopOnHandler",value:function(t){this.NotifyObservers($.TrackLoopOn,t)}},{key:"trackOffHandler",value:function(t){this.NotifyObservers($.TrackOff,t)}},{key:"clearTracksHandler",value:function(t){this.NotifyObservers($.ClearTracks,t)}},{key:"nextBattleHandler",value:function(t){this.NotifyObservers($.CreateBattle,t)}},{key:"Action",value:function(t,e){switch(t){case $.ClearTracks:this.clearTracksHandler(e);break;case $.TrackLoopOn:this.trackLoopOnHandler(e);break;case $.TrackOff:this.trackOffHandler(e);break;case $.SetLevelIndex:this.setLevelIndex(e);break;case $.SetTankLevel:this.setTankLevel(e);break;case $.ChangePlayersCount:this.changePlayersCount(e);break;case $.CreateBattle:this.createBattleHandler(e);break;case $.NextBattle:this.nextBattleHandler(e)}Km(Hm(u.prototype),"Action",this).call(this,t,e)}},{key:"initEvents",value:function(){var t=this;[$.TrackOnceOn,$.TrackLoopOn,$.ClearTracks,$.TrackOff,$.SortTracks].forEach((function(e){t.RegistryObserver(e,t.soundData)})),this.RegistryObserver($.CreateBattle,this)}},{key:"SoundData",get:function(){return this.soundData}}],r&&Bm(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Rt);const Mm=r.p+"audio/ConfirmMenu.mp3",Fm=r.p+"audio/ShiftMenu.mp3",Um=r.p+"audio/MenuTheme.mp3",Gm=r.p+"audio/BattleTheme.mp3",Wm=r.p+"audio/Move.mp3",Vm=r.p+"audio/Shot.mp3",Ym=r.p+"audio/Flag.mp3",Xm=r.p+"audio/Bonus.mp3",zm=r.p+"audio/HitEnemy.mp3",Qm=r.p+"audio/HitPlayer.mp3",qm=r.p+"audio/TankBlowUp.mp3";function Jm(t){return Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(t)}function tO(){tO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==Jm(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function eO(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function rO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){eO(i,n,o,u,c,"next",t)}function c(t){eO(i,n,o,u,c,"throw",t)}u(void 0)}))}}function nO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Jm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Jm(o)?o:String(o)),n)}var o}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oO(t,e)}function iO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(t){return uO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uO(t)}var cO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}(p,t);var e,r,n,o,i,u,c,a,s,l,y=(s=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uO(s);if(l){var r=uO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return iO(t)}(this,t)});function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=y.call(this)).InitEvent($.ToggleMuted),e.InitEvent($.ChangeVoluem),e.InitEvent($.SetSaveData),e.audio=new Audio,e.src=t,e.deltaVolume=f.DELTA_VOLUME,[$.ToggleMuted,$.ChangeVoluem,$.SetSaveData].forEach((function(t){return e.RegistryObserver(t,iO(e))})),e}return e=p,r=[{key:"Action",value:function(t,e){switch(t){case $.ToggleMuted:this.toggleMutedHandler(e);break;case $.ChangeVoluem:this.changeVoluemHandler(e);break;case $.SetSaveData:this.setSaveDataHandler(e)}}},{key:"setSaveDataHandler",value:function(t){var e=t.SaveData;this.Audio.muted=e.muted,this.Audio.volume=e.voluem}},{key:"toggleMutedHandler",value:function(t){this.Audio.muted=!this.Audio.muted}},{key:"changeVoluemHandler",value:function(t){var e=t.Flag;try{this.Audio.volume=e?this.Audio.volume+this.deltaVolume:this.Audio.volume-this.deltaVolume}catch(t){}}},{key:"asyncInit",value:(a=rO(tO().mark((function t(){var e=this;return tO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.Audio.addEventListener("loadeddata",(function(){return t()})),e.Audio.addEventListener("error",(function(){return r()})),e.Audio.src=e.src})));case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"Audio",get:function(){return this.audio}},{key:"Duration",get:function(){return this.Audio.duration}},{key:"Play",value:(c=rO(tO().mark((function t(){return tO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.Audio.play();case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"PlayAgain",value:(u=rO(tO().mark((function t(){return tO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.Stop(),this.Play();case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"Loop",value:(i=rO(tO().mark((function t(){return tO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.Audio.loop=!0,this.Play();case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"Pause",value:function(){this.Audio.pause()}},{key:"Stop",value:function(){this.Pause(),this.Audio.currentTime=0,this.Audio.loop=!1}},{key:"IsPlaying",get:function(){return!this.Audio.paused}}],n=[{key:"Create",value:(o=rO(tO().mark((function t(e){var r;return tO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new p(e),t.next=3,r.asyncInit();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&nO(e.prototype,r),n&&nO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(ct);function aO(t){return aO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aO(t)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fO(t,e)}function sO(t){return sO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sO(t)}var lO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sO(r);if(n){var o=sO(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===aO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).SoundData=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function yO(t){return yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yO(t)}function pO(t,e){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pO(t,e)}function hO(t){return hO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hO(t)}var bO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pO(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hO(r);if(n){var o=hO(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).SaveData=e,r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);function vO(t){return vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vO(t)}function dO(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return mO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function mO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OO(){OO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==vO(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function wO(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function gO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){wO(i,n,o,u,c,"next",t)}function c(t){wO(i,n,o,u,c,"throw",t)}u(void 0)}))}}function SO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vO(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vO(o)?o:String(o)),n)}var o}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},EO(t,e)}function _O(t){return _O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_O(t)}var jO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}(h,t);var e,r,n,o,i,u,c,a,f,s,l,y,p=(l=h,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_O(l);if(y){var r=_O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this)).sources=new Map([[B.ShiftMenu,Fm],[B.ConfirmMenu,Mm],[B.MenuTheme,Um],[B.BattleTheme,Gm],[B.Move,Wm],[B.Shot,Vm],[B.Flag,Ym],[B.HitEnemy,zm],[B.HitPlayer,Qm],[B.Bonus,Xm],[B.TankBlowUp,qm]]),t.tracks=new Map,t}return e=h,r=[{key:"Play",value:(s=gO(OO().mark((function t(e){return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.NotifyObservers($.SortTracks,new lt(e)),e.NotifyObservers($.Play,new lO(e,e.SoundData)),e.NotifyObservers($.ClearTracks,new lt(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"playHandler",value:(f=gO(OO().mark((function t(e){var r;return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.SoundData,this.offTracks(r.AudioToOff),this.onceOnTracks(r.AudioToOnceOn),this.loopOnTracks(r.AudioToLoopOn);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"isEmpty",value:function(t){return 0===t.size}},{key:"offTracks",value:function(t){var e=this;this.isEmpty(t)||t.forEach((function(t){e.tracks.get(t).Stop()}))}},{key:"onceOnTracks",value:(a=gO(OO().mark((function t(e){var r=this;return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isEmpty(e)){t.next=2;break}return t.abrupt("return");case 2:e.forEach(function(){var t=gO(OO().mark((function t(e){return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.tracks.get(e).IsPlaying?r.tracks.get(e).PlayAgain():r.tracks.get(e).Play();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"loopOnTracks",value:(c=gO(OO().mark((function t(e){var r=this;return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isEmpty(e)){t.next=2;break}return t.abrupt("return");case 2:e.forEach(function(){var t=gO(OO().mark((function t(e){return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.tracks.get(e).IsPlaying||r.tracks.get(e).Loop();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"toggleMutedHandler",value:function(t){this.tracks.forEach((function(e){return e.NotifyObservers($.ToggleMuted,t)}))}},{key:"changeVoluemHandler",value:function(t){this.tracks.forEach((function(e){return e.NotifyObservers($.ChangeVoluem,t)}))}},{key:"Action",value:(u=gO(OO().mark((function t(e,r){return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===$.Play?3:t.t0===$.ToggleMuted?5:t.t0===$.ChangeVoluem?7:9;break;case 3:return this.playHandler(r),t.abrupt("break",10);case 5:return this.toggleMutedHandler(r),t.abrupt("break",10);case 7:return this.changeVoluemHandler(r),t.abrupt("break",10);case 9:return t.abrupt("break",10);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"asyncInit",value:(i=gO(OO().mark((function t(e){var r,n,o,i,u,c,a,f,s=this;return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Array,n=dO(this.sources.values());try{for(n.s();!(o=n.n()).done;)i=o.value,r.push(cO.Create(i))}catch(t){n.e(t)}finally{n.f()}return t.next=5,Promise.all(r);case 5:u=t.sent,c=dO(this.sources.keys());try{for(c.s();!(a=c.n()).done;)f=a.value,this.tracks.set(f,u[f])}catch(t){c.e(t)}finally{c.f()}this.tracks.forEach((function(t){return t.NotifyObservers($.SetSaveData,new bO(s,e))}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}],n=[{key:"Create",value:(o=gO(OO().mark((function t(e){var r;return OO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new h,t.next=3,r.asyncInit(e);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&SO(e.prototype,r),n&&SO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(ct);function TO(t){return TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TO(t)}function $O(){$O=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==TO(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function PO(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function kO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==TO(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==TO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===TO(o)?o:String(o)),n)}var o}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RO(t,e)}function IO(t){return IO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},IO(t)}var AO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}(a,t);var e,r,n,o,i,u,c=(i=a,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=IO(i);if(u){var r=IO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===TO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=c.call(this)).key=f.LOCAL_STORAGE_KEY,t.load(),t}return e=a,r=[{key:"toggleMutedHandler",value:function(t){this.data.muted=!this.data.muted,this.save()}},{key:"changeVoluemHandler",value:function(t){var e=t.Flag;e&&this.data.voluem<1?this.data.voluem+=f.DELTA_VOLUME:!e&&this.data.voluem>0&&(this.data.voluem-=f.DELTA_VOLUME),this.data.voluem>1?this.data.voluem=1:this.data.voluem<0&&(this.data.voluem=0),this.save()}},{key:"Action",value:(n=$O().mark((function t(e,r){return $O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===$.ToggleMuted?3:t.t0===$.ChangeVoluem?5:7;break;case 3:return this.toggleMutedHandler(r),t.abrupt("break",8);case 5:return this.changeVoluemHandler(r),t.abrupt("break",8);case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){PO(i,r,o,u,c,"next",t)}function c(t){PO(i,r,o,u,c,"throw",t)}u(void 0)}))},function(t,e){return o.apply(this,arguments)})},{key:"save",value:function(){localStorage.setItem(this.key,JSON.stringify(this.data))}},{key:"load",value:function(){var t=localStorage.getItem(this.key);this.data=null===t?{muted:!1,voluem:1}:JSON.parse(t)}},{key:"Data",get:function(){return this.data}}],r&&kO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(nt);function LO(t){return LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LO(t)}function NO(){NO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==LO(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function xO(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function BO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){xO(i,n,o,u,c,"next",t)}function c(t){xO(i,n,o,u,c,"throw",t)}u(void 0)}))}}function KO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==LO(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==LO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===LO(o)?o:String(o)),n)}var o}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ZO(t,e)}function CO(t){return CO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},CO(t)}var HO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}(f,t);var e,r,n,o,i,u,c,a=(u=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=CO(u);if(c){var r=CO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===LO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=a.call(this)).src=t,e.image=new Image,e}return e=f,r=[{key:"asyncInit",value:(i=BO(NO().mark((function t(){var e=this;return NO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.Image.addEventListener("load",(function(){return t()})),e.Image.addEventListener("error",(function(){return r()})),e.Image.src=e.src})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"Image",get:function(){return this.image}}],n=[{key:"Create",value:(o=BO(NO().mark((function t(e){var r;return NO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new f(e),t.next=3,r.asyncInit();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&KO(e.prototype,r),n&&KO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(ct);const DO=r.p+"img/Sprite.png";function MO(t){return MO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MO(t)}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},FO(t,e)}function UO(t){return UO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UO(t)}var GO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FO(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=UO(r);if(n){var o=UO(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===MO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).CX=e,n.Images=r,n}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(lt);const WO=[r.p+"img/Level_01.png",r.p+"img/Level_02.png",r.p+"img/Level_03.png",r.p+"img/Level_04.png",r.p+"img/Level_05.png",r.p+"img/Level_06.png",r.p+"img/Level_07.png",r.p+"img/Level_08.png",r.p+"img/Level_09.png",r.p+"img/Level_10.png",r.p+"img/Level_11.png",r.p+"img/Level_12.png",r.p+"img/Level_13.png",r.p+"img/Level_14.png",r.p+"img/Level_15.png",r.p+"img/Level_16.png",r.p+"img/Level_17.png",r.p+"img/Level_18.png",r.p+"img/Level_19.png",r.p+"img/Level_20.png",r.p+"img/Level_21.png",r.p+"img/Level_22.png",r.p+"img/Level_23.png",r.p+"img/Level_24.png",r.p+"img/Level_25.png",r.p+"img/Level_26.png",r.p+"img/Level_27.png",r.p+"img/Level_28.png",r.p+"img/Level_29.png",r.p+"img/Level_30.png",r.p+"img/Level_31.png"];function VO(t){return VO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VO(t)}function YO(){YO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==VO(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function XO(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function zO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QO(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function qO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){QO(i,n,o,u,c,"next",t)}function c(t){QO(i,n,o,u,c,"throw",t)}u(void 0)}))}}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==VO(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==VO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===VO(o)?o:String(o)),n)}var o}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tw(t,e)}function ew(t){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ew(t)}var rw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}(f,t);var e,r,n,o,i,u,c,a=(u=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ew(u);if(c){var r=ew(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===VO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=a.call(this)).canvas=t,e.cx=e.canvas.getContext("2d"),e}return e=f,r=[{key:"Render",value:function(t){t.NotifyObservers($.Render,new GO(t,this.CX,{Sprite:this.Sprite,MiniMaps:this.MiniMaps}))}},{key:"asyncInit",value:(i=qO(YO().mark((function t(){var e,r,n,o,i;return YO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=HO.Create(DO),(r=Array()).push(e),n=XO(WO);try{for(n.s();!(o=n.n()).done;)i=o.value,r.push(HO.Create(i))}catch(t){n.e(t)}finally{n.f()}return t.next=7,Promise.all(r);case 7:this.miniMaps=t.sent,this.sprite=this.miniMaps.shift();case 9:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"Sprite",get:function(){return this.sprite.Image}},{key:"MiniMaps",get:function(){return this.miniMaps.map((function(t){return t.Image}))}},{key:"CX",get:function(){return this.cx}}],n=[{key:"Create",value:(o=qO(YO().mark((function t(e){var r;return YO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new f(e),t.next=3,r.asyncInit();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&JO(e.prototype,r),n&&JO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(ct);function nw(t){return nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(t)}function ow(){ow=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==nw(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function iw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uw(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function cw(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){uw(i,n,o,u,c,"next",t)}function c(t){uw(i,n,o,u,c,"throw",t)}u(void 0)}))}}function aw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nw(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nw(o)?o:String(o)),n)}var o}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fw(t,e)}function sw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lw(t)}var yw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}(l,t);var e,r,n,o,i,u,c,a,f,s=(a=l,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lw(a);if(f){var r=lw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sw(t)}(this,t)});function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).keyboard=new Et,t.model=new Dm,t.storage=new AO,t.loop=t.loop.bind(sw(t)),t}return e=l,r=[{key:"initEvents",value:function(){var t=this;this.model.RegistryObserver($.Play,this.sound),[$.ToggleMuted,$.ChangeVoluem].forEach((function(e){return t.keyboard.RegistryObservers(e,[t.sound,t.storage])}))}},{key:"asyncInit",value:(c=cw(ow().mark((function t(e){var r,n;return ow().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([rw.Create(e),jO.Create(this.storage.Data)]);case 2:r=t.sent,i=2,n=function(t){if(Array.isArray(t))return t}(o=r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,f=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){f=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(f)throw o}}return c}}(o,i)||function(t,e){if(t){if("string"==typeof t)return iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iw(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.view=n[0],this.sound=n[1];case 6:case"end":return t.stop()}var o,i}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"loop",value:(u=cw(ow().mark((function t(){return ow().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.model.Update(this.keyboard.Keys),this.view.Render(this.model),this.sound.Play(this.model),requestAnimationFrame(this.loop);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"Start",value:(i=cw(ow().mark((function t(){return ow().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loop();case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n=[{key:"Create",value:(o=cw(ow().mark((function t(e){var r;return ow().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new l,t.next=3,r.asyncInit(e);case 3:return r.initEvents(),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&aw(e.prototype,r),n&&aw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(ct);function pw(t){return pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(t)}function hw(){hw=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new j(o||[]);return n(u,"_invoke",{value:g(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l={};function y(){}function p(){}function h(){}var b={};a(b,i,(function(){return this}));var v=Object.getPrototypeOf,d=v&&v(v(T([])));d&&d!==e&&r.call(d,i)&&(b=d);var m=h.prototype=y.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==pw(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function g(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=a(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},O(w.prototype),a(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new w(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function bw(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}var vw=document.querySelector(".canvas"),dw=document.querySelector(".start"),mw=window.innerWidth,Ow=window.innerHeight/2-f.GAME_HEIGHT/2,ww=mw/2-f.GAME_WIDTH/2;vw.width=f.GAME_WIDTH,vw.height=f.GAME_HEIGHT,vw.style.cssText="\n   left: ".concat(ww,"px;\n   top: ").concat(Ow,"px\n"),vw.hidden=!0,dw.addEventListener("click",function(){var t,e=(t=hw().mark((function t(e){var r;return hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return dw.hidden=!0,vw.hidden=!1,t.next=4,yw.Create(vw);case 4:return r=t.sent,t.next=7,r.Start();case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){bw(i,n,o,u,c,"next",t)}function c(t){bw(i,n,o,u,c,"throw",t)}u(void 0)}))});return function(t){return e.apply(this,arguments)}}())})()})();